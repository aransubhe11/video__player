{"ast":null,"code":"\"use client\";\n\n// src/icons.tsx\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar ICON_SIZE = 25;\nvar fullscreenIconSize = 16;\nvar PlayIcon = () => {\n  return /* @__PURE__ */jsx(\"svg\", {\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    viewBox: \"0 0 25 25\",\n    fill: \"none\",\n    children: /* @__PURE__ */jsx(\"path\", {\n      d: \"M8 6.375C7.40904 8.17576 7.06921 10.2486 7.01438 12.3871C6.95955 14.5255 7.19163 16.6547 7.6875 18.5625C9.95364 18.2995 12.116 17.6164 14.009 16.5655C15.902 15.5147 17.4755 14.124 18.6088 12.5C17.5158 10.8949 15.9949 9.51103 14.1585 8.45082C12.3222 7.3906 10.2174 6.68116 8 6.375Z\",\n      fill: \"white\",\n      stroke: \"white\",\n      strokeWidth: \"6.25\",\n      strokeLinejoin: \"round\"\n    })\n  });\n};\nvar PauseIcon = () => {\n  return /* @__PURE__ */jsxs(\"svg\", {\n    viewBox: \"0 0 100 100\",\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    children: [/* @__PURE__ */jsx(\"rect\", {\n      x: \"25\",\n      y: \"20\",\n      width: \"20\",\n      height: \"60\",\n      fill: \"#fff\",\n      ry: \"5\",\n      rx: \"5\"\n    }), /* @__PURE__ */jsx(\"rect\", {\n      x: \"55\",\n      y: \"20\",\n      width: \"20\",\n      height: \"60\",\n      fill: \"#fff\",\n      ry: \"5\",\n      rx: \"5\"\n    })]\n  });\n};\nvar FullscreenIcon = ({\n  isFullscreen\n}) => {\n  const strokeWidth = 6;\n  const viewSize = 32;\n  const out = isFullscreen ? 0 : strokeWidth / 2;\n  const middleInset = isFullscreen ? strokeWidth * 1.6 : strokeWidth / 2;\n  const inset = isFullscreen ? strokeWidth * 1.6 : strokeWidth * 2;\n  return /* @__PURE__ */jsxs(\"svg\", {\n    viewBox: `0 0 ${viewSize} ${viewSize}`,\n    height: fullscreenIconSize,\n    width: fullscreenIconSize,\n    children: [/* @__PURE__ */jsx(\"path\", {\n      d: `\n\t\t\t\tM ${out} ${inset}\n\t\t\t\tL ${middleInset} ${middleInset}\n\t\t\t\tL ${inset} ${out}\n\t\t\t\t`,\n      stroke: \"#fff\",\n      strokeWidth,\n      fill: \"none\"\n    }), /* @__PURE__ */jsx(\"path\", {\n      d: `\n\t\t\t\tM ${viewSize - out} ${inset}\n\t\t\t\tL ${viewSize - middleInset} ${middleInset}\n\t\t\t\tL ${viewSize - inset} ${out}\n\t\t\t\t`,\n      stroke: \"#fff\",\n      strokeWidth,\n      fill: \"none\"\n    }), /* @__PURE__ */jsx(\"path\", {\n      d: `\n\t\t\t\tM ${out} ${viewSize - inset}\n\t\t\t\tL ${middleInset} ${viewSize - middleInset}\n\t\t\t\tL ${inset} ${viewSize - out}\n\t\t\t\t`,\n      stroke: \"#fff\",\n      strokeWidth,\n      fill: \"none\"\n    }), /* @__PURE__ */jsx(\"path\", {\n      d: `\n\t\t\t\tM ${viewSize - out} ${viewSize - inset}\n\t\t\t\tL ${viewSize - middleInset} ${viewSize - middleInset}\n\t\t\t\tL ${viewSize - inset} ${viewSize - out}\n\t\t\t\t`,\n      stroke: \"#fff\",\n      strokeWidth,\n      fill: \"none\"\n    })]\n  });\n};\nvar VolumeOffIcon = () => {\n  return /* @__PURE__ */jsx(\"svg\", {\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    viewBox: \"0 0 24 24\",\n    children: /* @__PURE__ */jsx(\"path\", {\n      d: \"M3.63 3.63a.996.996 0 000 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 101.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0014 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z\",\n      fill: \"#fff\"\n    })\n  });\n};\nvar VolumeOnIcon = () => {\n  return /* @__PURE__ */jsx(\"svg\", {\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    viewBox: \"0 0 24 24\",\n    children: /* @__PURE__ */jsx(\"path\", {\n      d: \"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\",\n      fill: \"#fff\"\n    })\n  });\n};\n\n// src/BufferingIndicator.tsx\nimport { jsx as jsx2, jsxs as jsxs2, Fragment } from \"react/jsx-runtime\";\nvar className = \"__remotion_buffering_indicator\";\nvar remotionBufferingAnimation = \"__remotion_buffering_animation\";\nvar playerStyle = {\n  width: ICON_SIZE,\n  height: ICON_SIZE,\n  overflow: \"hidden\",\n  lineHeight: \"normal\",\n  fontSize: \"inherit\"\n};\nvar studioStyle = {\n  width: 14,\n  height: 14,\n  overflow: \"hidden\",\n  lineHeight: \"normal\",\n  fontSize: \"inherit\"\n};\nvar BufferingIndicator = ({\n  type\n}) => {\n  const style = type === \"player\" ? playerStyle : studioStyle;\n  return /* @__PURE__ */jsxs2(Fragment, {\n    children: [/* @__PURE__ */jsx2(\"style\", {\n      type: \"text/css\",\n      children: `\n\t\t\t\t@keyframes ${remotionBufferingAnimation} {\n          0% {\n            rotate: 0deg;\n          }\n          100% {\n            rotate: 360deg;\n          }\n        }\n        \n        .${className} {\n            animation: ${remotionBufferingAnimation} 1s linear infinite;\n        }        \n\t\t\t`\n    }), /* @__PURE__ */jsx2(\"div\", {\n      style,\n      children: /* @__PURE__ */jsx2(\"svg\", {\n        viewBox: type === \"player\" ? \"0 0 22 22\" : \"0 0 18 18\",\n        style,\n        className,\n        children: /* @__PURE__ */jsx2(\"path\", {\n          d: type === \"player\" ? \"M 11 4 A 7 7 0 0 1 15.1145 16.66312\" : \"M 9 2 A 7 7 0 0 1 13.1145 14.66312\",\n          stroke: \"white\",\n          strokeLinecap: \"round\",\n          fill: \"none\",\n          strokeWidth: 3\n        })\n      })\n    })]\n  });\n};\n\n// src/calculate-scale.ts\nimport { Internals } from \"remotion\";\n\n// src/utils/calculate-player-size.ts\nvar calculatePlayerSize = ({\n  currentSize,\n  width,\n  height,\n  compositionWidth,\n  compositionHeight\n}) => {\n  if (width !== undefined && height === undefined) {\n    return {\n      aspectRatio: [compositionWidth, compositionHeight].join(\"/\")\n    };\n  }\n  if (height !== undefined && width === undefined) {\n    return {\n      aspectRatio: [compositionWidth, compositionHeight].join(\"/\")\n    };\n  }\n  if (!currentSize) {\n    return {\n      width: compositionWidth,\n      height: compositionHeight\n    };\n  }\n  return {\n    width: compositionWidth,\n    height: compositionHeight\n  };\n};\n\n// src/calculate-scale.ts\nvar calculateCanvasTransformation = ({\n  previewSize,\n  compositionWidth,\n  compositionHeight,\n  canvasSize\n}) => {\n  const scale = Internals.calculateScale({\n    canvasSize,\n    compositionHeight,\n    compositionWidth,\n    previewSize\n  });\n  const correction = 0 - (1 - scale) / 2;\n  const xCorrection = correction * compositionWidth;\n  const yCorrection = correction * compositionHeight;\n  const width = compositionWidth * scale;\n  const height = compositionHeight * scale;\n  const centerX = canvasSize.width / 2 - width / 2;\n  const centerY = canvasSize.height / 2 - height / 2;\n  return {\n    centerX,\n    centerY,\n    xCorrection,\n    yCorrection,\n    scale\n  };\n};\nvar calculateOuterStyle = ({\n  config,\n  style,\n  canvasSize,\n  overflowVisible,\n  layout\n}) => {\n  if (!config) {\n    return {};\n  }\n  return {\n    position: \"relative\",\n    overflow: overflowVisible ? \"visible\" : \"hidden\",\n    ...calculatePlayerSize({\n      compositionHeight: config.height,\n      compositionWidth: config.width,\n      currentSize: canvasSize,\n      height: style?.height,\n      width: style?.width\n    }),\n    opacity: layout ? 1 : 0,\n    ...style\n  };\n};\nvar calculateContainerStyle = ({\n  config,\n  canvasSize,\n  layout,\n  scale,\n  overflowVisible\n}) => {\n  if (!config || !canvasSize || !layout) {\n    return {};\n  }\n  return {\n    position: \"absolute\",\n    width: config.width,\n    height: config.height,\n    display: \"flex\",\n    transform: `scale(${scale})`,\n    marginLeft: layout.xCorrection,\n    marginTop: layout.yCorrection,\n    overflow: overflowVisible ? \"visible\" : \"hidden\"\n  };\n};\nvar calculateOuter = ({\n  layout,\n  scale,\n  config,\n  overflowVisible\n}) => {\n  if (!layout || !config) {\n    return {};\n  }\n  const {\n    centerX,\n    centerY\n  } = layout;\n  return {\n    width: config.width * scale,\n    height: config.height * scale,\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"absolute\",\n    left: centerX,\n    top: centerY,\n    overflow: overflowVisible ? \"visible\" : \"hidden\"\n  };\n};\n\n// src/emitter-context.ts\nimport React from \"react\";\nvar PlayerEventEmitterContext = React.createContext(undefined);\nvar ThumbnailEmitterContext = React.createContext(undefined);\n\n// src/EmitterProvider.tsx\nimport { useContext as useContext2, useEffect as useEffect2, useState } from \"react\";\nimport { Internals as Internals3 } from \"remotion\";\n\n// src/event-emitter.ts\nclass PlayerEmitter {\n  listeners = {\n    ended: [],\n    error: [],\n    pause: [],\n    play: [],\n    ratechange: [],\n    scalechange: [],\n    seeked: [],\n    timeupdate: [],\n    frameupdate: [],\n    fullscreenchange: [],\n    volumechange: [],\n    mutechange: [],\n    waiting: [],\n    resume: []\n  };\n  addEventListener(name, callback) {\n    this.listeners[name].push(callback);\n  }\n  removeEventListener(name, callback) {\n    this.listeners[name] = this.listeners[name].filter(l => l !== callback);\n  }\n  dispatchEvent(dispatchName, context) {\n    this.listeners[dispatchName].forEach(callback => {\n      callback({\n        detail: context\n      });\n    });\n  }\n  dispatchSeek(frame) {\n    this.dispatchEvent(\"seeked\", {\n      frame\n    });\n  }\n  dispatchVolumeChange(volume) {\n    this.dispatchEvent(\"volumechange\", {\n      volume\n    });\n  }\n  dispatchPause() {\n    this.dispatchEvent(\"pause\", undefined);\n  }\n  dispatchPlay() {\n    this.dispatchEvent(\"play\", undefined);\n  }\n  dispatchEnded() {\n    this.dispatchEvent(\"ended\", undefined);\n  }\n  dispatchRateChange(playbackRate) {\n    this.dispatchEvent(\"ratechange\", {\n      playbackRate\n    });\n  }\n  dispatchScaleChange(scale) {\n    this.dispatchEvent(\"scalechange\", {\n      scale\n    });\n  }\n  dispatchError(error) {\n    this.dispatchEvent(\"error\", {\n      error\n    });\n  }\n  dispatchTimeUpdate(event) {\n    this.dispatchEvent(\"timeupdate\", event);\n  }\n  dispatchFrameUpdate(event) {\n    this.dispatchEvent(\"frameupdate\", event);\n  }\n  dispatchFullscreenChange(event) {\n    this.dispatchEvent(\"fullscreenchange\", event);\n  }\n  dispatchMuteChange(event) {\n    this.dispatchEvent(\"mutechange\", event);\n  }\n  dispatchWaiting(event) {\n    this.dispatchEvent(\"waiting\", event);\n  }\n  dispatchResume(event) {\n    this.dispatchEvent(\"resume\", event);\n  }\n}\nclass ThumbnailEmitter {\n  listeners = {\n    error: [],\n    waiting: [],\n    resume: []\n  };\n  addEventListener(name, callback) {\n    this.listeners[name].push(callback);\n  }\n  removeEventListener(name, callback) {\n    this.listeners[name] = this.listeners[name].filter(l => l !== callback);\n  }\n  dispatchEvent(dispatchName, context) {\n    this.listeners[dispatchName].forEach(callback => {\n      callback({\n        detail: context\n      });\n    });\n  }\n  dispatchError(error) {\n    this.dispatchEvent(\"error\", {\n      error\n    });\n  }\n  dispatchWaiting(event) {\n    this.dispatchEvent(\"waiting\", event);\n  }\n  dispatchResume(event) {\n    this.dispatchEvent(\"resume\", event);\n  }\n}\n\n// src/use-buffer-state-emitter.ts\nimport { useContext, useEffect } from \"react\";\nimport { Internals as Internals2 } from \"remotion\";\nvar useBufferStateEmitter = emitter => {\n  const bufferManager = useContext(Internals2.BufferingContextReact);\n  if (!bufferManager) {\n    throw new Error(\"BufferingContextReact not found\");\n  }\n  useEffect(() => {\n    const clear1 = bufferManager.listenForBuffering(() => {\n      bufferManager.buffering.current = true;\n      emitter.dispatchWaiting({});\n    });\n    const clear2 = bufferManager.listenForResume(() => {\n      bufferManager.buffering.current = false;\n      emitter.dispatchResume({});\n    });\n    return () => {\n      clear1.remove();\n      clear2.remove();\n    };\n  }, [bufferManager, emitter]);\n};\n\n// src/EmitterProvider.tsx\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nvar PlayerEmitterProvider = ({\n  children,\n  currentPlaybackRate\n}) => {\n  const [emitter] = useState(() => new PlayerEmitter());\n  const bufferManager = useContext2(Internals3.BufferingContextReact);\n  if (!bufferManager) {\n    throw new Error(\"BufferingContextReact not found\");\n  }\n  useEffect2(() => {\n    if (currentPlaybackRate) {\n      emitter.dispatchRateChange(currentPlaybackRate);\n    }\n  }, [emitter, currentPlaybackRate]);\n  useBufferStateEmitter(emitter);\n  return /* @__PURE__ */jsx3(PlayerEventEmitterContext.Provider, {\n    value: emitter,\n    children\n  });\n};\n\n// src/use-hover-state.ts\nimport { useEffect as useEffect3, useState as useState2 } from \"react\";\nvar useHoverState = (ref, hideControlsWhenPointerDoesntMove) => {\n  const [hovered, setHovered] = useState2(false);\n  useEffect3(() => {\n    const {\n      current\n    } = ref;\n    if (!current) {\n      return;\n    }\n    let hoverTimeout;\n    const addHoverTimeout = () => {\n      if (hideControlsWhenPointerDoesntMove) {\n        clearTimeout(hoverTimeout);\n        hoverTimeout = setTimeout(() => {\n          setHovered(false);\n        }, hideControlsWhenPointerDoesntMove === true ? 3000 : hideControlsWhenPointerDoesntMove);\n      }\n    };\n    const onHover = () => {\n      setHovered(true);\n      addHoverTimeout();\n    };\n    const onLeave = () => {\n      setHovered(false);\n      clearTimeout(hoverTimeout);\n    };\n    const onMove = () => {\n      setHovered(true);\n      addHoverTimeout();\n    };\n    current.addEventListener(\"mouseenter\", onHover);\n    current.addEventListener(\"mouseleave\", onLeave);\n    current.addEventListener(\"mousemove\", onMove);\n    return () => {\n      current.removeEventListener(\"mouseenter\", onHover);\n      current.removeEventListener(\"mouseleave\", onLeave);\n      current.removeEventListener(\"mousemove\", onMove);\n      clearTimeout(hoverTimeout);\n    };\n  }, [hideControlsWhenPointerDoesntMove, ref]);\n  return hovered;\n};\n\n// src/use-playback.ts\nimport { useContext as useContext4, useEffect as useEffect5, useRef as useRef3 } from \"react\";\nimport { Internals as Internals5 } from \"remotion\";\n\n// src/calculate-next-frame.ts\nvar calculateNextFrame = ({\n  time,\n  currentFrame: startFrame,\n  playbackSpeed,\n  fps,\n  actualLastFrame,\n  actualFirstFrame,\n  framesAdvanced,\n  shouldLoop\n}) => {\n  const op = playbackSpeed < 0 ? Math.ceil : Math.floor;\n  const framesToAdvance = op(time * playbackSpeed / (1000 / fps)) - framesAdvanced;\n  const nextFrame = framesToAdvance + startFrame;\n  const isCurrentFrameOutside = startFrame > actualLastFrame || startFrame < actualFirstFrame;\n  const isNextFrameOutside = nextFrame > actualLastFrame || nextFrame < actualFirstFrame;\n  const hasEnded = !shouldLoop && isNextFrameOutside && !isCurrentFrameOutside;\n  if (playbackSpeed > 0) {\n    if (isNextFrameOutside) {\n      return {\n        nextFrame: actualFirstFrame,\n        framesToAdvance,\n        hasEnded\n      };\n    }\n    return {\n      nextFrame,\n      framesToAdvance,\n      hasEnded\n    };\n  }\n  if (isNextFrameOutside) {\n    return {\n      nextFrame: actualLastFrame,\n      framesToAdvance,\n      hasEnded\n    };\n  }\n  return {\n    nextFrame,\n    framesToAdvance,\n    hasEnded\n  };\n};\n\n// src/is-backgrounded.ts\nimport { useEffect as useEffect4, useRef } from \"react\";\nvar getIsBackgrounded = () => {\n  if (typeof document === \"undefined\") {\n    return false;\n  }\n  return document.visibilityState === \"hidden\";\n};\nvar useIsBackgrounded = () => {\n  const isBackgrounded = useRef(getIsBackgrounded());\n  useEffect4(() => {\n    const onVisibilityChange = () => {\n      isBackgrounded.current = getIsBackgrounded();\n    };\n    document.addEventListener(\"visibilitychange\", onVisibilityChange);\n    return () => {\n      document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n    };\n  }, []);\n  return isBackgrounded;\n};\n\n// src/use-player.ts\nimport { useCallback, useContext as useContext3, useMemo, useRef as useRef2, useState as useState3 } from \"react\";\nimport { Internals as Internals4 } from \"remotion\";\nvar usePlayer = () => {\n  const [playing, setPlaying, imperativePlaying] = Internals4.Timeline.usePlayingState();\n  const [hasPlayed, setHasPlayed] = useState3(false);\n  const frame = Internals4.Timeline.useTimelinePosition();\n  const playStart = useRef2(frame);\n  const setFrame = Internals4.Timeline.useTimelineSetFrame();\n  const setTimelinePosition = Internals4.Timeline.useTimelineSetFrame();\n  const audioContext = useContext3(Internals4.SharedAudioContext);\n  const {\n    audioAndVideoTags\n  } = useContext3(Internals4.Timeline.TimelineContext);\n  const frameRef = useRef2(frame);\n  frameRef.current = frame;\n  const video = Internals4.useVideo();\n  const config = Internals4.useUnsafeVideoConfig();\n  const emitter = useContext3(PlayerEventEmitterContext);\n  const lastFrame = (config?.durationInFrames ?? 1) - 1;\n  const isLastFrame = frame === lastFrame;\n  const isFirstFrame = frame === 0;\n  if (!emitter) {\n    throw new TypeError(\"Expected Player event emitter context\");\n  }\n  const bufferingContext = useContext3(Internals4.BufferingContextReact);\n  if (!bufferingContext) {\n    throw new Error(\"Missing the buffering context. Most likely you have a Remotion version mismatch.\");\n  }\n  const {\n    buffering\n  } = bufferingContext;\n  const seek = useCallback(newFrame => {\n    if (video?.id) {\n      setTimelinePosition(c => ({\n        ...c,\n        [video.id]: newFrame\n      }));\n    }\n    frameRef.current = newFrame;\n    emitter.dispatchSeek(newFrame);\n  }, [emitter, setTimelinePosition, video?.id]);\n  const play = useCallback(e => {\n    if (imperativePlaying.current) {\n      return;\n    }\n    setHasPlayed(true);\n    if (isLastFrame) {\n      seek(0);\n    }\n    if (audioContext && audioContext.numberOfAudioTags > 0 && e) {\n      audioContext.playAllAudios();\n    }\n    audioAndVideoTags.current.forEach(a => a.play());\n    imperativePlaying.current = true;\n    setPlaying(true);\n    playStart.current = frameRef.current;\n    emitter.dispatchPlay();\n  }, [imperativePlaying, isLastFrame, audioContext, setPlaying, emitter, seek, audioAndVideoTags]);\n  const pause = useCallback(() => {\n    if (imperativePlaying.current) {\n      imperativePlaying.current = false;\n      setPlaying(false);\n      emitter.dispatchPause();\n    }\n  }, [emitter, imperativePlaying, setPlaying]);\n  const pauseAndReturnToPlayStart = useCallback(() => {\n    if (imperativePlaying.current) {\n      imperativePlaying.current = false;\n      frameRef.current = playStart.current;\n      if (config) {\n        setTimelinePosition(c => ({\n          ...c,\n          [config.id]: playStart.current\n        }));\n        setPlaying(false);\n        emitter.dispatchPause();\n      }\n    }\n  }, [config, emitter, imperativePlaying, setPlaying, setTimelinePosition]);\n  const videoId = video?.id;\n  const frameBack = useCallback(frames => {\n    if (!videoId) {\n      return null;\n    }\n    if (imperativePlaying.current) {\n      return;\n    }\n    setFrame(c => {\n      const prev = c[videoId] ?? window.remotion_initialFrame ?? 0;\n      return {\n        ...c,\n        [videoId]: Math.max(0, prev - frames)\n      };\n    });\n  }, [imperativePlaying, setFrame, videoId]);\n  const frameForward = useCallback(frames => {\n    if (!videoId) {\n      return null;\n    }\n    if (imperativePlaying.current) {\n      return;\n    }\n    setFrame(c => {\n      const prev = c[videoId] ?? window.remotion_initialFrame ?? 0;\n      return {\n        ...c,\n        [videoId]: Math.min(lastFrame, prev + frames)\n      };\n    });\n  }, [videoId, imperativePlaying, lastFrame, setFrame]);\n  const returnValue = useMemo(() => {\n    return {\n      frameBack,\n      frameForward,\n      isLastFrame,\n      emitter,\n      playing,\n      play,\n      pause,\n      seek,\n      isFirstFrame,\n      getCurrentFrame: () => frameRef.current,\n      isPlaying: () => imperativePlaying.current,\n      isBuffering: () => buffering.current,\n      pauseAndReturnToPlayStart,\n      hasPlayed,\n      remotionInternal_currentFrameRef: frameRef\n    };\n  }, [frameBack, frameForward, isLastFrame, emitter, playing, play, pause, seek, isFirstFrame, pauseAndReturnToPlayStart, hasPlayed, imperativePlaying, buffering]);\n  return returnValue;\n};\n\n// src/use-playback.ts\nvar usePlayback = ({\n  loop,\n  playbackRate,\n  moveToBeginningWhenEnded,\n  inFrame,\n  outFrame,\n  frameRef\n}) => {\n  const config = Internals5.useUnsafeVideoConfig();\n  const frame = Internals5.Timeline.useTimelinePosition();\n  const {\n    playing,\n    pause,\n    emitter\n  } = usePlayer();\n  const setFrame = Internals5.Timeline.useTimelineSetFrame();\n  const buffering = useRef3(null);\n  const isBackgroundedRef = useIsBackgrounded();\n  const lastTimeUpdateEvent = useRef3(null);\n  const context = useContext4(Internals5.BufferingContextReact);\n  if (!context) {\n    throw new Error(\"Missing the buffering context. Most likely you have a Remotion version mismatch.\");\n  }\n  useEffect5(() => {\n    const onBufferClear = context.listenForBuffering(() => {\n      buffering.current = performance.now();\n    });\n    const onResumeClear = context.listenForResume(() => {\n      buffering.current = null;\n    });\n    return () => {\n      onBufferClear.remove();\n      onResumeClear.remove();\n    };\n  }, [context]);\n  useEffect5(() => {\n    if (!config) {\n      return;\n    }\n    if (!playing) {\n      return;\n    }\n    let hasBeenStopped = false;\n    let reqAnimFrameCall = null;\n    let startedTime = performance.now();\n    let framesAdvanced = 0;\n    const cancelQueuedFrame = () => {\n      if (reqAnimFrameCall !== null) {\n        if (reqAnimFrameCall.type === \"raf\") {\n          cancelAnimationFrame(reqAnimFrameCall.id);\n        } else {\n          clearTimeout(reqAnimFrameCall.id);\n        }\n      }\n    };\n    const stop = () => {\n      hasBeenStopped = true;\n      cancelQueuedFrame();\n    };\n    const callback = () => {\n      const time = performance.now() - startedTime;\n      const actualLastFrame = outFrame ?? config.durationInFrames - 1;\n      const actualFirstFrame = inFrame ?? 0;\n      const currentFrame = frameRef.current;\n      const {\n        nextFrame,\n        framesToAdvance,\n        hasEnded\n      } = calculateNextFrame({\n        time,\n        currentFrame,\n        playbackSpeed: playbackRate,\n        fps: config.fps,\n        actualFirstFrame,\n        actualLastFrame,\n        framesAdvanced,\n        shouldLoop: loop\n      });\n      framesAdvanced += framesToAdvance;\n      if (nextFrame !== frameRef.current && (!hasEnded || moveToBeginningWhenEnded)) {\n        setFrame(c => ({\n          ...c,\n          [config.id]: nextFrame\n        }));\n      }\n      if (hasEnded) {\n        stop();\n        pause();\n        emitter.dispatchEnded();\n        return;\n      }\n      if (!hasBeenStopped) {\n        queueNextFrame();\n      }\n    };\n    const queueNextFrame = () => {\n      if (buffering.current) {\n        const stopListening = context.listenForResume(() => {\n          stopListening.remove();\n          if (hasBeenStopped) {\n            return;\n          }\n          startedTime = performance.now();\n          framesAdvanced = 0;\n          callback();\n        });\n        return;\n      }\n      if (isBackgroundedRef.current) {\n        reqAnimFrameCall = {\n          type: \"timeout\",\n          id: setTimeout(callback, 1000 / config.fps)\n        };\n      } else {\n        reqAnimFrameCall = {\n          type: \"raf\",\n          id: requestAnimationFrame(callback)\n        };\n      }\n    };\n    queueNextFrame();\n    const onVisibilityChange = () => {\n      if (document.visibilityState === \"visible\") {\n        return;\n      }\n      cancelQueuedFrame();\n      callback();\n    };\n    window.addEventListener(\"visibilitychange\", onVisibilityChange);\n    return () => {\n      window.removeEventListener(\"visibilitychange\", onVisibilityChange);\n      stop();\n    };\n  }, [config, loop, pause, playing, setFrame, emitter, playbackRate, inFrame, outFrame, moveToBeginningWhenEnded, isBackgroundedRef, frameRef, buffering, context]);\n  useEffect5(() => {\n    const interval = setInterval(() => {\n      if (lastTimeUpdateEvent.current === frameRef.current) {\n        return;\n      }\n      emitter.dispatchTimeUpdate({\n        frame: frameRef.current\n      });\n      lastTimeUpdateEvent.current = frameRef.current;\n    }, 250);\n    return () => clearInterval(interval);\n  }, [emitter, frameRef]);\n  useEffect5(() => {\n    emitter.dispatchFrameUpdate({\n      frame\n    });\n  }, [emitter, frame]);\n};\n\n// src/utils/use-element-size.ts\nimport { useCallback as useCallback2, useEffect as useEffect6, useMemo as useMemo2, useState as useState4 } from \"react\";\nvar elementSizeHooks = [];\nvar updateAllElementsSizes = () => {\n  for (const listener of elementSizeHooks) {\n    listener();\n  }\n};\nvar useElementSize = (ref, options) => {\n  const [size, setSize] = useState4(() => {\n    if (!ref.current) {\n      return null;\n    }\n    const rect = ref.current.getClientRects();\n    if (!rect[0]) {\n      return null;\n    }\n    return {\n      width: rect[0].width,\n      height: rect[0].height,\n      left: rect[0].x,\n      top: rect[0].y,\n      windowSize: {\n        height: window.innerHeight,\n        width: window.innerWidth\n      }\n    };\n  });\n  const observer = useMemo2(() => {\n    if (typeof ResizeObserver === \"undefined\") {\n      return null;\n    }\n    return new ResizeObserver(entries => {\n      const {\n        contentRect,\n        target\n      } = entries[0];\n      const newSize = target.getClientRects();\n      if (!newSize?.[0]) {\n        setSize(null);\n        return;\n      }\n      const probableCssParentScale = contentRect.width === 0 ? 1 : newSize[0].width / contentRect.width;\n      const width = options.shouldApplyCssTransforms ? newSize[0].width : newSize[0].width * (1 / probableCssParentScale);\n      const height = options.shouldApplyCssTransforms ? newSize[0].height : newSize[0].height * (1 / probableCssParentScale);\n      setSize({\n        width,\n        height,\n        left: newSize[0].x,\n        top: newSize[0].y,\n        windowSize: {\n          height: window.innerHeight,\n          width: window.innerWidth\n        }\n      });\n    });\n  }, [options.shouldApplyCssTransforms]);\n  const updateSize = useCallback2(() => {\n    if (!ref.current) {\n      return;\n    }\n    const rect = ref.current.getClientRects();\n    if (!rect[0]) {\n      setSize(null);\n      return;\n    }\n    setSize(prevState => {\n      const isSame = prevState && prevState.width === rect[0].width && prevState.height === rect[0].height && prevState.left === rect[0].x && prevState.top === rect[0].y && prevState.windowSize.height === window.innerHeight && prevState.windowSize.width === window.innerWidth;\n      if (isSame) {\n        return prevState;\n      }\n      return {\n        width: rect[0].width,\n        height: rect[0].height,\n        left: rect[0].x,\n        top: rect[0].y,\n        windowSize: {\n          height: window.innerHeight,\n          width: window.innerWidth\n        }\n      };\n    });\n  }, [ref]);\n  useEffect6(() => {\n    if (!observer) {\n      return;\n    }\n    const {\n      current\n    } = ref;\n    if (current) {\n      observer.observe(current);\n    }\n    return () => {\n      if (current) {\n        observer.unobserve(current);\n      }\n    };\n  }, [observer, ref, updateSize]);\n  useEffect6(() => {\n    if (!options.triggerOnWindowResize) {\n      return;\n    }\n    window.addEventListener(\"resize\", updateSize);\n    return () => {\n      window.removeEventListener(\"resize\", updateSize);\n    };\n  }, [options.triggerOnWindowResize, updateSize]);\n  useEffect6(() => {\n    elementSizeHooks.push(updateSize);\n    return () => {\n      elementSizeHooks = elementSizeHooks.filter(e => e !== updateSize);\n    };\n  }, [updateSize]);\n  return useMemo2(() => {\n    if (!size) {\n      return null;\n    }\n    return {\n      ...size,\n      refresh: updateSize\n    };\n  }, [size, updateSize]);\n};\n\n// src/Player.tsx\nimport { forwardRef as forwardRef2, useEffect as useEffect12, useImperativeHandle as useImperativeHandle2, useLayoutEffect, useMemo as useMemo13, useRef as useRef10, useState as useState13 } from \"react\";\nimport { Composition, Internals as Internals12 } from \"remotion\";\n\n// src/PlayerUI.tsx\nimport React8, { Suspense, forwardRef, useCallback as useCallback10, useContext as useContext6, useEffect as useEffect11, useImperativeHandle, useMemo as useMemo11, useRef as useRef9, useState as useState11 } from \"react\";\nimport { Internals as Internals10 } from \"remotion\";\n\n// src/PlayerControls.tsx\nimport { useCallback as useCallback7, useEffect as useEffect10, useMemo as useMemo8, useRef as useRef7, useState as useState10 } from \"react\";\nimport { Internals as Internals9 } from \"remotion\";\n\n// src/DefaultPlayPauseButton.tsx\nimport { jsx as jsx4 } from \"react/jsx-runtime\";\nvar DefaultPlayPauseButton = ({\n  playing,\n  buffering\n}) => {\n  if (playing && buffering) {\n    return /* @__PURE__ */jsx4(BufferingIndicator, {\n      type: \"player\"\n    });\n  }\n  if (playing) {\n    return /* @__PURE__ */jsx4(PauseIcon, {});\n  }\n  return /* @__PURE__ */jsx4(PlayIcon, {});\n};\n\n// src/MediaVolumeSlider.tsx\nimport { useCallback as useCallback4, useMemo as useMemo4, useRef as useRef4, useState as useState6 } from \"react\";\nimport { Internals as Internals6 } from \"remotion\";\n\n// src/render-volume-slider.tsx\nimport React3, { useCallback as useCallback3, useMemo as useMemo3, useState as useState5 } from \"react\";\nimport { random } from \"remotion\";\nimport { jsx as jsx5, jsxs as jsxs3 } from \"react/jsx-runtime\";\nvar KNOB_SIZE = 12;\nvar BAR_HEIGHT = 5;\nvar DefaultVolumeSlider = ({\n  volume,\n  isVertical,\n  onBlur,\n  inputRef,\n  setVolume\n}) => {\n  const sliderContainer = useMemo3(() => {\n    const paddingLeft = 5;\n    const common = {\n      paddingLeft,\n      height: ICON_SIZE,\n      width: VOLUME_SLIDER_WIDTH,\n      display: \"inline-flex\",\n      alignItems: \"center\"\n    };\n    if (isVertical) {\n      return {\n        ...common,\n        position: \"absolute\",\n        transform: `rotate(-90deg) translateX(${VOLUME_SLIDER_WIDTH / 2 + ICON_SIZE / 2}px)`\n      };\n    }\n    return {\n      ...common\n    };\n  }, [isVertical]);\n  const randomId = typeof React3.useId === \"undefined\" ? \"volume-slider\" : React3.useId();\n  const [randomClass] = useState5(() => `__remotion-volume-slider-${random(randomId)}`.replace(\".\", \"\"));\n  const onVolumeChange = useCallback3(e => {\n    setVolume(parseFloat(e.target.value));\n  }, [setVolume]);\n  const inputStyle = useMemo3(() => {\n    const commonStyle = {\n      WebkitAppearance: \"none\",\n      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n      borderRadius: BAR_HEIGHT / 2,\n      cursor: \"pointer\",\n      height: BAR_HEIGHT,\n      width: VOLUME_SLIDER_WIDTH,\n      backgroundImage: `linear-gradient(\n\t\t\t\tto right,\n\t\t\t\twhite ${volume * 100}%, rgba(255, 255, 255, 0) ${volume * 100}%\n\t\t\t)`\n    };\n    if (isVertical) {\n      return {\n        ...commonStyle,\n        bottom: ICON_SIZE + VOLUME_SLIDER_WIDTH / 2\n      };\n    }\n    return commonStyle;\n  }, [isVertical, volume]);\n  const sliderStyle = `\n\t.${randomClass}::-webkit-slider-thumb {\n\t\t-webkit-appearance: none;\n\t\tbackground-color: white;\n\t\tborder-radius: ${KNOB_SIZE / 2}px;\n\t\tbox-shadow: 0 0 2px black;\n\t\theight: ${KNOB_SIZE}px;\n\t\twidth: ${KNOB_SIZE}px;\n\t}\n\n\t.${randomClass}::-moz-range-thumb {\n\t\t-webkit-appearance: none;\n\t\tbackground-color: white;\n\t\tborder-radius: ${KNOB_SIZE / 2}px;\n\t\tbox-shadow: 0 0 2px black;\n\t\theight: ${KNOB_SIZE}px;\n\t\twidth: ${KNOB_SIZE}px;\n\t}\n`;\n  return /* @__PURE__ */jsxs3(\"div\", {\n    style: sliderContainer,\n    children: [/* @__PURE__ */jsx5(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: sliderStyle\n      }\n    }), /* @__PURE__ */jsx5(\"input\", {\n      ref: inputRef,\n      \"aria-label\": \"Change volume\",\n      className: randomClass,\n      max: 1,\n      min: 0,\n      onBlur,\n      onChange: onVolumeChange,\n      step: 0.01,\n      type: \"range\",\n      value: volume,\n      style: inputStyle\n    })]\n  });\n};\nvar renderDefaultVolumeSlider = props => {\n  return /* @__PURE__ */jsx5(DefaultVolumeSlider, {\n    ...props\n  });\n};\n\n// src/MediaVolumeSlider.tsx\nimport { jsx as jsx6, jsxs as jsxs4 } from \"react/jsx-runtime\";\nvar VOLUME_SLIDER_WIDTH = 100;\nvar MediaVolumeSlider = ({\n  displayVerticalVolumeSlider,\n  renderMuteButton,\n  renderVolumeSlider\n}) => {\n  const [mediaMuted, setMediaMuted] = Internals6.useMediaMutedState();\n  const [mediaVolume, setMediaVolume] = Internals6.useMediaVolumeState();\n  const [focused, setFocused] = useState6(false);\n  const parentDivRef = useRef4(null);\n  const inputRef = useRef4(null);\n  const hover = useHoverState(parentDivRef, false);\n  const onBlur = useCallback4(() => {\n    setTimeout(() => {\n      if (inputRef.current && document.activeElement !== inputRef.current) {\n        setFocused(false);\n      }\n    }, 10);\n  }, []);\n  const isVolume0 = mediaVolume === 0;\n  const onClick = useCallback4(() => {\n    if (isVolume0) {\n      setMediaVolume(1);\n      setMediaMuted(false);\n      return;\n    }\n    setMediaMuted(mute => !mute);\n  }, [isVolume0, setMediaMuted, setMediaVolume]);\n  const parentDivStyle = useMemo4(() => {\n    return {\n      display: \"inline-flex\",\n      background: \"none\",\n      border: \"none\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      touchAction: \"none\",\n      ...(displayVerticalVolumeSlider && {\n        position: \"relative\"\n      })\n    };\n  }, [displayVerticalVolumeSlider]);\n  const volumeContainer = useMemo4(() => {\n    return {\n      display: \"inline\",\n      width: ICON_SIZE,\n      height: ICON_SIZE,\n      cursor: \"pointer\",\n      appearance: \"none\",\n      background: \"none\",\n      border: \"none\",\n      padding: 0\n    };\n  }, []);\n  const renderDefaultMuteButton = useCallback4(({\n    muted,\n    volume\n  }) => {\n    const isMutedOrZero = muted || volume === 0;\n    return /* @__PURE__ */jsx6(\"button\", {\n      \"aria-label\": isMutedOrZero ? \"Unmute sound\" : \"Mute sound\",\n      title: isMutedOrZero ? \"Unmute sound\" : \"Mute sound\",\n      onClick,\n      onBlur,\n      onFocus: () => setFocused(true),\n      style: volumeContainer,\n      type: \"button\",\n      children: isMutedOrZero ? /* @__PURE__ */jsx6(VolumeOffIcon, {}) : /* @__PURE__ */jsx6(VolumeOnIcon, {})\n    });\n  }, [onBlur, onClick, volumeContainer]);\n  const muteButton = useMemo4(() => {\n    return renderMuteButton ? renderMuteButton({\n      muted: mediaMuted,\n      volume: mediaVolume\n    }) : renderDefaultMuteButton({\n      muted: mediaMuted,\n      volume: mediaVolume\n    });\n  }, [mediaMuted, mediaVolume, renderDefaultMuteButton, renderMuteButton]);\n  const volumeSlider = useMemo4(() => {\n    return (focused || hover) && !mediaMuted && !Internals6.isIosSafari() ? (renderVolumeSlider ?? renderDefaultVolumeSlider)({\n      isVertical: displayVerticalVolumeSlider,\n      volume: mediaVolume,\n      onBlur: () => setFocused(false),\n      inputRef,\n      setVolume: setMediaVolume\n    }) : null;\n  }, [displayVerticalVolumeSlider, focused, hover, mediaMuted, mediaVolume, renderVolumeSlider, setMediaVolume]);\n  return /* @__PURE__ */jsxs4(\"div\", {\n    ref: parentDivRef,\n    style: parentDivStyle,\n    children: [muteButton, volumeSlider]\n  });\n};\n\n// src/PlaybackrateControl.tsx\nimport { useCallback as useCallback5, useContext as useContext5, useEffect as useEffect8, useMemo as useMemo5, useState as useState8 } from \"react\";\nimport { Internals as Internals7 } from \"remotion\";\n\n// src/utils/use-component-visible.ts\nimport { useEffect as useEffect7, useRef as useRef5, useState as useState7 } from \"react\";\nfunction useComponentVisible(initialIsVisible) {\n  const [isComponentVisible, setIsComponentVisible] = useState7(initialIsVisible);\n  const ref = useRef5(null);\n  useEffect7(() => {\n    const handleClickOutside = event => {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setIsComponentVisible(false);\n      }\n    };\n    document.addEventListener(\"pointerup\", handleClickOutside, true);\n    return () => {\n      document.removeEventListener(\"pointerup\", handleClickOutside, true);\n    };\n  }, []);\n  return {\n    ref,\n    isComponentVisible,\n    setIsComponentVisible\n  };\n}\n\n// src/PlaybackrateControl.tsx\nimport { jsx as jsx7, jsxs as jsxs5 } from \"react/jsx-runtime\";\nvar BOTTOM = 35;\nvar THRESHOLD = 70;\nvar rateDiv = {\n  height: 30,\n  paddingRight: 15,\n  paddingLeft: 12,\n  display: \"flex\",\n  flexDirection: \"row\",\n  alignItems: \"center\"\n};\nvar checkmarkContainer = {\n  width: 22,\n  display: \"flex\",\n  alignItems: \"center\"\n};\nvar checkmarkStyle = {\n  width: 14,\n  height: 14,\n  color: \"black\"\n};\nvar Checkmark = () => /* @__PURE__ */jsx7(\"svg\", {\n  viewBox: \"0 0 512 512\",\n  style: checkmarkStyle,\n  children: /* @__PURE__ */jsx7(\"path\", {\n    fill: \"currentColor\",\n    d: \"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z\"\n  })\n});\nvar PlaybackrateOption = ({\n  rate,\n  onSelect,\n  selectedRate,\n  keyboardSelectedRate\n}) => {\n  const onClick = useCallback5(e => {\n    e.stopPropagation();\n    e.preventDefault();\n    onSelect(rate);\n  }, [onSelect, rate]);\n  const [hovered, setHovered] = useState8(false);\n  const onMouseEnter = useCallback5(() => {\n    setHovered(true);\n  }, []);\n  const onMouseLeave = useCallback5(() => {\n    setHovered(false);\n  }, []);\n  const isFocused = keyboardSelectedRate === rate;\n  const actualStyle = useMemo5(() => {\n    return {\n      ...rateDiv,\n      backgroundColor: hovered || isFocused ? \"#eee\" : \"transparent\"\n    };\n  }, [hovered, isFocused]);\n  return /* @__PURE__ */jsxs5(\"div\", {\n    onMouseEnter,\n    onMouseLeave,\n    tabIndex: 0,\n    style: actualStyle,\n    onClick,\n    children: [/* @__PURE__ */jsx7(\"div\", {\n      style: checkmarkContainer,\n      children: rate === selectedRate ? /* @__PURE__ */jsx7(Checkmark, {}) : null\n    }), rate.toFixed(1), \"x\"]\n  }, rate);\n};\nvar PlaybackPopup = ({\n  setIsComponentVisible,\n  playbackRates,\n  canvasSize\n}) => {\n  const {\n    setPlaybackRate,\n    playbackRate\n  } = useContext5(Internals7.Timeline.TimelineContext);\n  const [keyboardSelectedRate, setKeyboardSelectedRate] = useState8(playbackRate);\n  useEffect8(() => {\n    const listener = e => {\n      e.preventDefault();\n      if (e.key === \"ArrowUp\") {\n        const currentIndex = playbackRates.findIndex(rate => rate === keyboardSelectedRate);\n        if (currentIndex === 0) {\n          return;\n        }\n        if (currentIndex === -1) {\n          setKeyboardSelectedRate(playbackRates[0]);\n        } else {\n          setKeyboardSelectedRate(playbackRates[currentIndex - 1]);\n        }\n      } else if (e.key === \"ArrowDown\") {\n        const currentIndex = playbackRates.findIndex(rate => rate === keyboardSelectedRate);\n        if (currentIndex === playbackRates.length - 1) {\n          return;\n        }\n        if (currentIndex === -1) {\n          setKeyboardSelectedRate(playbackRates[playbackRates.length - 1]);\n        } else {\n          setKeyboardSelectedRate(playbackRates[currentIndex + 1]);\n        }\n      } else if (e.key === \"Enter\") {\n        setPlaybackRate(keyboardSelectedRate);\n        setIsComponentVisible(false);\n      }\n    };\n    window.addEventListener(\"keydown\", listener);\n    return () => {\n      window.removeEventListener(\"keydown\", listener);\n    };\n  }, [playbackRates, keyboardSelectedRate, setPlaybackRate, setIsComponentVisible]);\n  const onSelect = useCallback5(rate => {\n    setPlaybackRate(rate);\n    setIsComponentVisible(false);\n  }, [setIsComponentVisible, setPlaybackRate]);\n  const playbackPopup = useMemo5(() => {\n    return {\n      position: \"absolute\",\n      right: 0,\n      width: 125,\n      maxHeight: canvasSize.height - THRESHOLD - BOTTOM,\n      bottom: 35,\n      background: \"#fff\",\n      borderRadius: 4,\n      overflow: \"auto\",\n      color: \"black\",\n      textAlign: \"left\"\n    };\n  }, [canvasSize.height]);\n  return /* @__PURE__ */jsx7(\"div\", {\n    style: playbackPopup,\n    children: playbackRates.map(rate => {\n      return /* @__PURE__ */jsx7(PlaybackrateOption, {\n        selectedRate: playbackRate,\n        onSelect,\n        rate,\n        keyboardSelectedRate\n      }, rate);\n    })\n  });\n};\nvar label = {\n  fontSize: 13,\n  fontWeight: \"bold\",\n  color: \"white\",\n  border: \"2px solid white\",\n  borderRadius: 20,\n  paddingLeft: 8,\n  paddingRight: 8,\n  paddingTop: 2,\n  paddingBottom: 2\n};\nvar playerButtonStyle = {\n  appearance: \"none\",\n  backgroundColor: \"transparent\",\n  border: \"none\",\n  cursor: \"pointer\",\n  paddingLeft: 0,\n  paddingRight: 0,\n  paddingTop: 6,\n  paddingBottom: 6,\n  height: 37,\n  display: \"inline-flex\",\n  marginBottom: 0,\n  marginTop: 0,\n  alignItems: \"center\"\n};\nvar button = {\n  ...playerButtonStyle,\n  position: \"relative\"\n};\nvar PlaybackrateControl = ({\n  playbackRates,\n  canvasSize\n}) => {\n  const {\n    ref,\n    isComponentVisible,\n    setIsComponentVisible\n  } = useComponentVisible(false);\n  const {\n    playbackRate\n  } = useContext5(Internals7.Timeline.TimelineContext);\n  const onClick = useCallback5(e => {\n    e.stopPropagation();\n    e.preventDefault();\n    setIsComponentVisible(prevIsComponentVisible => !prevIsComponentVisible);\n  }, [setIsComponentVisible]);\n  return /* @__PURE__ */jsx7(\"div\", {\n    ref,\n    children: /* @__PURE__ */jsxs5(\"button\", {\n      type: \"button\",\n      \"aria-label\": \"Change playback rate\",\n      style: button,\n      onClick,\n      children: [/* @__PURE__ */jsxs5(\"div\", {\n        style: label,\n        children: [playbackRate, \"x\"]\n      }), isComponentVisible && /* @__PURE__ */jsx7(PlaybackPopup, {\n        canvasSize,\n        playbackRates,\n        setIsComponentVisible\n      })]\n    })\n  });\n};\n\n// src/PlayerSeekBar.tsx\nimport { useCallback as useCallback6, useEffect as useEffect9, useMemo as useMemo6, useRef as useRef6, useState as useState9 } from \"react\";\nimport { Internals as Internals8, interpolate } from \"remotion\";\nimport { jsx as jsx8, jsxs as jsxs6 } from \"react/jsx-runtime\";\nvar getFrameFromX = (clientX, durationInFrames, width) => {\n  const pos = clientX;\n  const frame = Math.round(interpolate(pos, [0, width], [0, durationInFrames - 1], {\n    extrapolateLeft: \"clamp\",\n    extrapolateRight: \"clamp\"\n  }));\n  return frame;\n};\nvar BAR_HEIGHT2 = 5;\nvar KNOB_SIZE2 = 12;\nvar VERTICAL_PADDING = 4;\nvar containerStyle = {\n  userSelect: \"none\",\n  WebkitUserSelect: \"none\",\n  paddingTop: VERTICAL_PADDING,\n  paddingBottom: VERTICAL_PADDING,\n  boxSizing: \"border-box\",\n  cursor: \"pointer\",\n  position: \"relative\",\n  touchAction: \"none\"\n};\nvar barBackground = {\n  height: BAR_HEIGHT2,\n  backgroundColor: \"rgba(255, 255, 255, 0.25)\",\n  width: \"100%\",\n  borderRadius: BAR_HEIGHT2 / 2\n};\nvar findBodyInWhichDivIsLocated = div => {\n  let current = div;\n  while (current.parentElement) {\n    current = current.parentElement;\n  }\n  return current;\n};\nvar PlayerSeekBar = ({\n  durationInFrames,\n  onSeekEnd,\n  onSeekStart,\n  inFrame,\n  outFrame\n}) => {\n  const containerRef = useRef6(null);\n  const barHovered = useHoverState(containerRef, false);\n  const size = useElementSize(containerRef, {\n    triggerOnWindowResize: true,\n    shouldApplyCssTransforms: true\n  });\n  const {\n    seek,\n    play,\n    pause,\n    playing\n  } = usePlayer();\n  const frame = Internals8.Timeline.useTimelinePosition();\n  const [dragging, setDragging] = useState9({\n    dragging: false\n  });\n  const width = size?.width ?? 0;\n  const onPointerDown = useCallback6(e => {\n    if (e.button !== 0) {\n      return;\n    }\n    const posLeft = containerRef.current?.getBoundingClientRect().left;\n    const _frame = getFrameFromX(e.clientX - posLeft, durationInFrames, width);\n    pause();\n    seek(_frame);\n    setDragging({\n      dragging: true,\n      wasPlaying: playing\n    });\n    onSeekStart();\n  }, [durationInFrames, width, pause, seek, playing, onSeekStart]);\n  const onPointerMove = useCallback6(e => {\n    if (!size) {\n      throw new Error(\"Player has no size\");\n    }\n    if (!dragging.dragging) {\n      return;\n    }\n    const posLeft = containerRef.current?.getBoundingClientRect().left;\n    const _frame = getFrameFromX(e.clientX - posLeft, durationInFrames, size.width);\n    seek(_frame);\n  }, [dragging.dragging, durationInFrames, seek, size]);\n  const onPointerUp = useCallback6(() => {\n    setDragging({\n      dragging: false\n    });\n    if (!dragging.dragging) {\n      return;\n    }\n    if (dragging.wasPlaying) {\n      play();\n    } else {\n      pause();\n    }\n    onSeekEnd();\n  }, [dragging, onSeekEnd, pause, play]);\n  useEffect9(() => {\n    if (!dragging.dragging) {\n      return;\n    }\n    const body = findBodyInWhichDivIsLocated(containerRef.current);\n    body.addEventListener(\"pointermove\", onPointerMove);\n    body.addEventListener(\"pointerup\", onPointerUp);\n    return () => {\n      body.removeEventListener(\"pointermove\", onPointerMove);\n      body.removeEventListener(\"pointerup\", onPointerUp);\n    };\n  }, [dragging.dragging, onPointerMove, onPointerUp]);\n  const knobStyle = useMemo6(() => {\n    return {\n      height: KNOB_SIZE2,\n      width: KNOB_SIZE2,\n      borderRadius: KNOB_SIZE2 / 2,\n      position: \"absolute\",\n      top: VERTICAL_PADDING - KNOB_SIZE2 / 2 + 5 / 2,\n      backgroundColor: \"white\",\n      left: Math.max(0, frame / Math.max(1, durationInFrames - 1) * width - KNOB_SIZE2 / 2),\n      boxShadow: \"0 0 2px black\",\n      opacity: Number(barHovered)\n    };\n  }, [barHovered, durationInFrames, frame, width]);\n  const fillStyle = useMemo6(() => {\n    return {\n      height: BAR_HEIGHT2,\n      backgroundColor: \"rgba(255, 255, 255, 1)\",\n      width: (frame - (inFrame ?? 0)) / (durationInFrames - 1) * 100 + \"%\",\n      marginLeft: (inFrame ?? 0) / (durationInFrames - 1) * 100 + \"%\",\n      borderRadius: BAR_HEIGHT2 / 2\n    };\n  }, [durationInFrames, frame, inFrame]);\n  const active = useMemo6(() => {\n    return {\n      height: BAR_HEIGHT2,\n      backgroundColor: \"rgba(255, 255, 255, 0.25)\",\n      width: ((outFrame ?? durationInFrames - 1) - (inFrame ?? 0)) / (durationInFrames - 1) * 100 + \"%\",\n      marginLeft: (inFrame ?? 0) / (durationInFrames - 1) * 100 + \"%\",\n      borderRadius: BAR_HEIGHT2 / 2,\n      position: \"absolute\"\n    };\n  }, [durationInFrames, inFrame, outFrame]);\n  return /* @__PURE__ */jsxs6(\"div\", {\n    ref: containerRef,\n    onPointerDown,\n    style: containerStyle,\n    children: [/* @__PURE__ */jsxs6(\"div\", {\n      style: barBackground,\n      children: [/* @__PURE__ */jsx8(\"div\", {\n        style: active\n      }), /* @__PURE__ */jsx8(\"div\", {\n        style: fillStyle\n      })]\n    }), /* @__PURE__ */jsx8(\"div\", {\n      style: knobStyle\n    })]\n  });\n};\n\n// src/format-time.ts\nvar formatTime = timeInSeconds => {\n  const minutes = Math.floor(timeInSeconds / 60);\n  const seconds = Math.floor(timeInSeconds - minutes * 60);\n  return `${String(minutes)}:${String(seconds).padStart(2, \"0\")}`;\n};\n\n// src/use-video-controls-resize.ts\nimport { useMemo as useMemo7 } from \"react\";\nvar X_SPACER = 10;\nvar X_PADDING = 12;\nvar useVideoControlsResize = ({\n  allowFullscreen: allowFullScreen,\n  playerWidth\n}) => {\n  const resizeInfo = useMemo7(() => {\n    const playPauseIconSize = ICON_SIZE;\n    const volumeIconSize = ICON_SIZE;\n    const _fullscreenIconSize = allowFullScreen ? fullscreenIconSize : 0;\n    const elementsSize = volumeIconSize + playPauseIconSize + _fullscreenIconSize + X_PADDING * 2 + X_SPACER * 2;\n    const maxTimeLabelWidth = playerWidth - elementsSize;\n    const maxTimeLabelWidthWithoutNegativeValue = Math.max(maxTimeLabelWidth, 0);\n    const availableTimeLabelWidthIfVolumeOpen = maxTimeLabelWidthWithoutNegativeValue - VOLUME_SLIDER_WIDTH;\n    const computedLabelWidth = availableTimeLabelWidthIfVolumeOpen < VOLUME_SLIDER_WIDTH ? maxTimeLabelWidthWithoutNegativeValue : availableTimeLabelWidthIfVolumeOpen;\n    const minWidthForHorizontalDisplay = computedLabelWidth + elementsSize + VOLUME_SLIDER_WIDTH;\n    const displayVerticalVolumeSlider = playerWidth < minWidthForHorizontalDisplay;\n    return {\n      maxTimeLabelWidth: maxTimeLabelWidthWithoutNegativeValue === 0 ? null : maxTimeLabelWidthWithoutNegativeValue,\n      displayVerticalVolumeSlider\n    };\n  }, [allowFullScreen, playerWidth]);\n  return resizeInfo;\n};\n\n// src/PlayerControls.tsx\nimport { jsx as jsx9, jsxs as jsxs7, Fragment as Fragment2 } from \"react/jsx-runtime\";\nvar gradientSteps = [0, 0.013, 0.049, 0.104, 0.175, 0.259, 0.352, 0.45, 0.55, 0.648, 0.741, 0.825, 0.896, 0.951, 0.987];\nvar gradientOpacities = [0, 8.1, 15.5, 22.5, 29, 35.3, 41.2, 47.1, 52.9, 58.8, 64.7, 71, 77.5, 84.5, 91.9];\nvar globalGradientOpacity = 1 / 0.7;\nvar containerStyle2 = {\n  boxSizing: \"border-box\",\n  position: \"absolute\",\n  bottom: 0,\n  width: \"100%\",\n  paddingTop: 40,\n  paddingBottom: 10,\n  backgroundImage: `linear-gradient(to bottom,${gradientSteps.map((g, i) => {\n    return `hsla(0, 0%, 0%, ${g}) ${gradientOpacities[i] * globalGradientOpacity}%`;\n  }).join(\", \")}, hsl(0, 0%, 0%) 100%)`,\n  backgroundSize: \"auto 145px\",\n  display: \"flex\",\n  paddingRight: X_PADDING,\n  paddingLeft: X_PADDING,\n  flexDirection: \"column\",\n  transition: \"opacity 0.3s\"\n};\nvar controlsRow = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  width: \"100%\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  userSelect: \"none\",\n  WebkitUserSelect: \"none\"\n};\nvar leftPartStyle = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  userSelect: \"none\",\n  WebkitUserSelect: \"none\",\n  alignItems: \"center\"\n};\nvar xSpacer = {\n  width: 12\n};\nvar ySpacer = {\n  height: 8\n};\nvar flex1 = {\n  flex: 1\n};\nvar fullscreen = {};\nvar Controls = ({\n  durationInFrames,\n  isFullscreen,\n  fps,\n  player,\n  showVolumeControls,\n  onFullscreenButtonClick,\n  allowFullscreen,\n  onExitFullscreenButtonClick,\n  spaceKeyToPlayOrPause,\n  onSeekEnd,\n  onSeekStart,\n  inFrame,\n  outFrame,\n  initiallyShowControls,\n  canvasSize,\n  renderPlayPauseButton,\n  renderFullscreenButton,\n  alwaysShowControls,\n  showPlaybackRateControl,\n  containerRef,\n  buffering,\n  hideControlsWhenPointerDoesntMove,\n  onPointerDown,\n  onDoubleClick,\n  renderMuteButton,\n  renderVolumeSlider\n}) => {\n  const playButtonRef = useRef7(null);\n  const frame = Internals9.Timeline.useTimelinePosition();\n  const [supportsFullscreen, setSupportsFullscreen] = useState10(false);\n  const hovered = useHoverState(containerRef, hideControlsWhenPointerDoesntMove);\n  const {\n    maxTimeLabelWidth,\n    displayVerticalVolumeSlider\n  } = useVideoControlsResize({\n    allowFullscreen,\n    playerWidth: canvasSize?.width ?? 0\n  });\n  const [shouldShowInitially, setInitiallyShowControls] = useState10(() => {\n    if (typeof initiallyShowControls === \"boolean\") {\n      return initiallyShowControls;\n    }\n    if (typeof initiallyShowControls === \"number\") {\n      if (initiallyShowControls % 1 !== 0) {\n        throw new Error(\"initiallyShowControls must be an integer or a boolean\");\n      }\n      if (Number.isNaN(initiallyShowControls)) {\n        throw new Error(\"initiallyShowControls must not be NaN\");\n      }\n      if (!Number.isFinite(initiallyShowControls)) {\n        throw new Error(\"initiallyShowControls must be finite\");\n      }\n      if (initiallyShowControls <= 0) {\n        throw new Error(\"initiallyShowControls must be a positive integer\");\n      }\n      return initiallyShowControls;\n    }\n    throw new TypeError(\"initiallyShowControls must be a number or a boolean\");\n  });\n  const containerCss = useMemo8(() => {\n    const shouldShow = hovered || !player.playing || shouldShowInitially || alwaysShowControls;\n    return {\n      ...containerStyle2,\n      opacity: Number(shouldShow)\n    };\n  }, [hovered, shouldShowInitially, player.playing, alwaysShowControls]);\n  useEffect10(() => {\n    if (playButtonRef.current && spaceKeyToPlayOrPause) {\n      playButtonRef.current.focus({\n        preventScroll: true\n      });\n    }\n  }, [player.playing, spaceKeyToPlayOrPause]);\n  useEffect10(() => {\n    setSupportsFullscreen((typeof document !== \"undefined\" && (document.fullscreenEnabled || document.webkitFullscreenEnabled)) ?? false);\n  }, []);\n  useEffect10(() => {\n    if (shouldShowInitially === false) {\n      return;\n    }\n    const time = shouldShowInitially === true ? 2000 : shouldShowInitially;\n    const timeout = setTimeout(() => {\n      setInitiallyShowControls(false);\n    }, time);\n    return () => {\n      clearInterval(timeout);\n    };\n  }, [shouldShowInitially]);\n  const timeLabel = useMemo8(() => {\n    return {\n      color: \"white\",\n      fontFamily: \"sans-serif\",\n      fontSize: 14,\n      maxWidth: maxTimeLabelWidth === null ? undefined : maxTimeLabelWidth,\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\"\n    };\n  }, [maxTimeLabelWidth]);\n  const playbackRates = useMemo8(() => {\n    if (showPlaybackRateControl === true) {\n      return [0.5, 0.8, 1, 1.2, 1.5, 1.8, 2, 2.5, 3];\n    }\n    if (Array.isArray(showPlaybackRateControl)) {\n      for (const rate of showPlaybackRateControl) {\n        if (typeof rate !== \"number\") {\n          throw new Error(\"Every item in showPlaybackRateControl must be a number\");\n        }\n        if (rate <= 0) {\n          throw new Error(\"Every item in showPlaybackRateControl must be positive\");\n        }\n      }\n      return showPlaybackRateControl;\n    }\n    return null;\n  }, [showPlaybackRateControl]);\n  const ref = useRef7(null);\n  const flexRef = useRef7(null);\n  const onPointerDownIfContainer = useCallback7(e => {\n    if (e.target === ref.current || e.target === flexRef.current) {\n      onPointerDown?.(e);\n    }\n  }, [onPointerDown]);\n  const onDoubleClickIfContainer = useCallback7(e => {\n    if (e.target === ref.current || e.target === flexRef.current) {\n      onDoubleClick?.(e);\n    }\n  }, [onDoubleClick]);\n  return /* @__PURE__ */jsxs7(\"div\", {\n    ref,\n    style: containerCss,\n    onPointerDown: onPointerDownIfContainer,\n    onDoubleClick: onDoubleClickIfContainer,\n    children: [/* @__PURE__ */jsxs7(\"div\", {\n      ref: flexRef,\n      style: controlsRow,\n      children: [/* @__PURE__ */jsxs7(\"div\", {\n        style: leftPartStyle,\n        children: [/* @__PURE__ */jsx9(\"button\", {\n          ref: playButtonRef,\n          type: \"button\",\n          style: playerButtonStyle,\n          onClick: player.playing ? player.pause : player.play,\n          \"aria-label\": player.playing ? \"Pause video\" : \"Play video\",\n          title: player.playing ? \"Pause video\" : \"Play video\",\n          children: renderPlayPauseButton === null ? /* @__PURE__ */jsx9(DefaultPlayPauseButton, {\n            buffering,\n            playing: player.playing\n          }) : renderPlayPauseButton({\n            playing: player.playing,\n            isBuffering: buffering\n          }) ?? /* @__PURE__ */jsx9(DefaultPlayPauseButton, {\n            buffering,\n            playing: player.playing\n          })\n        }), showVolumeControls ? /* @__PURE__ */jsxs7(Fragment2, {\n          children: [/* @__PURE__ */jsx9(\"div\", {\n            style: xSpacer\n          }), /* @__PURE__ */jsx9(MediaVolumeSlider, {\n            renderMuteButton,\n            renderVolumeSlider,\n            displayVerticalVolumeSlider\n          })]\n        }) : null, /* @__PURE__ */jsx9(\"div\", {\n          style: xSpacer\n        }), /* @__PURE__ */jsxs7(\"div\", {\n          style: timeLabel,\n          children: [formatTime(frame / fps), \" / \", formatTime(durationInFrames / fps)]\n        }), /* @__PURE__ */jsx9(\"div\", {\n          style: xSpacer\n        })]\n      }), /* @__PURE__ */jsx9(\"div\", {\n        style: flex1\n      }), playbackRates && canvasSize && /* @__PURE__ */jsx9(PlaybackrateControl, {\n        canvasSize,\n        playbackRates\n      }), playbackRates && supportsFullscreen && allowFullscreen ? /* @__PURE__ */jsx9(\"div\", {\n        style: xSpacer\n      }) : null, /* @__PURE__ */jsx9(\"div\", {\n        style: fullscreen,\n        children: supportsFullscreen && allowFullscreen ? /* @__PURE__ */jsx9(\"button\", {\n          type: \"button\",\n          \"aria-label\": isFullscreen ? \"Exit fullscreen\" : \"Enter Fullscreen\",\n          title: isFullscreen ? \"Exit fullscreen\" : \"Enter Fullscreen\",\n          style: playerButtonStyle,\n          onClick: isFullscreen ? onExitFullscreenButtonClick : onFullscreenButtonClick,\n          children: renderFullscreenButton === null ? /* @__PURE__ */jsx9(FullscreenIcon, {\n            isFullscreen\n          }) : renderFullscreenButton({\n            isFullscreen\n          })\n        }) : null\n      })]\n    }), /* @__PURE__ */jsx9(\"div\", {\n      style: ySpacer\n    }), /* @__PURE__ */jsx9(PlayerSeekBar, {\n      onSeekEnd,\n      onSeekStart,\n      durationInFrames,\n      inFrame,\n      outFrame\n    })]\n  });\n};\n\n// src/error-boundary.tsx\nimport React7 from \"react\";\nimport { jsx as jsx10 } from \"react/jsx-runtime\";\nvar errorStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  flex: 1,\n  height: \"100%\",\n  width: \"100%\"\n};\nclass ErrorBoundary extends React7.Component {\n  state = {\n    hasError: null\n  };\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: error\n    };\n  }\n  componentDidCatch(error) {\n    this.props.onError(error);\n  }\n  render() {\n    if (this.state.hasError) {\n      return /* @__PURE__ */jsx10(\"div\", {\n        style: errorStyle,\n        children: this.props.errorFallback({\n          error: this.state.hasError\n        })\n      });\n    }\n    return this.props.children;\n  }\n}\n\n// src/player-css-classname.ts\nvar PLAYER_CSS_CLASSNAME = \"__remotion-player\";\n\n// src/utils/is-node.ts\nvar IS_NODE = typeof document === \"undefined\";\n\n// src/utils/use-click-prevention-on-double-click.ts\nimport { useCallback as useCallback9, useMemo as useMemo10 } from \"react\";\n\n// src/utils/cancellable-promise.ts\nvar cancellablePromise = promise => {\n  let isCanceled = false;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(value => {\n      if (isCanceled) {\n        reject({\n          isCanceled,\n          value\n        });\n        return;\n      }\n      resolve(value);\n    }).catch(error => {\n      reject({\n        isCanceled,\n        error\n      });\n    });\n  });\n  return {\n    promise: wrappedPromise,\n    cancel: () => {\n      isCanceled = true;\n    }\n  };\n};\n\n// src/utils/delay.ts\nvar delay = n => new Promise(resolve => setTimeout(resolve, n));\n\n// src/utils/use-cancellable-promises.ts\nimport { useCallback as useCallback8, useMemo as useMemo9, useRef as useRef8 } from \"react\";\nvar useCancellablePromises = () => {\n  const pendingPromises = useRef8([]);\n  const appendPendingPromise = useCallback8(promise => {\n    pendingPromises.current = [...pendingPromises.current, promise];\n  }, []);\n  const removePendingPromise = useCallback8(promise => {\n    pendingPromises.current = pendingPromises.current.filter(p => p !== promise);\n  }, []);\n  const clearPendingPromises = useCallback8(() => pendingPromises.current.map(p => p.cancel()), []);\n  const api = useMemo9(() => ({\n    appendPendingPromise,\n    removePendingPromise,\n    clearPendingPromises\n  }), [appendPendingPromise, clearPendingPromises, removePendingPromise]);\n  return api;\n};\n\n// src/utils/use-click-prevention-on-double-click.ts\nvar useClickPreventionOnDoubleClick = (onClick, onDoubleClick, doubleClickToFullscreen) => {\n  const api = useCancellablePromises();\n  const handleClick = useCallback9(async e => {\n    if (e instanceof PointerEvent ? e.pointerType === \"touch\" : e.nativeEvent.pointerType === \"touch\") {\n      onClick(e);\n      return;\n    }\n    api.clearPendingPromises();\n    const waitForClick = cancellablePromise(delay(200));\n    api.appendPendingPromise(waitForClick);\n    try {\n      await waitForClick.promise;\n      api.removePendingPromise(waitForClick);\n      onClick(e);\n    } catch (errorInfo) {\n      const info = errorInfo;\n      api.removePendingPromise(waitForClick);\n      if (!info.isCanceled) {\n        throw info.error;\n      }\n    }\n  }, [api, onClick]);\n  const handlePointerDown = useCallback9(() => {\n    document.addEventListener(\"pointerup\", newEvt => {\n      handleClick(newEvt);\n    }, {\n      once: true\n    });\n  }, [handleClick]);\n  const handleDoubleClick = useCallback9(() => {\n    api.clearPendingPromises();\n    onDoubleClick();\n  }, [api, onDoubleClick]);\n  const returnValue = useMemo10(() => {\n    if (!doubleClickToFullscreen) {\n      return {\n        handlePointerDown: onClick,\n        handleDoubleClick: () => {\n          return;\n        }\n      };\n    }\n    return {\n      handlePointerDown,\n      handleDoubleClick\n    };\n  }, [doubleClickToFullscreen, handleDoubleClick, handlePointerDown, onClick]);\n  return returnValue;\n};\n\n// src/PlayerUI.tsx\nimport { jsx as jsx11, jsxs as jsxs8, Fragment as Fragment3 } from \"react/jsx-runtime\";\nvar reactVersion = React8.version.split(\".\")[0];\nif (reactVersion === \"0\") {\n  throw new Error(`Version ${reactVersion} of \"react\" is not supported by Remotion`);\n}\nvar doesReactVersionSupportSuspense = parseInt(reactVersion, 10) >= 18;\nvar PlayerUI = ({\n  controls,\n  style,\n  loop,\n  autoPlay,\n  allowFullscreen,\n  inputProps,\n  clickToPlay,\n  showVolumeControls,\n  doubleClickToFullscreen,\n  spaceKeyToPlayOrPause,\n  errorFallback,\n  playbackRate,\n  renderLoading,\n  renderPoster,\n  className: className2,\n  moveToBeginningWhenEnded,\n  showPosterWhenUnplayed,\n  showPosterWhenEnded,\n  showPosterWhenPaused,\n  showPosterWhenBuffering,\n  inFrame,\n  outFrame,\n  initiallyShowControls,\n  renderFullscreen: renderFullscreenButton,\n  renderPlayPauseButton,\n  renderMuteButton,\n  renderVolumeSlider,\n  alwaysShowControls,\n  showPlaybackRateControl,\n  posterFillMode,\n  bufferStateDelayInMilliseconds,\n  hideControlsWhenPointerDoesntMove,\n  overflowVisible\n}, ref) => {\n  const config = Internals10.useUnsafeVideoConfig();\n  const video = Internals10.useVideo();\n  const container = useRef9(null);\n  const canvasSize = useElementSize(container, {\n    triggerOnWindowResize: false,\n    shouldApplyCssTransforms: false\n  });\n  const [hasPausedToResume, setHasPausedToResume] = useState11(false);\n  const [shouldAutoplay, setShouldAutoPlay] = useState11(autoPlay);\n  const [isFullscreen, setIsFullscreen] = useState11(() => false);\n  const [seeking, setSeeking] = useState11(false);\n  const supportsFullScreen = useMemo11(() => {\n    if (typeof document === \"undefined\") {\n      return false;\n    }\n    return Boolean(document.fullscreenEnabled || document.webkitFullscreenEnabled);\n  }, []);\n  const player = usePlayer();\n  usePlayback({\n    loop,\n    playbackRate,\n    moveToBeginningWhenEnded,\n    inFrame,\n    outFrame,\n    frameRef: player.remotionInternal_currentFrameRef\n  });\n  useEffect11(() => {\n    if (hasPausedToResume && !player.playing) {\n      setHasPausedToResume(false);\n      player.play();\n    }\n  }, [hasPausedToResume, player]);\n  useEffect11(() => {\n    const {\n      current\n    } = container;\n    if (!current) {\n      return;\n    }\n    const onFullscreenChange = () => {\n      const newValue = document.fullscreenElement === current || document.webkitFullscreenElement === current;\n      setIsFullscreen(newValue);\n    };\n    document.addEventListener(\"fullscreenchange\", onFullscreenChange);\n    document.addEventListener(\"webkitfullscreenchange\", onFullscreenChange);\n    return () => {\n      document.removeEventListener(\"fullscreenchange\", onFullscreenChange);\n      document.removeEventListener(\"webkitfullscreenchange\", onFullscreenChange);\n    };\n  }, []);\n  const toggle = useCallback10(e => {\n    if (player.isPlaying()) {\n      player.pause();\n    } else {\n      player.play(e);\n    }\n  }, [player]);\n  const requestFullscreen = useCallback10(() => {\n    if (!allowFullscreen) {\n      throw new Error(\"allowFullscreen is false\");\n    }\n    if (!supportsFullScreen) {\n      throw new Error(\"Browser doesnt support fullscreen\");\n    }\n    if (!container.current) {\n      throw new Error(\"No player ref found\");\n    }\n    if (container.current.webkitRequestFullScreen) {\n      container.current.webkitRequestFullScreen();\n    } else {\n      container.current.requestFullscreen();\n    }\n  }, [allowFullscreen, supportsFullScreen]);\n  const exitFullscreen = useCallback10(() => {\n    if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  }, []);\n  useEffect11(() => {\n    const {\n      current\n    } = container;\n    if (!current) {\n      return;\n    }\n    const fullscreenChange = () => {\n      const element = document.webkitFullscreenElement ?? document.fullscreenElement;\n      if (element && element === container.current) {\n        player.emitter.dispatchFullscreenChange({\n          isFullscreen: true\n        });\n      } else {\n        player.emitter.dispatchFullscreenChange({\n          isFullscreen: false\n        });\n      }\n    };\n    current.addEventListener(\"webkitfullscreenchange\", fullscreenChange);\n    current.addEventListener(\"fullscreenchange\", fullscreenChange);\n    return () => {\n      current.removeEventListener(\"webkitfullscreenchange\", fullscreenChange);\n      current.removeEventListener(\"fullscreenchange\", fullscreenChange);\n    };\n  }, [player.emitter]);\n  const durationInFrames = config?.durationInFrames ?? 1;\n  const layout = useMemo11(() => {\n    if (!config || !canvasSize) {\n      return null;\n    }\n    return calculateCanvasTransformation({\n      canvasSize,\n      compositionHeight: config.height,\n      compositionWidth: config.width,\n      previewSize: \"auto\"\n    });\n  }, [canvasSize, config]);\n  const scale = layout?.scale ?? 1;\n  const initialScaleIgnored = useRef9(false);\n  useEffect11(() => {\n    if (!initialScaleIgnored.current) {\n      initialScaleIgnored.current = true;\n      return;\n    }\n    player.emitter.dispatchScaleChange(scale);\n  }, [player.emitter, scale]);\n  const {\n    setMediaVolume,\n    setMediaMuted\n  } = useContext6(Internals10.SetMediaVolumeContext);\n  const {\n    mediaMuted,\n    mediaVolume\n  } = useContext6(Internals10.MediaVolumeContext);\n  useEffect11(() => {\n    player.emitter.dispatchVolumeChange(mediaVolume);\n  }, [player.emitter, mediaVolume]);\n  const isMuted = mediaMuted || mediaVolume === 0;\n  useEffect11(() => {\n    player.emitter.dispatchMuteChange({\n      isMuted\n    });\n  }, [player.emitter, isMuted]);\n  const [showBufferIndicator, setShowBufferState] = useState11(false);\n  useEffect11(() => {\n    let timeout = null;\n    let stopped = false;\n    const onBuffer = () => {\n      stopped = false;\n      requestAnimationFrame(() => {\n        if (bufferStateDelayInMilliseconds === 0) {\n          setShowBufferState(true);\n        } else {\n          timeout = setTimeout(() => {\n            if (!stopped) {\n              setShowBufferState(true);\n            }\n          }, bufferStateDelayInMilliseconds);\n        }\n      });\n    };\n    const onResume = () => {\n      requestAnimationFrame(() => {\n        stopped = true;\n        setShowBufferState(false);\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n      });\n    };\n    player.emitter.addEventListener(\"waiting\", onBuffer);\n    player.emitter.addEventListener(\"resume\", onResume);\n    return () => {\n      player.emitter.removeEventListener(\"waiting\", onBuffer);\n      player.emitter.removeEventListener(\"resume\", onResume);\n      setShowBufferState(false);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      stopped = true;\n    };\n  }, [bufferStateDelayInMilliseconds, player.emitter]);\n  useImperativeHandle(ref, () => {\n    const methods = {\n      play: player.play,\n      pause: () => {\n        setHasPausedToResume(false);\n        player.pause();\n      },\n      toggle,\n      getContainerNode: () => container.current,\n      getCurrentFrame: player.getCurrentFrame,\n      isPlaying: player.isPlaying,\n      seekTo: f => {\n        const lastFrame = durationInFrames - 1;\n        const frameToSeekTo = Math.max(0, Math.min(lastFrame, f));\n        if (player.isPlaying()) {\n          const pauseToResume = frameToSeekTo !== lastFrame || loop;\n          setHasPausedToResume(pauseToResume);\n          player.pause();\n        }\n        if (frameToSeekTo === lastFrame && !loop) {\n          player.emitter.dispatchEnded();\n        }\n        player.seek(frameToSeekTo);\n      },\n      isFullscreen: () => {\n        const {\n          current\n        } = container;\n        if (!current) {\n          return false;\n        }\n        return document.fullscreenElement === current || document.webkitFullscreenElement === current;\n      },\n      requestFullscreen,\n      exitFullscreen,\n      getVolume: () => {\n        if (mediaMuted) {\n          return 0;\n        }\n        return mediaVolume;\n      },\n      setVolume: vol => {\n        if (typeof vol !== \"number\") {\n          throw new TypeError(`setVolume() takes a number, got value of type ${typeof vol}`);\n        }\n        if (isNaN(vol)) {\n          throw new TypeError(`setVolume() got a number that is NaN. Volume must be between 0 and 1.`);\n        }\n        if (vol < 0 || vol > 1) {\n          throw new TypeError(`setVolume() got a number that is out of range. Must be between 0 and 1, got ${typeof vol}`);\n        }\n        setMediaVolume(vol);\n      },\n      isMuted: () => isMuted,\n      mute: () => {\n        setMediaMuted(true);\n      },\n      unmute: () => {\n        setMediaMuted(false);\n      },\n      getScale: () => scale,\n      pauseAndReturnToPlayStart: () => {\n        player.pauseAndReturnToPlayStart();\n      }\n    };\n    return Object.assign(player.emitter, methods);\n  }, [durationInFrames, exitFullscreen, loop, mediaMuted, isMuted, mediaVolume, player, requestFullscreen, setMediaMuted, setMediaVolume, toggle, scale]);\n  const VideoComponent = video ? video.component : null;\n  const outerStyle = useMemo11(() => {\n    return calculateOuterStyle({\n      canvasSize,\n      config,\n      style,\n      overflowVisible,\n      layout\n    });\n  }, [canvasSize, config, layout, overflowVisible, style]);\n  const outer = useMemo11(() => {\n    return calculateOuter({\n      config,\n      layout,\n      scale,\n      overflowVisible\n    });\n  }, [config, layout, overflowVisible, scale]);\n  const containerStyle3 = useMemo11(() => {\n    return calculateContainerStyle({\n      canvasSize,\n      config,\n      layout,\n      scale,\n      overflowVisible\n    });\n  }, [canvasSize, config, layout, overflowVisible, scale]);\n  const onError = useCallback10(error => {\n    player.pause();\n    player.emitter.dispatchError(error);\n  }, [player]);\n  const onFullscreenButtonClick = useCallback10(e => {\n    e.stopPropagation();\n    requestFullscreen();\n  }, [requestFullscreen]);\n  const onExitFullscreenButtonClick = useCallback10(e => {\n    e.stopPropagation();\n    exitFullscreen();\n  }, [exitFullscreen]);\n  const onSingleClick = useCallback10(e => {\n    const rightClick = e instanceof MouseEvent ? e.button === 2 : e.nativeEvent.button;\n    if (rightClick) {\n      return;\n    }\n    toggle(e);\n  }, [toggle]);\n  const onSeekStart = useCallback10(() => {\n    setSeeking(true);\n  }, []);\n  const onSeekEnd = useCallback10(() => {\n    setSeeking(false);\n  }, []);\n  const onDoubleClick = useCallback10(() => {\n    if (isFullscreen) {\n      exitFullscreen();\n    } else {\n      requestFullscreen();\n    }\n  }, [exitFullscreen, isFullscreen, requestFullscreen]);\n  const {\n    handlePointerDown,\n    handleDoubleClick\n  } = useClickPreventionOnDoubleClick(onSingleClick, onDoubleClick, doubleClickToFullscreen && allowFullscreen && supportsFullScreen);\n  useEffect11(() => {\n    if (shouldAutoplay) {\n      player.play();\n      setShouldAutoPlay(false);\n    }\n  }, [shouldAutoplay, player]);\n  const loadingMarkup = useMemo11(() => {\n    return renderLoading ? renderLoading({\n      height: outerStyle.height,\n      width: outerStyle.width,\n      isBuffering: showBufferIndicator\n    }) : null;\n  }, [outerStyle.height, outerStyle.width, renderLoading, showBufferIndicator]);\n  const currentScale = useMemo11(() => {\n    return {\n      type: \"scale\",\n      scale\n    };\n  }, [scale]);\n  if (!config) {\n    return null;\n  }\n  const poster = renderPoster ? renderPoster({\n    height: posterFillMode === \"player-size\" ? outerStyle.height : config.height,\n    width: posterFillMode === \"player-size\" ? outerStyle.width : config.width,\n    isBuffering: showBufferIndicator\n  }) : null;\n  if (poster === undefined) {\n    throw new TypeError(\"renderPoster() must return a React element, but undefined was returned\");\n  }\n  const shouldShowPoster = poster && [showPosterWhenPaused && !player.isPlaying() && !seeking, showPosterWhenEnded && player.isLastFrame && !player.isPlaying(), showPosterWhenUnplayed && !player.hasPlayed && !player.isPlaying(), showPosterWhenBuffering && showBufferIndicator && player.isPlaying()].some(Boolean);\n  const {\n    left,\n    top,\n    width,\n    height,\n    ...outerWithoutScale\n  } = outer;\n  const content = /* @__PURE__ */jsxs8(Fragment3, {\n    children: [/* @__PURE__ */jsx11(\"div\", {\n      style: outer,\n      onPointerDown: clickToPlay ? handlePointerDown : undefined,\n      onDoubleClick: doubleClickToFullscreen ? handleDoubleClick : undefined,\n      children: /* @__PURE__ */jsxs8(\"div\", {\n        style: containerStyle3,\n        className: PLAYER_CSS_CLASSNAME,\n        children: [VideoComponent ? /* @__PURE__ */jsx11(ErrorBoundary, {\n          onError,\n          errorFallback,\n          children: /* @__PURE__ */jsx11(Internals10.ClipComposition, {\n            children: /* @__PURE__ */jsx11(Internals10.CurrentScaleContext.Provider, {\n              value: currentScale,\n              children: /* @__PURE__ */jsx11(VideoComponent, {\n                ...(video?.props ?? {}),\n                ...(inputProps ?? {})\n              })\n            })\n          })\n        }) : null, shouldShowPoster && posterFillMode === \"composition-size\" ? /* @__PURE__ */jsx11(\"div\", {\n          style: {\n            ...outerWithoutScale,\n            width: config.width,\n            height: config.height\n          },\n          onPointerDown: clickToPlay ? handlePointerDown : undefined,\n          onDoubleClick: doubleClickToFullscreen ? handleDoubleClick : undefined,\n          children: poster\n        }) : null]\n      })\n    }), shouldShowPoster && posterFillMode === \"player-size\" ? /* @__PURE__ */jsx11(\"div\", {\n      style: outer,\n      onPointerDown: clickToPlay ? handlePointerDown : undefined,\n      onDoubleClick: doubleClickToFullscreen ? handleDoubleClick : undefined,\n      children: poster\n    }) : null, controls ? /* @__PURE__ */jsx11(Controls, {\n      fps: config.fps,\n      durationInFrames: config.durationInFrames,\n      player,\n      containerRef: container,\n      onFullscreenButtonClick,\n      isFullscreen,\n      allowFullscreen,\n      showVolumeControls,\n      onExitFullscreenButtonClick,\n      spaceKeyToPlayOrPause,\n      onSeekEnd,\n      onSeekStart,\n      inFrame,\n      outFrame,\n      initiallyShowControls,\n      canvasSize,\n      renderFullscreenButton,\n      renderPlayPauseButton,\n      alwaysShowControls,\n      showPlaybackRateControl,\n      buffering: showBufferIndicator,\n      hideControlsWhenPointerDoesntMove,\n      onDoubleClick: doubleClickToFullscreen ? handleDoubleClick : undefined,\n      onPointerDown: clickToPlay ? handlePointerDown : undefined,\n      renderMuteButton,\n      renderVolumeSlider\n    }) : null]\n  });\n  if (IS_NODE && !doesReactVersionSupportSuspense) {\n    return /* @__PURE__ */jsx11(\"div\", {\n      ref: container,\n      style: outerStyle,\n      className: className2,\n      children: content\n    });\n  }\n  return /* @__PURE__ */jsx11(\"div\", {\n    ref: container,\n    style: outerStyle,\n    className: className2,\n    children: /* @__PURE__ */jsx11(Suspense, {\n      fallback: loadingMarkup,\n      children: content\n    })\n  });\n};\nvar PlayerUI_default = forwardRef(PlayerUI);\n\n// src/SharedPlayerContext.tsx\nimport { useCallback as useCallback11, useMemo as useMemo12, useState as useState12 } from \"react\";\nimport { Internals as Internals11 } from \"remotion\";\n\n// src/volume-persistance.ts\nvar VOLUME_PERSISTANCE_KEY = \"remotion.volumePreference\";\nvar persistVolume = volume => {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  try {\n    window.localStorage.setItem(VOLUME_PERSISTANCE_KEY, String(volume));\n  } catch (e) {\n    console.log(\"Could not persist volume\", e);\n  }\n};\nvar getPreferredVolume = () => {\n  if (typeof window === \"undefined\") {\n    return 1;\n  }\n  try {\n    const val = window.localStorage.getItem(VOLUME_PERSISTANCE_KEY);\n    return val ? Number(val) : 1;\n  } catch (e) {\n    return 1;\n  }\n};\n\n// src/SharedPlayerContext.tsx\nimport { jsx as jsx12 } from \"react/jsx-runtime\";\nvar PLAYER_COMP_ID = \"player-comp\";\nvar SharedPlayerContexts = ({\n  children,\n  timelineContext,\n  fps,\n  compositionHeight,\n  compositionWidth,\n  durationInFrames,\n  component,\n  numberOfSharedAudioTags,\n  initiallyMuted\n}) => {\n  const compositionManagerContext = useMemo12(() => {\n    const context = {\n      compositions: [{\n        component,\n        durationInFrames,\n        height: compositionHeight,\n        width: compositionWidth,\n        fps,\n        id: PLAYER_COMP_ID,\n        nonce: 777,\n        folderName: null,\n        parentFolderName: null,\n        schema: null,\n        calculateMetadata: null\n      }],\n      folders: [],\n      registerFolder: () => {\n        return;\n      },\n      unregisterFolder: () => {\n        return;\n      },\n      registerComposition: () => {\n        return;\n      },\n      unregisterComposition: () => {\n        return;\n      },\n      currentCompositionMetadata: null,\n      setCurrentCompositionMetadata: () => {\n        return;\n      },\n      canvasContent: {\n        type: \"composition\",\n        compositionId: \"player-comp\"\n      },\n      setCanvasContent: () => {\n        return;\n      },\n      updateCompositionDefaultProps: () => {\n        return;\n      }\n    };\n    return context;\n  }, [component, durationInFrames, compositionHeight, compositionWidth, fps]);\n  const [mediaMuted, setMediaMuted] = useState12(() => initiallyMuted);\n  const [mediaVolume, setMediaVolume] = useState12(() => getPreferredVolume());\n  const mediaVolumeContextValue = useMemo12(() => {\n    return {\n      mediaMuted,\n      mediaVolume\n    };\n  }, [mediaMuted, mediaVolume]);\n  const setMediaVolumeAndPersist = useCallback11(vol => {\n    setMediaVolume(vol);\n    persistVolume(vol);\n  }, []);\n  const setMediaVolumeContextValue = useMemo12(() => {\n    return {\n      setMediaMuted,\n      setMediaVolume: setMediaVolumeAndPersist\n    };\n  }, [setMediaVolumeAndPersist]);\n  return /* @__PURE__ */jsx12(Internals11.CanUseRemotionHooksProvider, {\n    children: /* @__PURE__ */jsx12(Internals11.Timeline.TimelineContext.Provider, {\n      value: timelineContext,\n      children: /* @__PURE__ */jsx12(Internals11.CompositionManager.Provider, {\n        value: compositionManagerContext,\n        children: /* @__PURE__ */jsx12(Internals11.ResolveCompositionConfig, {\n          children: /* @__PURE__ */jsx12(Internals11.PrefetchProvider, {\n            children: /* @__PURE__ */jsx12(Internals11.DurationsContextProvider, {\n              children: /* @__PURE__ */jsx12(Internals11.MediaVolumeContext.Provider, {\n                value: mediaVolumeContextValue,\n                children: /* @__PURE__ */jsx12(Internals11.NativeLayersProvider, {\n                  children: /* @__PURE__ */jsx12(Internals11.SetMediaVolumeContext.Provider, {\n                    value: setMediaVolumeContextValue,\n                    children: /* @__PURE__ */jsx12(Internals11.SharedAudioContextProvider, {\n                      numberOfAudioTags: numberOfSharedAudioTags,\n                      component,\n                      children: /* @__PURE__ */jsx12(Internals11.BufferingProvider, {\n                        children\n                      })\n                    })\n                  })\n                })\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n};\n\n// src/utils/validate-in-out-frame.ts\nvar validateSingleFrame = (frame, variableName) => {\n  if (typeof frame === \"undefined\" || frame === null) {\n    return frame ?? null;\n  }\n  if (typeof frame !== \"number\") {\n    throw new TypeError(`\"${variableName}\" must be a number, but is ${JSON.stringify(frame)}`);\n  }\n  if (Number.isNaN(frame)) {\n    throw new TypeError(`\"${variableName}\" must not be NaN, but is ${JSON.stringify(frame)}`);\n  }\n  if (!Number.isFinite(frame)) {\n    throw new TypeError(`\"${variableName}\" must be finite, but is ${JSON.stringify(frame)}`);\n  }\n  if (frame % 1 !== 0) {\n    throw new TypeError(`\"${variableName}\" must be an integer, but is ${JSON.stringify(frame)}`);\n  }\n  return frame;\n};\nvar validateInOutFrames = ({\n  inFrame,\n  durationInFrames,\n  outFrame\n}) => {\n  const validatedInFrame = validateSingleFrame(inFrame, \"inFrame\");\n  const validatedOutFrame = validateSingleFrame(outFrame, \"outFrame\");\n  if (validatedInFrame === null && validatedOutFrame === null) {\n    return;\n  }\n  if (validatedInFrame !== null && validatedInFrame > durationInFrames - 1) {\n    throw new Error(\"inFrame must be less than (durationInFrames - 1), but is \" + validatedInFrame);\n  }\n  if (validatedOutFrame !== null && validatedOutFrame > durationInFrames - 1) {\n    throw new Error(\"outFrame must be less than (durationInFrames - 1), but is \" + validatedOutFrame);\n  }\n  if (validatedInFrame !== null && validatedInFrame < 0) {\n    throw new Error(\"inFrame must be greater than 0, but is \" + validatedInFrame);\n  }\n  if (validatedOutFrame !== null && validatedOutFrame <= 0) {\n    throw new Error(`outFrame must be greater than 0, but is ${validatedOutFrame}. If you want to render a single frame, use <Thumbnail /> instead.`);\n  }\n  if (validatedOutFrame !== null && validatedInFrame !== null && validatedOutFrame <= validatedInFrame) {\n    throw new Error(\"outFrame must be greater than inFrame, but is \" + validatedOutFrame + \" <= \" + validatedInFrame);\n  }\n};\n\n// src/utils/validate-initial-frame.ts\nvar validateInitialFrame = ({\n  initialFrame,\n  durationInFrames\n}) => {\n  if (typeof durationInFrames !== \"number\") {\n    throw new Error(`\\`durationInFrames\\` must be a number, but is ${JSON.stringify(durationInFrames)}`);\n  }\n  if (typeof initialFrame === \"undefined\") {\n    return;\n  }\n  if (typeof initialFrame !== \"number\") {\n    throw new Error(`\\`initialFrame\\` must be a number, but is ${JSON.stringify(initialFrame)}`);\n  }\n  if (Number.isNaN(initialFrame)) {\n    throw new Error(`\\`initialFrame\\` must be a number, but is NaN`);\n  }\n  if (!Number.isFinite(initialFrame)) {\n    throw new Error(`\\`initialFrame\\` must be a number, but is Infinity`);\n  }\n  if (initialFrame % 1 !== 0) {\n    throw new Error(`\\`initialFrame\\` must be an integer, but is ${JSON.stringify(initialFrame)}`);\n  }\n  if (initialFrame > durationInFrames - 1) {\n    throw new Error(`\\`initialFrame\\` must be less or equal than \\`durationInFrames - 1\\`, but is ${JSON.stringify(initialFrame)}`);\n  }\n};\n\n// src/utils/validate-playbackrate.ts\nvar validatePlaybackRate = playbackRate => {\n  if (playbackRate === undefined) {\n    return;\n  }\n  if (playbackRate > 4) {\n    throw new Error(`The highest possible playback rate is 4. You passed: ${playbackRate}`);\n  }\n  if (playbackRate < -4) {\n    throw new Error(`The lowest possible playback rate is -4. You passed: ${playbackRate}`);\n  }\n  if (playbackRate === 0) {\n    throw new Error(`A playback rate of 0 is not supported.`);\n  }\n};\n\n// src/validate.ts\nimport { NoReactInternals } from \"remotion/no-react\";\nvar validateFps = NoReactInternals.validateFps;\nvar validateDimension = NoReactInternals.validateDimension;\nvar validateDurationInFrames = NoReactInternals.validateDurationInFrames;\nvar validateDefaultAndInputProps = NoReactInternals.validateDefaultAndInputProps;\n\n// src/Player.tsx\nimport { jsx as jsx13 } from \"react/jsx-runtime\";\nvar componentOrNullIfLazy = props => {\n  if (\"component\" in props) {\n    return props.component;\n  }\n  return null;\n};\nvar PlayerFn = ({\n  durationInFrames,\n  compositionHeight,\n  compositionWidth,\n  fps,\n  inputProps,\n  style,\n  controls = false,\n  loop = false,\n  autoPlay = false,\n  showVolumeControls = true,\n  allowFullscreen = true,\n  clickToPlay,\n  doubleClickToFullscreen = false,\n  spaceKeyToPlayOrPause = true,\n  moveToBeginningWhenEnded = true,\n  numberOfSharedAudioTags = 5,\n  errorFallback = () => \"\\u26A0\\uFE0F\",\n  playbackRate = 1,\n  renderLoading,\n  className: className2,\n  showPosterWhenUnplayed,\n  showPosterWhenEnded,\n  showPosterWhenPaused,\n  showPosterWhenBuffering,\n  initialFrame,\n  renderPoster,\n  inFrame,\n  outFrame,\n  initiallyShowControls,\n  renderFullscreenButton,\n  renderPlayPauseButton,\n  renderVolumeSlider,\n  alwaysShowControls = false,\n  initiallyMuted = false,\n  showPlaybackRateControl = false,\n  posterFillMode = \"player-size\",\n  bufferStateDelayInMilliseconds,\n  hideControlsWhenPointerDoesntMove = true,\n  overflowVisible = false,\n  renderMuteButton,\n  ...componentProps\n}, ref) => {\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect(() => {\n      window.remotion_isPlayer = true;\n    }, []);\n  }\n  if (componentProps.defaultProps !== undefined) {\n    throw new Error(\"The <Player /> component does not accept `defaultProps`, but some were passed. Use `inputProps` instead.\");\n  }\n  const componentForValidation = componentOrNullIfLazy(componentProps);\n  if (componentForValidation?.type === Composition) {\n    throw new TypeError(`'component' should not be an instance of <Composition/>. Pass the React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.`);\n  }\n  if (componentForValidation === Composition) {\n    throw new TypeError(`'component' must not be the 'Composition' component. Pass your own React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.`);\n  }\n  const component = Internals12.useLazyComponent(componentProps);\n  validateInitialFrame({\n    initialFrame,\n    durationInFrames\n  });\n  const [frame, setFrame] = useState13(() => ({\n    [PLAYER_COMP_ID]: initialFrame ?? 0\n  }));\n  const [playing, setPlaying] = useState13(false);\n  const [rootId] = useState13(\"player-comp\");\n  const rootRef = useRef10(null);\n  const audioAndVideoTags = useRef10([]);\n  const imperativePlaying = useRef10(false);\n  const [currentPlaybackRate, setCurrentPlaybackRate] = useState13(playbackRate);\n  if (typeof compositionHeight !== \"number\") {\n    throw new TypeError(`'compositionHeight' must be a number but got '${typeof compositionHeight}' instead`);\n  }\n  if (typeof compositionWidth !== \"number\") {\n    throw new TypeError(`'compositionWidth' must be a number but got '${typeof compositionWidth}' instead`);\n  }\n  validateDimension(compositionHeight, \"compositionHeight\", \"of the <Player /> component\");\n  validateDimension(compositionWidth, \"compositionWidth\", \"of the <Player /> component\");\n  validateDurationInFrames(durationInFrames, {\n    component: \"of the <Player/> component\",\n    allowFloats: false\n  });\n  validateFps(fps, \"as a prop of the <Player/> component\", false);\n  validateDefaultAndInputProps(inputProps, \"inputProps\", null);\n  validateInOutFrames({\n    durationInFrames,\n    inFrame,\n    outFrame\n  });\n  if (typeof controls !== \"boolean\" && typeof controls !== \"undefined\") {\n    throw new TypeError(`'controls' must be a boolean or undefined but got '${typeof controls}' instead`);\n  }\n  if (typeof autoPlay !== \"boolean\" && typeof autoPlay !== \"undefined\") {\n    throw new TypeError(`'autoPlay' must be a boolean or undefined but got '${typeof autoPlay}' instead`);\n  }\n  if (typeof loop !== \"boolean\" && typeof loop !== \"undefined\") {\n    throw new TypeError(`'loop' must be a boolean or undefined but got '${typeof loop}' instead`);\n  }\n  if (typeof doubleClickToFullscreen !== \"boolean\" && typeof doubleClickToFullscreen !== \"undefined\") {\n    throw new TypeError(`'doubleClickToFullscreen' must be a boolean or undefined but got '${typeof doubleClickToFullscreen}' instead`);\n  }\n  if (typeof showVolumeControls !== \"boolean\" && typeof showVolumeControls !== \"undefined\") {\n    throw new TypeError(`'showVolumeControls' must be a boolean or undefined but got '${typeof showVolumeControls}' instead`);\n  }\n  if (typeof allowFullscreen !== \"boolean\" && typeof allowFullscreen !== \"undefined\") {\n    throw new TypeError(`'allowFullscreen' must be a boolean or undefined but got '${typeof allowFullscreen}' instead`);\n  }\n  if (typeof clickToPlay !== \"boolean\" && typeof clickToPlay !== \"undefined\") {\n    throw new TypeError(`'clickToPlay' must be a boolean or undefined but got '${typeof clickToPlay}' instead`);\n  }\n  if (typeof spaceKeyToPlayOrPause !== \"boolean\" && typeof spaceKeyToPlayOrPause !== \"undefined\") {\n    throw new TypeError(`'spaceKeyToPlayOrPause' must be a boolean or undefined but got '${typeof spaceKeyToPlayOrPause}' instead`);\n  }\n  if (typeof numberOfSharedAudioTags !== \"number\" || numberOfSharedAudioTags % 1 !== 0 || !Number.isFinite(numberOfSharedAudioTags) || Number.isNaN(numberOfSharedAudioTags) || numberOfSharedAudioTags < 0) {\n    throw new TypeError(`'numberOfSharedAudioTags' must be an integer but got '${numberOfSharedAudioTags}' instead`);\n  }\n  validatePlaybackRate(currentPlaybackRate);\n  useEffect12(() => {\n    setCurrentPlaybackRate(playbackRate);\n  }, [playbackRate]);\n  useImperativeHandle2(ref, () => rootRef.current, []);\n  const timelineContextValue = useMemo13(() => {\n    return {\n      frame,\n      playing,\n      rootId,\n      playbackRate: currentPlaybackRate,\n      imperativePlaying,\n      setPlaybackRate: rate => {\n        setCurrentPlaybackRate(rate);\n      },\n      audioAndVideoTags\n    };\n  }, [frame, currentPlaybackRate, playing, rootId]);\n  const setTimelineContextValue = useMemo13(() => {\n    return {\n      setFrame,\n      setPlaying\n    };\n  }, [setFrame]);\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect(() => {\n      Internals12.CSSUtils.injectCSS(Internals12.CSSUtils.makeDefaultPreviewCSS(`.${PLAYER_CSS_CLASSNAME}`, \"#fff\"));\n    }, []);\n  }\n  const actualInputProps = useMemo13(() => inputProps ?? {}, [inputProps]);\n  return /* @__PURE__ */jsx13(Internals12.IsPlayerContextProvider, {\n    children: /* @__PURE__ */jsx13(SharedPlayerContexts, {\n      timelineContext: timelineContextValue,\n      component,\n      compositionHeight,\n      compositionWidth,\n      durationInFrames,\n      fps,\n      numberOfSharedAudioTags,\n      initiallyMuted,\n      children: /* @__PURE__ */jsx13(Internals12.Timeline.SetTimelineContext.Provider, {\n        value: setTimelineContextValue,\n        children: /* @__PURE__ */jsx13(PlayerEmitterProvider, {\n          currentPlaybackRate,\n          children: /* @__PURE__ */jsx13(PlayerUI_default, {\n            ref: rootRef,\n            posterFillMode,\n            renderLoading,\n            autoPlay: Boolean(autoPlay),\n            loop: Boolean(loop),\n            controls: Boolean(controls),\n            errorFallback,\n            style,\n            inputProps: actualInputProps,\n            allowFullscreen: Boolean(allowFullscreen),\n            moveToBeginningWhenEnded: Boolean(moveToBeginningWhenEnded),\n            clickToPlay: typeof clickToPlay === \"boolean\" ? clickToPlay : Boolean(controls),\n            showVolumeControls: Boolean(showVolumeControls),\n            doubleClickToFullscreen: Boolean(doubleClickToFullscreen),\n            spaceKeyToPlayOrPause: Boolean(spaceKeyToPlayOrPause),\n            playbackRate: currentPlaybackRate,\n            className: className2 ?? undefined,\n            showPosterWhenUnplayed: Boolean(showPosterWhenUnplayed),\n            showPosterWhenEnded: Boolean(showPosterWhenEnded),\n            showPosterWhenPaused: Boolean(showPosterWhenPaused),\n            showPosterWhenBuffering: Boolean(showPosterWhenBuffering),\n            renderPoster,\n            inFrame: inFrame ?? null,\n            outFrame: outFrame ?? null,\n            initiallyShowControls: initiallyShowControls ?? true,\n            renderFullscreen: renderFullscreenButton ?? null,\n            renderPlayPauseButton: renderPlayPauseButton ?? null,\n            renderMuteButton: renderMuteButton ?? null,\n            renderVolumeSlider: renderVolumeSlider ?? null,\n            alwaysShowControls,\n            showPlaybackRateControl,\n            bufferStateDelayInMilliseconds: bufferStateDelayInMilliseconds ?? 300,\n            hideControlsWhenPointerDoesntMove,\n            overflowVisible\n          })\n        })\n      })\n    })\n  });\n};\nvar forward = forwardRef2;\nvar Player = forward(PlayerFn);\n// src/Thumbnail.tsx\nimport { forwardRef as forwardRef4, useImperativeHandle as useImperativeHandle4, useLayoutEffect as useLayoutEffect2, useMemo as useMemo16, useRef as useRef12, useState as useState14 } from \"react\";\nimport { Internals as Internals14, random as random2 } from \"remotion\";\n\n// src/ThumbnailUI.tsx\nimport React11, { forwardRef as forwardRef3, Suspense as Suspense2, useCallback as useCallback12, useImperativeHandle as useImperativeHandle3, useMemo as useMemo15, useRef as useRef11 } from \"react\";\nimport { Internals as Internals13 } from \"remotion\";\n\n// src/use-thumbnail.ts\nimport { useContext as useContext7, useMemo as useMemo14 } from \"react\";\nvar useThumbnail = () => {\n  const emitter = useContext7(ThumbnailEmitterContext);\n  if (!emitter) {\n    throw new TypeError(\"Expected Player event emitter context\");\n  }\n  const returnValue = useMemo14(() => {\n    return {\n      emitter\n    };\n  }, [emitter]);\n  return returnValue;\n};\n\n// src/ThumbnailUI.tsx\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nvar reactVersion2 = React11.version.split(\".\")[0];\nif (reactVersion2 === \"0\") {\n  throw new Error(`Version ${reactVersion2} of \"react\" is not supported by Remotion`);\n}\nvar doesReactVersionSupportSuspense2 = parseInt(reactVersion2, 10) >= 18;\nvar ThumbnailUI = ({\n  style,\n  inputProps,\n  errorFallback,\n  renderLoading,\n  className: className2,\n  overflowVisible\n}, ref) => {\n  const config = Internals13.useUnsafeVideoConfig();\n  const video = Internals13.useVideo();\n  const container = useRef11(null);\n  const canvasSize = useElementSize(container, {\n    triggerOnWindowResize: false,\n    shouldApplyCssTransforms: false\n  });\n  const layout = useMemo15(() => {\n    if (!config || !canvasSize) {\n      return null;\n    }\n    return calculateCanvasTransformation({\n      canvasSize,\n      compositionHeight: config.height,\n      compositionWidth: config.width,\n      previewSize: \"auto\"\n    });\n  }, [canvasSize, config]);\n  const scale = layout?.scale ?? 1;\n  const thumbnail = useThumbnail();\n  useBufferStateEmitter(thumbnail.emitter);\n  useImperativeHandle3(ref, () => {\n    const methods = {\n      getContainerNode: () => container.current,\n      getScale: () => scale\n    };\n    return Object.assign(thumbnail.emitter, methods);\n  }, [scale, thumbnail.emitter]);\n  const VideoComponent = video ? video.component : null;\n  const outerStyle = useMemo15(() => {\n    return calculateOuterStyle({\n      config,\n      style,\n      canvasSize,\n      overflowVisible,\n      layout\n    });\n  }, [canvasSize, config, layout, overflowVisible, style]);\n  const outer = useMemo15(() => {\n    return calculateOuter({\n      config,\n      layout,\n      scale,\n      overflowVisible\n    });\n  }, [config, layout, overflowVisible, scale]);\n  const containerStyle3 = useMemo15(() => {\n    return calculateContainerStyle({\n      canvasSize,\n      config,\n      layout,\n      scale,\n      overflowVisible\n    });\n  }, [canvasSize, config, layout, overflowVisible, scale]);\n  const onError = useCallback12(error => {\n    thumbnail.emitter.dispatchError(error);\n  }, [thumbnail.emitter]);\n  const loadingMarkup = useMemo15(() => {\n    return renderLoading ? renderLoading({\n      height: outerStyle.height,\n      width: outerStyle.width,\n      isBuffering: false\n    }) : null;\n  }, [outerStyle.height, outerStyle.width, renderLoading]);\n  const currentScaleContext = useMemo15(() => {\n    return {\n      type: \"scale\",\n      scale\n    };\n  }, [scale]);\n  if (!config) {\n    return null;\n  }\n  const content = /* @__PURE__ */jsx14(\"div\", {\n    style: outer,\n    children: /* @__PURE__ */jsx14(\"div\", {\n      style: containerStyle3,\n      className: PLAYER_CSS_CLASSNAME,\n      children: VideoComponent ? /* @__PURE__ */jsx14(ErrorBoundary, {\n        onError,\n        errorFallback,\n        children: /* @__PURE__ */jsx14(Internals13.CurrentScaleContext.Provider, {\n          value: currentScaleContext,\n          children: /* @__PURE__ */jsx14(VideoComponent, {\n            ...(video?.props ?? {}),\n            ...(inputProps ?? {})\n          })\n        })\n      }) : null\n    })\n  });\n  if (IS_NODE && !doesReactVersionSupportSuspense2) {\n    return /* @__PURE__ */jsx14(\"div\", {\n      ref: container,\n      style: outerStyle,\n      className: className2,\n      children: content\n    });\n  }\n  return /* @__PURE__ */jsx14(\"div\", {\n    ref: container,\n    style: outerStyle,\n    className: className2,\n    children: /* @__PURE__ */jsx14(Suspense2, {\n      fallback: loadingMarkup,\n      children: content\n    })\n  });\n};\nvar ThumbnailUI_default = forwardRef3(ThumbnailUI);\n\n// src/Thumbnail.tsx\nimport { jsx as jsx15 } from \"react/jsx-runtime\";\nvar ThumbnailFn = ({\n  frameToDisplay,\n  style,\n  inputProps,\n  compositionHeight,\n  compositionWidth,\n  durationInFrames,\n  fps,\n  className: className2,\n  errorFallback = () => \"\\u26A0\\uFE0F\",\n  renderLoading,\n  overflowVisible = false,\n  ...componentProps\n}, ref) => {\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect2(() => {\n      window.remotion_isPlayer = true;\n    }, []);\n  }\n  const [thumbnailId] = useState14(() => String(random2(null)));\n  const rootRef = useRef12(null);\n  const timelineState = useMemo16(() => {\n    const value = {\n      playing: false,\n      frame: {\n        [PLAYER_COMP_ID]: frameToDisplay\n      },\n      rootId: thumbnailId,\n      imperativePlaying: {\n        current: false\n      },\n      playbackRate: 1,\n      setPlaybackRate: () => {\n        throw new Error(\"thumbnail\");\n      },\n      audioAndVideoTags: {\n        current: []\n      }\n    };\n    return value;\n  }, [frameToDisplay, thumbnailId]);\n  useImperativeHandle4(ref, () => rootRef.current, []);\n  const Component = Internals14.useLazyComponent(componentProps);\n  const [emitter] = useState14(() => new ThumbnailEmitter());\n  const passedInputProps = useMemo16(() => {\n    return inputProps ?? {};\n  }, [inputProps]);\n  return /* @__PURE__ */jsx15(Internals14.IsPlayerContextProvider, {\n    children: /* @__PURE__ */jsx15(SharedPlayerContexts, {\n      timelineContext: timelineState,\n      component: Component,\n      compositionHeight,\n      compositionWidth,\n      durationInFrames,\n      fps,\n      numberOfSharedAudioTags: 0,\n      initiallyMuted: true,\n      children: /* @__PURE__ */jsx15(ThumbnailEmitterContext.Provider, {\n        value: emitter,\n        children: /* @__PURE__ */jsx15(ThumbnailUI_default, {\n          ref: rootRef,\n          className: className2,\n          errorFallback,\n          inputProps: passedInputProps,\n          renderLoading,\n          style,\n          overflowVisible\n        })\n      })\n    })\n  });\n};\nvar forward2 = forwardRef4;\nvar Thumbnail = forward2(ThumbnailFn);\n\n// src/index.ts\nvar PlayerInternals = {\n  PlayerEventEmitterContext,\n  PlayerEmitter,\n  usePlayer,\n  usePlayback,\n  useElementSize,\n  calculateCanvasTransformation,\n  useHoverState,\n  updateAllElementsSizes,\n  PlayerEmitterProvider,\n  BufferingIndicator\n};\nexport { Thumbnail, PlayerInternals, Player };","map":{"version":3,"names":["jsx","jsxs","ICON_SIZE","fullscreenIconSize","PlayIcon","width","height","viewBox","fill","children","d","stroke","strokeWidth","strokeLinejoin","PauseIcon","x","y","ry","rx","FullscreenIcon","isFullscreen","viewSize","out","middleInset","inset","VolumeOffIcon","VolumeOnIcon","jsx2","jsxs2","Fragment","className","remotionBufferingAnimation","playerStyle","overflow","lineHeight","fontSize","studioStyle","BufferingIndicator","type","style","strokeLinecap","Internals","calculatePlayerSize","currentSize","compositionWidth","compositionHeight","undefined","aspectRatio","join","calculateCanvasTransformation","previewSize","canvasSize","scale","calculateScale","correction","xCorrection","yCorrection","centerX","centerY","calculateOuterStyle","config","overflowVisible","layout","position","opacity","calculateContainerStyle","display","transform","marginLeft","marginTop","calculateOuter","flexDirection","left","top","React","PlayerEventEmitterContext","createContext","ThumbnailEmitterContext","useContext","useContext2","useEffect","useEffect2","useState","Internals3","PlayerEmitter","listeners","ended","error","pause","play","ratechange","scalechange","seeked","timeupdate","frameupdate","fullscreenchange","volumechange","mutechange","waiting","resume","addEventListener","name","callback","push","removeEventListener","filter","l","dispatchEvent","dispatchName","context","forEach","detail","dispatchSeek","frame","dispatchVolumeChange","volume","dispatchPause","dispatchPlay","dispatchEnded","dispatchRateChange","playbackRate","dispatchScaleChange","dispatchError","dispatchTimeUpdate","event","dispatchFrameUpdate","dispatchFullscreenChange","dispatchMuteChange","dispatchWaiting","dispatchResume","ThumbnailEmitter","Internals2","useBufferStateEmitter","emitter","bufferManager","BufferingContextReact","Error","clear1","listenForBuffering","buffering","current","clear2","listenForResume","remove","jsx3","PlayerEmitterProvider","currentPlaybackRate","Provider","value","useEffect3","useState2","useHoverState","ref","hideControlsWhenPointerDoesntMove","hovered","setHovered","hoverTimeout","addHoverTimeout","clearTimeout","setTimeout","onHover","onLeave","onMove","useContext4","useEffect5","useRef","useRef3","Internals5","calculateNextFrame","time","currentFrame","startFrame","playbackSpeed","fps","actualLastFrame","actualFirstFrame","framesAdvanced","shouldLoop","op","Math","ceil","floor","framesToAdvance","nextFrame","isCurrentFrameOutside","isNextFrameOutside","hasEnded","useEffect4","getIsBackgrounded","document","visibilityState","useIsBackgrounded","isBackgrounded","onVisibilityChange","useCallback","useContext3","useMemo","useRef2","useState3","Internals4","usePlayer","playing","setPlaying","imperativePlaying","Timeline","usePlayingState","hasPlayed","setHasPlayed","useTimelinePosition","playStart","setFrame","useTimelineSetFrame","setTimelinePosition","audioContext","SharedAudioContext","audioAndVideoTags","TimelineContext","frameRef","video","useVideo","useUnsafeVideoConfig","lastFrame","durationInFrames","isLastFrame","isFirstFrame","TypeError","bufferingContext","seek","newFrame","id","c","e","numberOfAudioTags","playAllAudios","a","pauseAndReturnToPlayStart","videoId","frameBack","frames","prev","window","remotion_initialFrame","max","frameForward","min","returnValue","getCurrentFrame","isPlaying","isBuffering","remotionInternal_currentFrameRef","usePlayback","loop","moveToBeginningWhenEnded","inFrame","outFrame","isBackgroundedRef","lastTimeUpdateEvent","onBufferClear","performance","now","onResumeClear","hasBeenStopped","reqAnimFrameCall","startedTime","cancelQueuedFrame","cancelAnimationFrame","stop","queueNextFrame","stopListening","requestAnimationFrame","interval","setInterval","clearInterval","useCallback2","useEffect6","useMemo2","useState4","elementSizeHooks","updateAllElementsSizes","listener","useElementSize","options","size","setSize","rect","getClientRects","windowSize","innerHeight","innerWidth","observer","ResizeObserver","entries","contentRect","target","newSize","probableCssParentScale","shouldApplyCssTransforms","updateSize","prevState","isSame","observe","unobserve","triggerOnWindowResize","refresh","forwardRef","forwardRef2","useEffect12","useImperativeHandle","useImperativeHandle2","useLayoutEffect","useMemo13","useRef10","useState13","Composition","Internals12","React8","Suspense","useCallback10","useContext6","useEffect11","useMemo11","useRef9","useState11","Internals10","useCallback7","useEffect10","useMemo8","useRef7","useState10","Internals9","jsx4","DefaultPlayPauseButton","useCallback4","useMemo4","useRef4","useState6","Internals6","React3","useCallback3","useMemo3","useState5","random","jsx5","jsxs3","KNOB_SIZE","BAR_HEIGHT","DefaultVolumeSlider","isVertical","onBlur","inputRef","setVolume","sliderContainer","paddingLeft","common","VOLUME_SLIDER_WIDTH","alignItems","randomId","useId","randomClass","replace","onVolumeChange","parseFloat","inputStyle","commonStyle","WebkitAppearance","backgroundColor","borderRadius","cursor","backgroundImage","bottom","sliderStyle","dangerouslySetInnerHTML","__html","onChange","step","renderDefaultVolumeSlider","props","jsx6","jsxs4","MediaVolumeSlider","displayVerticalVolumeSlider","renderMuteButton","renderVolumeSlider","mediaMuted","setMediaMuted","useMediaMutedState","mediaVolume","setMediaVolume","useMediaVolumeState","focused","setFocused","parentDivRef","hover","activeElement","isVolume0","onClick","mute","parentDivStyle","background","border","justifyContent","touchAction","volumeContainer","appearance","padding","renderDefaultMuteButton","muted","isMutedOrZero","title","onFocus","muteButton","volumeSlider","isIosSafari","useCallback5","useContext5","useEffect8","useMemo5","useState8","Internals7","useEffect7","useRef5","useState7","useComponentVisible","initialIsVisible","isComponentVisible","setIsComponentVisible","handleClickOutside","contains","jsx7","jsxs5","BOTTOM","THRESHOLD","rateDiv","paddingRight","checkmarkContainer","checkmarkStyle","color","Checkmark","PlaybackrateOption","rate","onSelect","selectedRate","keyboardSelectedRate","stopPropagation","preventDefault","onMouseEnter","onMouseLeave","isFocused","actualStyle","tabIndex","toFixed","PlaybackPopup","playbackRates","setPlaybackRate","setKeyboardSelectedRate","key","currentIndex","findIndex","length","playbackPopup","right","maxHeight","textAlign","map","label","fontWeight","paddingTop","paddingBottom","playerButtonStyle","marginBottom","button","PlaybackrateControl","prevIsComponentVisible","useCallback6","useEffect9","useMemo6","useRef6","useState9","Internals8","interpolate","jsx8","jsxs6","getFrameFromX","clientX","pos","round","extrapolateLeft","extrapolateRight","BAR_HEIGHT2","KNOB_SIZE2","VERTICAL_PADDING","containerStyle","userSelect","WebkitUserSelect","boxSizing","barBackground","findBodyInWhichDivIsLocated","div","parentElement","PlayerSeekBar","onSeekEnd","onSeekStart","containerRef","barHovered","dragging","setDragging","onPointerDown","posLeft","getBoundingClientRect","_frame","wasPlaying","onPointerMove","onPointerUp","body","knobStyle","boxShadow","Number","fillStyle","active","formatTime","timeInSeconds","minutes","seconds","String","padStart","useMemo7","X_SPACER","X_PADDING","useVideoControlsResize","allowFullscreen","allowFullScreen","playerWidth","resizeInfo","playPauseIconSize","volumeIconSize","_fullscreenIconSize","elementsSize","maxTimeLabelWidth","maxTimeLabelWidthWithoutNegativeValue","availableTimeLabelWidthIfVolumeOpen","computedLabelWidth","minWidthForHorizontalDisplay","jsx9","jsxs7","Fragment2","gradientSteps","gradientOpacities","globalGradientOpacity","containerStyle2","g","i","backgroundSize","transition","controlsRow","leftPartStyle","xSpacer","ySpacer","flex1","flex","fullscreen","Controls","player","showVolumeControls","onFullscreenButtonClick","onExitFullscreenButtonClick","spaceKeyToPlayOrPause","initiallyShowControls","renderPlayPauseButton","renderFullscreenButton","alwaysShowControls","showPlaybackRateControl","onDoubleClick","playButtonRef","supportsFullscreen","setSupportsFullscreen","shouldShowInitially","setInitiallyShowControls","isNaN","isFinite","containerCss","shouldShow","focus","preventScroll","fullscreenEnabled","webkitFullscreenEnabled","timeout","timeLabel","fontFamily","maxWidth","textOverflow","Array","isArray","flexRef","onPointerDownIfContainer","onDoubleClickIfContainer","React7","jsx10","errorStyle","ErrorBoundary","Component","state","hasError","getDerivedStateFromError","componentDidCatch","onError","render","errorFallback","PLAYER_CSS_CLASSNAME","IS_NODE","useCallback9","useMemo10","cancellablePromise","promise","isCanceled","wrappedPromise","Promise","resolve","reject","then","catch","cancel","delay","n","useCallback8","useMemo9","useRef8","useCancellablePromises","pendingPromises","appendPendingPromise","removePendingPromise","p","clearPendingPromises","api","useClickPreventionOnDoubleClick","doubleClickToFullscreen","handleClick","PointerEvent","pointerType","nativeEvent","waitForClick","errorInfo","info","handlePointerDown","newEvt","once","handleDoubleClick","jsx11","jsxs8","Fragment3","reactVersion","version","split","doesReactVersionSupportSuspense","parseInt","PlayerUI","controls","autoPlay","inputProps","clickToPlay","renderLoading","renderPoster","className2","showPosterWhenUnplayed","showPosterWhenEnded","showPosterWhenPaused","showPosterWhenBuffering","renderFullscreen","posterFillMode","bufferStateDelayInMilliseconds","container","hasPausedToResume","setHasPausedToResume","shouldAutoplay","setShouldAutoPlay","setIsFullscreen","seeking","setSeeking","supportsFullScreen","Boolean","onFullscreenChange","newValue","fullscreenElement","webkitFullscreenElement","toggle","requestFullscreen","webkitRequestFullScreen","exitFullscreen","webkitExitFullscreen","fullscreenChange","element","initialScaleIgnored","SetMediaVolumeContext","MediaVolumeContext","isMuted","showBufferIndicator","setShowBufferState","stopped","onBuffer","onResume","methods","getContainerNode","seekTo","f","frameToSeekTo","pauseToResume","getVolume","vol","unmute","getScale","Object","assign","VideoComponent","component","outerStyle","outer","containerStyle3","onSingleClick","rightClick","MouseEvent","loadingMarkup","currentScale","poster","shouldShowPoster","some","outerWithoutScale","content","ClipComposition","CurrentScaleContext","fallback","PlayerUI_default","useCallback11","useMemo12","useState12","Internals11","VOLUME_PERSISTANCE_KEY","persistVolume","localStorage","setItem","console","log","getPreferredVolume","val","getItem","jsx12","PLAYER_COMP_ID","SharedPlayerContexts","timelineContext","numberOfSharedAudioTags","initiallyMuted","compositionManagerContext","compositions","nonce","folderName","parentFolderName","schema","calculateMetadata","folders","registerFolder","unregisterFolder","registerComposition","unregisterComposition","currentCompositionMetadata","setCurrentCompositionMetadata","canvasContent","compositionId","setCanvasContent","updateCompositionDefaultProps","mediaVolumeContextValue","setMediaVolumeAndPersist","setMediaVolumeContextValue","CanUseRemotionHooksProvider","CompositionManager","ResolveCompositionConfig","PrefetchProvider","DurationsContextProvider","NativeLayersProvider","SharedAudioContextProvider","BufferingProvider","validateSingleFrame","variableName","JSON","stringify","validateInOutFrames","validatedInFrame","validatedOutFrame","validateInitialFrame","initialFrame","validatePlaybackRate","NoReactInternals","validateFps","validateDimension","validateDurationInFrames","validateDefaultAndInputProps","jsx13","componentOrNullIfLazy","PlayerFn","componentProps","remotion_isPlayer","defaultProps","componentForValidation","useLazyComponent","rootId","rootRef","setCurrentPlaybackRate","allowFloats","timelineContextValue","setTimelineContextValue","CSSUtils","injectCSS","makeDefaultPreviewCSS","actualInputProps","IsPlayerContextProvider","SetTimelineContext","forward","Player","forwardRef4","useImperativeHandle4","useLayoutEffect2","useMemo16","useRef12","useState14","Internals14","random2","React11","forwardRef3","Suspense2","useCallback12","useImperativeHandle3","useMemo15","useRef11","Internals13","useContext7","useMemo14","useThumbnail","jsx14","reactVersion2","doesReactVersionSupportSuspense2","ThumbnailUI","thumbnail","currentScaleContext","ThumbnailUI_default","jsx15","ThumbnailFn","frameToDisplay","thumbnailId","timelineState","passedInputProps","forward2","Thumbnail","PlayerInternals"],"sources":["C:/Users/ransu/OneDrive/Desktop/Video_Player/node_modules/@remotion/player/dist/esm/index.mjs"],"sourcesContent":["\"use client\";\n// src/icons.tsx\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar ICON_SIZE = 25;\nvar fullscreenIconSize = 16;\nvar PlayIcon = () => {\n  return /* @__PURE__ */ jsx(\"svg\", {\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    viewBox: \"0 0 25 25\",\n    fill: \"none\",\n    children: /* @__PURE__ */ jsx(\"path\", {\n      d: \"M8 6.375C7.40904 8.17576 7.06921 10.2486 7.01438 12.3871C6.95955 14.5255 7.19163 16.6547 7.6875 18.5625C9.95364 18.2995 12.116 17.6164 14.009 16.5655C15.902 15.5147 17.4755 14.124 18.6088 12.5C17.5158 10.8949 15.9949 9.51103 14.1585 8.45082C12.3222 7.3906 10.2174 6.68116 8 6.375Z\",\n      fill: \"white\",\n      stroke: \"white\",\n      strokeWidth: \"6.25\",\n      strokeLinejoin: \"round\"\n    })\n  });\n};\nvar PauseIcon = () => {\n  return /* @__PURE__ */ jsxs(\"svg\", {\n    viewBox: \"0 0 100 100\",\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    children: [\n      /* @__PURE__ */ jsx(\"rect\", {\n        x: \"25\",\n        y: \"20\",\n        width: \"20\",\n        height: \"60\",\n        fill: \"#fff\",\n        ry: \"5\",\n        rx: \"5\"\n      }),\n      /* @__PURE__ */ jsx(\"rect\", {\n        x: \"55\",\n        y: \"20\",\n        width: \"20\",\n        height: \"60\",\n        fill: \"#fff\",\n        ry: \"5\",\n        rx: \"5\"\n      })\n    ]\n  });\n};\nvar FullscreenIcon = ({\n  isFullscreen\n}) => {\n  const strokeWidth = 6;\n  const viewSize = 32;\n  const out = isFullscreen ? 0 : strokeWidth / 2;\n  const middleInset = isFullscreen ? strokeWidth * 1.6 : strokeWidth / 2;\n  const inset = isFullscreen ? strokeWidth * 1.6 : strokeWidth * 2;\n  return /* @__PURE__ */ jsxs(\"svg\", {\n    viewBox: `0 0 ${viewSize} ${viewSize}`,\n    height: fullscreenIconSize,\n    width: fullscreenIconSize,\n    children: [\n      /* @__PURE__ */ jsx(\"path\", {\n        d: `\n\t\t\t\tM ${out} ${inset}\n\t\t\t\tL ${middleInset} ${middleInset}\n\t\t\t\tL ${inset} ${out}\n\t\t\t\t`,\n        stroke: \"#fff\",\n        strokeWidth,\n        fill: \"none\"\n      }),\n      /* @__PURE__ */ jsx(\"path\", {\n        d: `\n\t\t\t\tM ${viewSize - out} ${inset}\n\t\t\t\tL ${viewSize - middleInset} ${middleInset}\n\t\t\t\tL ${viewSize - inset} ${out}\n\t\t\t\t`,\n        stroke: \"#fff\",\n        strokeWidth,\n        fill: \"none\"\n      }),\n      /* @__PURE__ */ jsx(\"path\", {\n        d: `\n\t\t\t\tM ${out} ${viewSize - inset}\n\t\t\t\tL ${middleInset} ${viewSize - middleInset}\n\t\t\t\tL ${inset} ${viewSize - out}\n\t\t\t\t`,\n        stroke: \"#fff\",\n        strokeWidth,\n        fill: \"none\"\n      }),\n      /* @__PURE__ */ jsx(\"path\", {\n        d: `\n\t\t\t\tM ${viewSize - out} ${viewSize - inset}\n\t\t\t\tL ${viewSize - middleInset} ${viewSize - middleInset}\n\t\t\t\tL ${viewSize - inset} ${viewSize - out}\n\t\t\t\t`,\n        stroke: \"#fff\",\n        strokeWidth,\n        fill: \"none\"\n      })\n    ]\n  });\n};\nvar VolumeOffIcon = () => {\n  return /* @__PURE__ */ jsx(\"svg\", {\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    viewBox: \"0 0 24 24\",\n    children: /* @__PURE__ */ jsx(\"path\", {\n      d: \"M3.63 3.63a.996.996 0 000 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 101.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0014 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z\",\n      fill: \"#fff\"\n    })\n  });\n};\nvar VolumeOnIcon = () => {\n  return /* @__PURE__ */ jsx(\"svg\", {\n    width: ICON_SIZE,\n    height: ICON_SIZE,\n    viewBox: \"0 0 24 24\",\n    children: /* @__PURE__ */ jsx(\"path\", {\n      d: \"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z\",\n      fill: \"#fff\"\n    })\n  });\n};\n\n// src/BufferingIndicator.tsx\nimport { jsx as jsx2, jsxs as jsxs2, Fragment } from \"react/jsx-runtime\";\nvar className = \"__remotion_buffering_indicator\";\nvar remotionBufferingAnimation = \"__remotion_buffering_animation\";\nvar playerStyle = {\n  width: ICON_SIZE,\n  height: ICON_SIZE,\n  overflow: \"hidden\",\n  lineHeight: \"normal\",\n  fontSize: \"inherit\"\n};\nvar studioStyle = {\n  width: 14,\n  height: 14,\n  overflow: \"hidden\",\n  lineHeight: \"normal\",\n  fontSize: \"inherit\"\n};\nvar BufferingIndicator = ({ type }) => {\n  const style = type === \"player\" ? playerStyle : studioStyle;\n  return /* @__PURE__ */ jsxs2(Fragment, {\n    children: [\n      /* @__PURE__ */ jsx2(\"style\", {\n        type: \"text/css\",\n        children: `\n\t\t\t\t@keyframes ${remotionBufferingAnimation} {\n          0% {\n            rotate: 0deg;\n          }\n          100% {\n            rotate: 360deg;\n          }\n        }\n        \n        .${className} {\n            animation: ${remotionBufferingAnimation} 1s linear infinite;\n        }        \n\t\t\t`\n      }),\n      /* @__PURE__ */ jsx2(\"div\", {\n        style,\n        children: /* @__PURE__ */ jsx2(\"svg\", {\n          viewBox: type === \"player\" ? \"0 0 22 22\" : \"0 0 18 18\",\n          style,\n          className,\n          children: /* @__PURE__ */ jsx2(\"path\", {\n            d: type === \"player\" ? \"M 11 4 A 7 7 0 0 1 15.1145 16.66312\" : \"M 9 2 A 7 7 0 0 1 13.1145 14.66312\",\n            stroke: \"white\",\n            strokeLinecap: \"round\",\n            fill: \"none\",\n            strokeWidth: 3\n          })\n        })\n      })\n    ]\n  });\n};\n\n// src/calculate-scale.ts\nimport { Internals } from \"remotion\";\n\n// src/utils/calculate-player-size.ts\nvar calculatePlayerSize = ({\n  currentSize,\n  width,\n  height,\n  compositionWidth,\n  compositionHeight\n}) => {\n  if (width !== undefined && height === undefined) {\n    return {\n      aspectRatio: [compositionWidth, compositionHeight].join(\"/\")\n    };\n  }\n  if (height !== undefined && width === undefined) {\n    return {\n      aspectRatio: [compositionWidth, compositionHeight].join(\"/\")\n    };\n  }\n  if (!currentSize) {\n    return {\n      width: compositionWidth,\n      height: compositionHeight\n    };\n  }\n  return {\n    width: compositionWidth,\n    height: compositionHeight\n  };\n};\n\n// src/calculate-scale.ts\nvar calculateCanvasTransformation = ({\n  previewSize,\n  compositionWidth,\n  compositionHeight,\n  canvasSize\n}) => {\n  const scale = Internals.calculateScale({\n    canvasSize,\n    compositionHeight,\n    compositionWidth,\n    previewSize\n  });\n  const correction = 0 - (1 - scale) / 2;\n  const xCorrection = correction * compositionWidth;\n  const yCorrection = correction * compositionHeight;\n  const width = compositionWidth * scale;\n  const height = compositionHeight * scale;\n  const centerX = canvasSize.width / 2 - width / 2;\n  const centerY = canvasSize.height / 2 - height / 2;\n  return {\n    centerX,\n    centerY,\n    xCorrection,\n    yCorrection,\n    scale\n  };\n};\nvar calculateOuterStyle = ({\n  config,\n  style,\n  canvasSize,\n  overflowVisible,\n  layout\n}) => {\n  if (!config) {\n    return {};\n  }\n  return {\n    position: \"relative\",\n    overflow: overflowVisible ? \"visible\" : \"hidden\",\n    ...calculatePlayerSize({\n      compositionHeight: config.height,\n      compositionWidth: config.width,\n      currentSize: canvasSize,\n      height: style?.height,\n      width: style?.width\n    }),\n    opacity: layout ? 1 : 0,\n    ...style\n  };\n};\nvar calculateContainerStyle = ({\n  config,\n  canvasSize,\n  layout,\n  scale,\n  overflowVisible\n}) => {\n  if (!config || !canvasSize || !layout) {\n    return {};\n  }\n  return {\n    position: \"absolute\",\n    width: config.width,\n    height: config.height,\n    display: \"flex\",\n    transform: `scale(${scale})`,\n    marginLeft: layout.xCorrection,\n    marginTop: layout.yCorrection,\n    overflow: overflowVisible ? \"visible\" : \"hidden\"\n  };\n};\nvar calculateOuter = ({\n  layout,\n  scale,\n  config,\n  overflowVisible\n}) => {\n  if (!layout || !config) {\n    return {};\n  }\n  const { centerX, centerY } = layout;\n  return {\n    width: config.width * scale,\n    height: config.height * scale,\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"absolute\",\n    left: centerX,\n    top: centerY,\n    overflow: overflowVisible ? \"visible\" : \"hidden\"\n  };\n};\n\n// src/emitter-context.ts\nimport React from \"react\";\nvar PlayerEventEmitterContext = React.createContext(undefined);\nvar ThumbnailEmitterContext = React.createContext(undefined);\n\n// src/EmitterProvider.tsx\nimport { useContext as useContext2, useEffect as useEffect2, useState } from \"react\";\nimport { Internals as Internals3 } from \"remotion\";\n\n// src/event-emitter.ts\nclass PlayerEmitter {\n  listeners = {\n    ended: [],\n    error: [],\n    pause: [],\n    play: [],\n    ratechange: [],\n    scalechange: [],\n    seeked: [],\n    timeupdate: [],\n    frameupdate: [],\n    fullscreenchange: [],\n    volumechange: [],\n    mutechange: [],\n    waiting: [],\n    resume: []\n  };\n  addEventListener(name, callback) {\n    this.listeners[name].push(callback);\n  }\n  removeEventListener(name, callback) {\n    this.listeners[name] = this.listeners[name].filter((l) => l !== callback);\n  }\n  dispatchEvent(dispatchName, context) {\n    this.listeners[dispatchName].forEach((callback) => {\n      callback({ detail: context });\n    });\n  }\n  dispatchSeek(frame) {\n    this.dispatchEvent(\"seeked\", {\n      frame\n    });\n  }\n  dispatchVolumeChange(volume) {\n    this.dispatchEvent(\"volumechange\", {\n      volume\n    });\n  }\n  dispatchPause() {\n    this.dispatchEvent(\"pause\", undefined);\n  }\n  dispatchPlay() {\n    this.dispatchEvent(\"play\", undefined);\n  }\n  dispatchEnded() {\n    this.dispatchEvent(\"ended\", undefined);\n  }\n  dispatchRateChange(playbackRate) {\n    this.dispatchEvent(\"ratechange\", {\n      playbackRate\n    });\n  }\n  dispatchScaleChange(scale) {\n    this.dispatchEvent(\"scalechange\", {\n      scale\n    });\n  }\n  dispatchError(error) {\n    this.dispatchEvent(\"error\", {\n      error\n    });\n  }\n  dispatchTimeUpdate(event) {\n    this.dispatchEvent(\"timeupdate\", event);\n  }\n  dispatchFrameUpdate(event) {\n    this.dispatchEvent(\"frameupdate\", event);\n  }\n  dispatchFullscreenChange(event) {\n    this.dispatchEvent(\"fullscreenchange\", event);\n  }\n  dispatchMuteChange(event) {\n    this.dispatchEvent(\"mutechange\", event);\n  }\n  dispatchWaiting(event) {\n    this.dispatchEvent(\"waiting\", event);\n  }\n  dispatchResume(event) {\n    this.dispatchEvent(\"resume\", event);\n  }\n}\n\nclass ThumbnailEmitter {\n  listeners = {\n    error: [],\n    waiting: [],\n    resume: []\n  };\n  addEventListener(name, callback) {\n    this.listeners[name].push(callback);\n  }\n  removeEventListener(name, callback) {\n    this.listeners[name] = this.listeners[name].filter((l) => l !== callback);\n  }\n  dispatchEvent(dispatchName, context) {\n    this.listeners[dispatchName].forEach((callback) => {\n      callback({ detail: context });\n    });\n  }\n  dispatchError(error) {\n    this.dispatchEvent(\"error\", {\n      error\n    });\n  }\n  dispatchWaiting(event) {\n    this.dispatchEvent(\"waiting\", event);\n  }\n  dispatchResume(event) {\n    this.dispatchEvent(\"resume\", event);\n  }\n}\n\n// src/use-buffer-state-emitter.ts\nimport { useContext, useEffect } from \"react\";\nimport { Internals as Internals2 } from \"remotion\";\nvar useBufferStateEmitter = (emitter) => {\n  const bufferManager = useContext(Internals2.BufferingContextReact);\n  if (!bufferManager) {\n    throw new Error(\"BufferingContextReact not found\");\n  }\n  useEffect(() => {\n    const clear1 = bufferManager.listenForBuffering(() => {\n      bufferManager.buffering.current = true;\n      emitter.dispatchWaiting({});\n    });\n    const clear2 = bufferManager.listenForResume(() => {\n      bufferManager.buffering.current = false;\n      emitter.dispatchResume({});\n    });\n    return () => {\n      clear1.remove();\n      clear2.remove();\n    };\n  }, [bufferManager, emitter]);\n};\n\n// src/EmitterProvider.tsx\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nvar PlayerEmitterProvider = ({ children, currentPlaybackRate }) => {\n  const [emitter] = useState(() => new PlayerEmitter);\n  const bufferManager = useContext2(Internals3.BufferingContextReact);\n  if (!bufferManager) {\n    throw new Error(\"BufferingContextReact not found\");\n  }\n  useEffect2(() => {\n    if (currentPlaybackRate) {\n      emitter.dispatchRateChange(currentPlaybackRate);\n    }\n  }, [emitter, currentPlaybackRate]);\n  useBufferStateEmitter(emitter);\n  return /* @__PURE__ */ jsx3(PlayerEventEmitterContext.Provider, {\n    value: emitter,\n    children\n  });\n};\n\n// src/use-hover-state.ts\nimport { useEffect as useEffect3, useState as useState2 } from \"react\";\nvar useHoverState = (ref, hideControlsWhenPointerDoesntMove) => {\n  const [hovered, setHovered] = useState2(false);\n  useEffect3(() => {\n    const { current } = ref;\n    if (!current) {\n      return;\n    }\n    let hoverTimeout;\n    const addHoverTimeout = () => {\n      if (hideControlsWhenPointerDoesntMove) {\n        clearTimeout(hoverTimeout);\n        hoverTimeout = setTimeout(() => {\n          setHovered(false);\n        }, hideControlsWhenPointerDoesntMove === true ? 3000 : hideControlsWhenPointerDoesntMove);\n      }\n    };\n    const onHover = () => {\n      setHovered(true);\n      addHoverTimeout();\n    };\n    const onLeave = () => {\n      setHovered(false);\n      clearTimeout(hoverTimeout);\n    };\n    const onMove = () => {\n      setHovered(true);\n      addHoverTimeout();\n    };\n    current.addEventListener(\"mouseenter\", onHover);\n    current.addEventListener(\"mouseleave\", onLeave);\n    current.addEventListener(\"mousemove\", onMove);\n    return () => {\n      current.removeEventListener(\"mouseenter\", onHover);\n      current.removeEventListener(\"mouseleave\", onLeave);\n      current.removeEventListener(\"mousemove\", onMove);\n      clearTimeout(hoverTimeout);\n    };\n  }, [hideControlsWhenPointerDoesntMove, ref]);\n  return hovered;\n};\n\n// src/use-playback.ts\nimport { useContext as useContext4, useEffect as useEffect5, useRef as useRef3 } from \"react\";\nimport { Internals as Internals5 } from \"remotion\";\n\n// src/calculate-next-frame.ts\nvar calculateNextFrame = ({\n  time,\n  currentFrame: startFrame,\n  playbackSpeed,\n  fps,\n  actualLastFrame,\n  actualFirstFrame,\n  framesAdvanced,\n  shouldLoop\n}) => {\n  const op = playbackSpeed < 0 ? Math.ceil : Math.floor;\n  const framesToAdvance = op(time * playbackSpeed / (1000 / fps)) - framesAdvanced;\n  const nextFrame = framesToAdvance + startFrame;\n  const isCurrentFrameOutside = startFrame > actualLastFrame || startFrame < actualFirstFrame;\n  const isNextFrameOutside = nextFrame > actualLastFrame || nextFrame < actualFirstFrame;\n  const hasEnded = !shouldLoop && isNextFrameOutside && !isCurrentFrameOutside;\n  if (playbackSpeed > 0) {\n    if (isNextFrameOutside) {\n      return {\n        nextFrame: actualFirstFrame,\n        framesToAdvance,\n        hasEnded\n      };\n    }\n    return { nextFrame, framesToAdvance, hasEnded };\n  }\n  if (isNextFrameOutside) {\n    return { nextFrame: actualLastFrame, framesToAdvance, hasEnded };\n  }\n  return { nextFrame, framesToAdvance, hasEnded };\n};\n\n// src/is-backgrounded.ts\nimport { useEffect as useEffect4, useRef } from \"react\";\nvar getIsBackgrounded = () => {\n  if (typeof document === \"undefined\") {\n    return false;\n  }\n  return document.visibilityState === \"hidden\";\n};\nvar useIsBackgrounded = () => {\n  const isBackgrounded = useRef(getIsBackgrounded());\n  useEffect4(() => {\n    const onVisibilityChange = () => {\n      isBackgrounded.current = getIsBackgrounded();\n    };\n    document.addEventListener(\"visibilitychange\", onVisibilityChange);\n    return () => {\n      document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n    };\n  }, []);\n  return isBackgrounded;\n};\n\n// src/use-player.ts\nimport { useCallback, useContext as useContext3, useMemo, useRef as useRef2, useState as useState3 } from \"react\";\nimport { Internals as Internals4 } from \"remotion\";\nvar usePlayer = () => {\n  const [playing, setPlaying, imperativePlaying] = Internals4.Timeline.usePlayingState();\n  const [hasPlayed, setHasPlayed] = useState3(false);\n  const frame = Internals4.Timeline.useTimelinePosition();\n  const playStart = useRef2(frame);\n  const setFrame = Internals4.Timeline.useTimelineSetFrame();\n  const setTimelinePosition = Internals4.Timeline.useTimelineSetFrame();\n  const audioContext = useContext3(Internals4.SharedAudioContext);\n  const { audioAndVideoTags } = useContext3(Internals4.Timeline.TimelineContext);\n  const frameRef = useRef2(frame);\n  frameRef.current = frame;\n  const video = Internals4.useVideo();\n  const config = Internals4.useUnsafeVideoConfig();\n  const emitter = useContext3(PlayerEventEmitterContext);\n  const lastFrame = (config?.durationInFrames ?? 1) - 1;\n  const isLastFrame = frame === lastFrame;\n  const isFirstFrame = frame === 0;\n  if (!emitter) {\n    throw new TypeError(\"Expected Player event emitter context\");\n  }\n  const bufferingContext = useContext3(Internals4.BufferingContextReact);\n  if (!bufferingContext) {\n    throw new Error(\"Missing the buffering context. Most likely you have a Remotion version mismatch.\");\n  }\n  const { buffering } = bufferingContext;\n  const seek = useCallback((newFrame) => {\n    if (video?.id) {\n      setTimelinePosition((c) => ({ ...c, [video.id]: newFrame }));\n    }\n    frameRef.current = newFrame;\n    emitter.dispatchSeek(newFrame);\n  }, [emitter, setTimelinePosition, video?.id]);\n  const play = useCallback((e) => {\n    if (imperativePlaying.current) {\n      return;\n    }\n    setHasPlayed(true);\n    if (isLastFrame) {\n      seek(0);\n    }\n    if (audioContext && audioContext.numberOfAudioTags > 0 && e) {\n      audioContext.playAllAudios();\n    }\n    audioAndVideoTags.current.forEach((a) => a.play());\n    imperativePlaying.current = true;\n    setPlaying(true);\n    playStart.current = frameRef.current;\n    emitter.dispatchPlay();\n  }, [\n    imperativePlaying,\n    isLastFrame,\n    audioContext,\n    setPlaying,\n    emitter,\n    seek,\n    audioAndVideoTags\n  ]);\n  const pause = useCallback(() => {\n    if (imperativePlaying.current) {\n      imperativePlaying.current = false;\n      setPlaying(false);\n      emitter.dispatchPause();\n    }\n  }, [emitter, imperativePlaying, setPlaying]);\n  const pauseAndReturnToPlayStart = useCallback(() => {\n    if (imperativePlaying.current) {\n      imperativePlaying.current = false;\n      frameRef.current = playStart.current;\n      if (config) {\n        setTimelinePosition((c) => ({\n          ...c,\n          [config.id]: playStart.current\n        }));\n        setPlaying(false);\n        emitter.dispatchPause();\n      }\n    }\n  }, [config, emitter, imperativePlaying, setPlaying, setTimelinePosition]);\n  const videoId = video?.id;\n  const frameBack = useCallback((frames) => {\n    if (!videoId) {\n      return null;\n    }\n    if (imperativePlaying.current) {\n      return;\n    }\n    setFrame((c) => {\n      const prev = c[videoId] ?? window.remotion_initialFrame ?? 0;\n      return {\n        ...c,\n        [videoId]: Math.max(0, prev - frames)\n      };\n    });\n  }, [imperativePlaying, setFrame, videoId]);\n  const frameForward = useCallback((frames) => {\n    if (!videoId) {\n      return null;\n    }\n    if (imperativePlaying.current) {\n      return;\n    }\n    setFrame((c) => {\n      const prev = c[videoId] ?? window.remotion_initialFrame ?? 0;\n      return {\n        ...c,\n        [videoId]: Math.min(lastFrame, prev + frames)\n      };\n    });\n  }, [videoId, imperativePlaying, lastFrame, setFrame]);\n  const returnValue = useMemo(() => {\n    return {\n      frameBack,\n      frameForward,\n      isLastFrame,\n      emitter,\n      playing,\n      play,\n      pause,\n      seek,\n      isFirstFrame,\n      getCurrentFrame: () => frameRef.current,\n      isPlaying: () => imperativePlaying.current,\n      isBuffering: () => buffering.current,\n      pauseAndReturnToPlayStart,\n      hasPlayed,\n      remotionInternal_currentFrameRef: frameRef\n    };\n  }, [\n    frameBack,\n    frameForward,\n    isLastFrame,\n    emitter,\n    playing,\n    play,\n    pause,\n    seek,\n    isFirstFrame,\n    pauseAndReturnToPlayStart,\n    hasPlayed,\n    imperativePlaying,\n    buffering\n  ]);\n  return returnValue;\n};\n\n// src/use-playback.ts\nvar usePlayback = ({\n  loop,\n  playbackRate,\n  moveToBeginningWhenEnded,\n  inFrame,\n  outFrame,\n  frameRef\n}) => {\n  const config = Internals5.useUnsafeVideoConfig();\n  const frame = Internals5.Timeline.useTimelinePosition();\n  const { playing, pause, emitter } = usePlayer();\n  const setFrame = Internals5.Timeline.useTimelineSetFrame();\n  const buffering = useRef3(null);\n  const isBackgroundedRef = useIsBackgrounded();\n  const lastTimeUpdateEvent = useRef3(null);\n  const context = useContext4(Internals5.BufferingContextReact);\n  if (!context) {\n    throw new Error(\"Missing the buffering context. Most likely you have a Remotion version mismatch.\");\n  }\n  useEffect5(() => {\n    const onBufferClear = context.listenForBuffering(() => {\n      buffering.current = performance.now();\n    });\n    const onResumeClear = context.listenForResume(() => {\n      buffering.current = null;\n    });\n    return () => {\n      onBufferClear.remove();\n      onResumeClear.remove();\n    };\n  }, [context]);\n  useEffect5(() => {\n    if (!config) {\n      return;\n    }\n    if (!playing) {\n      return;\n    }\n    let hasBeenStopped = false;\n    let reqAnimFrameCall = null;\n    let startedTime = performance.now();\n    let framesAdvanced = 0;\n    const cancelQueuedFrame = () => {\n      if (reqAnimFrameCall !== null) {\n        if (reqAnimFrameCall.type === \"raf\") {\n          cancelAnimationFrame(reqAnimFrameCall.id);\n        } else {\n          clearTimeout(reqAnimFrameCall.id);\n        }\n      }\n    };\n    const stop = () => {\n      hasBeenStopped = true;\n      cancelQueuedFrame();\n    };\n    const callback = () => {\n      const time = performance.now() - startedTime;\n      const actualLastFrame = outFrame ?? config.durationInFrames - 1;\n      const actualFirstFrame = inFrame ?? 0;\n      const currentFrame = frameRef.current;\n      const { nextFrame, framesToAdvance, hasEnded } = calculateNextFrame({\n        time,\n        currentFrame,\n        playbackSpeed: playbackRate,\n        fps: config.fps,\n        actualFirstFrame,\n        actualLastFrame,\n        framesAdvanced,\n        shouldLoop: loop\n      });\n      framesAdvanced += framesToAdvance;\n      if (nextFrame !== frameRef.current && (!hasEnded || moveToBeginningWhenEnded)) {\n        setFrame((c) => ({ ...c, [config.id]: nextFrame }));\n      }\n      if (hasEnded) {\n        stop();\n        pause();\n        emitter.dispatchEnded();\n        return;\n      }\n      if (!hasBeenStopped) {\n        queueNextFrame();\n      }\n    };\n    const queueNextFrame = () => {\n      if (buffering.current) {\n        const stopListening = context.listenForResume(() => {\n          stopListening.remove();\n          if (hasBeenStopped) {\n            return;\n          }\n          startedTime = performance.now();\n          framesAdvanced = 0;\n          callback();\n        });\n        return;\n      }\n      if (isBackgroundedRef.current) {\n        reqAnimFrameCall = {\n          type: \"timeout\",\n          id: setTimeout(callback, 1000 / config.fps)\n        };\n      } else {\n        reqAnimFrameCall = { type: \"raf\", id: requestAnimationFrame(callback) };\n      }\n    };\n    queueNextFrame();\n    const onVisibilityChange = () => {\n      if (document.visibilityState === \"visible\") {\n        return;\n      }\n      cancelQueuedFrame();\n      callback();\n    };\n    window.addEventListener(\"visibilitychange\", onVisibilityChange);\n    return () => {\n      window.removeEventListener(\"visibilitychange\", onVisibilityChange);\n      stop();\n    };\n  }, [\n    config,\n    loop,\n    pause,\n    playing,\n    setFrame,\n    emitter,\n    playbackRate,\n    inFrame,\n    outFrame,\n    moveToBeginningWhenEnded,\n    isBackgroundedRef,\n    frameRef,\n    buffering,\n    context\n  ]);\n  useEffect5(() => {\n    const interval = setInterval(() => {\n      if (lastTimeUpdateEvent.current === frameRef.current) {\n        return;\n      }\n      emitter.dispatchTimeUpdate({ frame: frameRef.current });\n      lastTimeUpdateEvent.current = frameRef.current;\n    }, 250);\n    return () => clearInterval(interval);\n  }, [emitter, frameRef]);\n  useEffect5(() => {\n    emitter.dispatchFrameUpdate({ frame });\n  }, [emitter, frame]);\n};\n\n// src/utils/use-element-size.ts\nimport { useCallback as useCallback2, useEffect as useEffect6, useMemo as useMemo2, useState as useState4 } from \"react\";\nvar elementSizeHooks = [];\nvar updateAllElementsSizes = () => {\n  for (const listener of elementSizeHooks) {\n    listener();\n  }\n};\nvar useElementSize = (ref, options) => {\n  const [size, setSize] = useState4(() => {\n    if (!ref.current) {\n      return null;\n    }\n    const rect = ref.current.getClientRects();\n    if (!rect[0]) {\n      return null;\n    }\n    return {\n      width: rect[0].width,\n      height: rect[0].height,\n      left: rect[0].x,\n      top: rect[0].y,\n      windowSize: {\n        height: window.innerHeight,\n        width: window.innerWidth\n      }\n    };\n  });\n  const observer = useMemo2(() => {\n    if (typeof ResizeObserver === \"undefined\") {\n      return null;\n    }\n    return new ResizeObserver((entries) => {\n      const { contentRect, target } = entries[0];\n      const newSize = target.getClientRects();\n      if (!newSize?.[0]) {\n        setSize(null);\n        return;\n      }\n      const probableCssParentScale = contentRect.width === 0 ? 1 : newSize[0].width / contentRect.width;\n      const width = options.shouldApplyCssTransforms ? newSize[0].width : newSize[0].width * (1 / probableCssParentScale);\n      const height = options.shouldApplyCssTransforms ? newSize[0].height : newSize[0].height * (1 / probableCssParentScale);\n      setSize({\n        width,\n        height,\n        left: newSize[0].x,\n        top: newSize[0].y,\n        windowSize: {\n          height: window.innerHeight,\n          width: window.innerWidth\n        }\n      });\n    });\n  }, [options.shouldApplyCssTransforms]);\n  const updateSize = useCallback2(() => {\n    if (!ref.current) {\n      return;\n    }\n    const rect = ref.current.getClientRects();\n    if (!rect[0]) {\n      setSize(null);\n      return;\n    }\n    setSize((prevState) => {\n      const isSame = prevState && prevState.width === rect[0].width && prevState.height === rect[0].height && prevState.left === rect[0].x && prevState.top === rect[0].y && prevState.windowSize.height === window.innerHeight && prevState.windowSize.width === window.innerWidth;\n      if (isSame) {\n        return prevState;\n      }\n      return {\n        width: rect[0].width,\n        height: rect[0].height,\n        left: rect[0].x,\n        top: rect[0].y,\n        windowSize: {\n          height: window.innerHeight,\n          width: window.innerWidth\n        }\n      };\n    });\n  }, [ref]);\n  useEffect6(() => {\n    if (!observer) {\n      return;\n    }\n    const { current } = ref;\n    if (current) {\n      observer.observe(current);\n    }\n    return () => {\n      if (current) {\n        observer.unobserve(current);\n      }\n    };\n  }, [observer, ref, updateSize]);\n  useEffect6(() => {\n    if (!options.triggerOnWindowResize) {\n      return;\n    }\n    window.addEventListener(\"resize\", updateSize);\n    return () => {\n      window.removeEventListener(\"resize\", updateSize);\n    };\n  }, [options.triggerOnWindowResize, updateSize]);\n  useEffect6(() => {\n    elementSizeHooks.push(updateSize);\n    return () => {\n      elementSizeHooks = elementSizeHooks.filter((e) => e !== updateSize);\n    };\n  }, [updateSize]);\n  return useMemo2(() => {\n    if (!size) {\n      return null;\n    }\n    return { ...size, refresh: updateSize };\n  }, [size, updateSize]);\n};\n\n// src/Player.tsx\nimport {\n  forwardRef as forwardRef2,\n  useEffect as useEffect12,\n  useImperativeHandle as useImperativeHandle2,\n  useLayoutEffect,\n  useMemo as useMemo13,\n  useRef as useRef10,\n  useState as useState13\n} from \"react\";\nimport { Composition, Internals as Internals12 } from \"remotion\";\n\n// src/PlayerUI.tsx\nimport React8, {\n  Suspense,\n  forwardRef,\n  useCallback as useCallback10,\n  useContext as useContext6,\n  useEffect as useEffect11,\n  useImperativeHandle,\n  useMemo as useMemo11,\n  useRef as useRef9,\n  useState as useState11\n} from \"react\";\nimport { Internals as Internals10 } from \"remotion\";\n\n// src/PlayerControls.tsx\nimport { useCallback as useCallback7, useEffect as useEffect10, useMemo as useMemo8, useRef as useRef7, useState as useState10 } from \"react\";\nimport { Internals as Internals9 } from \"remotion\";\n\n// src/DefaultPlayPauseButton.tsx\nimport { jsx as jsx4 } from \"react/jsx-runtime\";\nvar DefaultPlayPauseButton = ({ playing, buffering }) => {\n  if (playing && buffering) {\n    return /* @__PURE__ */ jsx4(BufferingIndicator, {\n      type: \"player\"\n    });\n  }\n  if (playing) {\n    return /* @__PURE__ */ jsx4(PauseIcon, {});\n  }\n  return /* @__PURE__ */ jsx4(PlayIcon, {});\n};\n\n// src/MediaVolumeSlider.tsx\nimport { useCallback as useCallback4, useMemo as useMemo4, useRef as useRef4, useState as useState6 } from \"react\";\nimport { Internals as Internals6 } from \"remotion\";\n\n// src/render-volume-slider.tsx\nimport React3, { useCallback as useCallback3, useMemo as useMemo3, useState as useState5 } from \"react\";\nimport { random } from \"remotion\";\nimport { jsx as jsx5, jsxs as jsxs3 } from \"react/jsx-runtime\";\nvar KNOB_SIZE = 12;\nvar BAR_HEIGHT = 5;\nvar DefaultVolumeSlider = ({\n  volume,\n  isVertical,\n  onBlur,\n  inputRef,\n  setVolume\n}) => {\n  const sliderContainer = useMemo3(() => {\n    const paddingLeft = 5;\n    const common = {\n      paddingLeft,\n      height: ICON_SIZE,\n      width: VOLUME_SLIDER_WIDTH,\n      display: \"inline-flex\",\n      alignItems: \"center\"\n    };\n    if (isVertical) {\n      return {\n        ...common,\n        position: \"absolute\",\n        transform: `rotate(-90deg) translateX(${VOLUME_SLIDER_WIDTH / 2 + ICON_SIZE / 2}px)`\n      };\n    }\n    return {\n      ...common\n    };\n  }, [isVertical]);\n  const randomId = typeof React3.useId === \"undefined\" ? \"volume-slider\" : React3.useId();\n  const [randomClass] = useState5(() => `__remotion-volume-slider-${random(randomId)}`.replace(\".\", \"\"));\n  const onVolumeChange = useCallback3((e) => {\n    setVolume(parseFloat(e.target.value));\n  }, [setVolume]);\n  const inputStyle = useMemo3(() => {\n    const commonStyle = {\n      WebkitAppearance: \"none\",\n      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n      borderRadius: BAR_HEIGHT / 2,\n      cursor: \"pointer\",\n      height: BAR_HEIGHT,\n      width: VOLUME_SLIDER_WIDTH,\n      backgroundImage: `linear-gradient(\n\t\t\t\tto right,\n\t\t\t\twhite ${volume * 100}%, rgba(255, 255, 255, 0) ${volume * 100}%\n\t\t\t)`\n    };\n    if (isVertical) {\n      return {\n        ...commonStyle,\n        bottom: ICON_SIZE + VOLUME_SLIDER_WIDTH / 2\n      };\n    }\n    return commonStyle;\n  }, [isVertical, volume]);\n  const sliderStyle = `\n\t.${randomClass}::-webkit-slider-thumb {\n\t\t-webkit-appearance: none;\n\t\tbackground-color: white;\n\t\tborder-radius: ${KNOB_SIZE / 2}px;\n\t\tbox-shadow: 0 0 2px black;\n\t\theight: ${KNOB_SIZE}px;\n\t\twidth: ${KNOB_SIZE}px;\n\t}\n\n\t.${randomClass}::-moz-range-thumb {\n\t\t-webkit-appearance: none;\n\t\tbackground-color: white;\n\t\tborder-radius: ${KNOB_SIZE / 2}px;\n\t\tbox-shadow: 0 0 2px black;\n\t\theight: ${KNOB_SIZE}px;\n\t\twidth: ${KNOB_SIZE}px;\n\t}\n`;\n  return /* @__PURE__ */ jsxs3(\"div\", {\n    style: sliderContainer,\n    children: [\n      /* @__PURE__ */ jsx5(\"style\", {\n        dangerouslySetInnerHTML: {\n          __html: sliderStyle\n        }\n      }),\n      /* @__PURE__ */ jsx5(\"input\", {\n        ref: inputRef,\n        \"aria-label\": \"Change volume\",\n        className: randomClass,\n        max: 1,\n        min: 0,\n        onBlur,\n        onChange: onVolumeChange,\n        step: 0.01,\n        type: \"range\",\n        value: volume,\n        style: inputStyle\n      })\n    ]\n  });\n};\nvar renderDefaultVolumeSlider = (props) => {\n  return /* @__PURE__ */ jsx5(DefaultVolumeSlider, {\n    ...props\n  });\n};\n\n// src/MediaVolumeSlider.tsx\nimport { jsx as jsx6, jsxs as jsxs4 } from \"react/jsx-runtime\";\nvar VOLUME_SLIDER_WIDTH = 100;\nvar MediaVolumeSlider = ({ displayVerticalVolumeSlider, renderMuteButton, renderVolumeSlider }) => {\n  const [mediaMuted, setMediaMuted] = Internals6.useMediaMutedState();\n  const [mediaVolume, setMediaVolume] = Internals6.useMediaVolumeState();\n  const [focused, setFocused] = useState6(false);\n  const parentDivRef = useRef4(null);\n  const inputRef = useRef4(null);\n  const hover = useHoverState(parentDivRef, false);\n  const onBlur = useCallback4(() => {\n    setTimeout(() => {\n      if (inputRef.current && document.activeElement !== inputRef.current) {\n        setFocused(false);\n      }\n    }, 10);\n  }, []);\n  const isVolume0 = mediaVolume === 0;\n  const onClick = useCallback4(() => {\n    if (isVolume0) {\n      setMediaVolume(1);\n      setMediaMuted(false);\n      return;\n    }\n    setMediaMuted((mute) => !mute);\n  }, [isVolume0, setMediaMuted, setMediaVolume]);\n  const parentDivStyle = useMemo4(() => {\n    return {\n      display: \"inline-flex\",\n      background: \"none\",\n      border: \"none\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      touchAction: \"none\",\n      ...displayVerticalVolumeSlider && { position: \"relative\" }\n    };\n  }, [displayVerticalVolumeSlider]);\n  const volumeContainer = useMemo4(() => {\n    return {\n      display: \"inline\",\n      width: ICON_SIZE,\n      height: ICON_SIZE,\n      cursor: \"pointer\",\n      appearance: \"none\",\n      background: \"none\",\n      border: \"none\",\n      padding: 0\n    };\n  }, []);\n  const renderDefaultMuteButton = useCallback4(({ muted, volume }) => {\n    const isMutedOrZero = muted || volume === 0;\n    return /* @__PURE__ */ jsx6(\"button\", {\n      \"aria-label\": isMutedOrZero ? \"Unmute sound\" : \"Mute sound\",\n      title: isMutedOrZero ? \"Unmute sound\" : \"Mute sound\",\n      onClick,\n      onBlur,\n      onFocus: () => setFocused(true),\n      style: volumeContainer,\n      type: \"button\",\n      children: isMutedOrZero ? /* @__PURE__ */ jsx6(VolumeOffIcon, {}) : /* @__PURE__ */ jsx6(VolumeOnIcon, {})\n    });\n  }, [onBlur, onClick, volumeContainer]);\n  const muteButton = useMemo4(() => {\n    return renderMuteButton ? renderMuteButton({ muted: mediaMuted, volume: mediaVolume }) : renderDefaultMuteButton({ muted: mediaMuted, volume: mediaVolume });\n  }, [mediaMuted, mediaVolume, renderDefaultMuteButton, renderMuteButton]);\n  const volumeSlider = useMemo4(() => {\n    return (focused || hover) && !mediaMuted && !Internals6.isIosSafari() ? (renderVolumeSlider ?? renderDefaultVolumeSlider)({\n      isVertical: displayVerticalVolumeSlider,\n      volume: mediaVolume,\n      onBlur: () => setFocused(false),\n      inputRef,\n      setVolume: setMediaVolume\n    }) : null;\n  }, [\n    displayVerticalVolumeSlider,\n    focused,\n    hover,\n    mediaMuted,\n    mediaVolume,\n    renderVolumeSlider,\n    setMediaVolume\n  ]);\n  return /* @__PURE__ */ jsxs4(\"div\", {\n    ref: parentDivRef,\n    style: parentDivStyle,\n    children: [\n      muteButton,\n      volumeSlider\n    ]\n  });\n};\n\n// src/PlaybackrateControl.tsx\nimport {\n  useCallback as useCallback5,\n  useContext as useContext5,\n  useEffect as useEffect8,\n  useMemo as useMemo5,\n  useState as useState8\n} from \"react\";\nimport { Internals as Internals7 } from \"remotion\";\n\n// src/utils/use-component-visible.ts\nimport { useEffect as useEffect7, useRef as useRef5, useState as useState7 } from \"react\";\nfunction useComponentVisible(initialIsVisible) {\n  const [isComponentVisible, setIsComponentVisible] = useState7(initialIsVisible);\n  const ref = useRef5(null);\n  useEffect7(() => {\n    const handleClickOutside = (event) => {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setIsComponentVisible(false);\n      }\n    };\n    document.addEventListener(\"pointerup\", handleClickOutside, true);\n    return () => {\n      document.removeEventListener(\"pointerup\", handleClickOutside, true);\n    };\n  }, []);\n  return { ref, isComponentVisible, setIsComponentVisible };\n}\n\n// src/PlaybackrateControl.tsx\nimport { jsx as jsx7, jsxs as jsxs5 } from \"react/jsx-runtime\";\nvar BOTTOM = 35;\nvar THRESHOLD = 70;\nvar rateDiv = {\n  height: 30,\n  paddingRight: 15,\n  paddingLeft: 12,\n  display: \"flex\",\n  flexDirection: \"row\",\n  alignItems: \"center\"\n};\nvar checkmarkContainer = {\n  width: 22,\n  display: \"flex\",\n  alignItems: \"center\"\n};\nvar checkmarkStyle = {\n  width: 14,\n  height: 14,\n  color: \"black\"\n};\nvar Checkmark = () => /* @__PURE__ */ jsx7(\"svg\", {\n  viewBox: \"0 0 512 512\",\n  style: checkmarkStyle,\n  children: /* @__PURE__ */ jsx7(\"path\", {\n    fill: \"currentColor\",\n    d: \"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z\"\n  })\n});\nvar PlaybackrateOption = ({ rate, onSelect, selectedRate, keyboardSelectedRate }) => {\n  const onClick = useCallback5((e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    onSelect(rate);\n  }, [onSelect, rate]);\n  const [hovered, setHovered] = useState8(false);\n  const onMouseEnter = useCallback5(() => {\n    setHovered(true);\n  }, []);\n  const onMouseLeave = useCallback5(() => {\n    setHovered(false);\n  }, []);\n  const isFocused = keyboardSelectedRate === rate;\n  const actualStyle = useMemo5(() => {\n    return {\n      ...rateDiv,\n      backgroundColor: hovered || isFocused ? \"#eee\" : \"transparent\"\n    };\n  }, [hovered, isFocused]);\n  return /* @__PURE__ */ jsxs5(\"div\", {\n    onMouseEnter,\n    onMouseLeave,\n    tabIndex: 0,\n    style: actualStyle,\n    onClick,\n    children: [\n      /* @__PURE__ */ jsx7(\"div\", {\n        style: checkmarkContainer,\n        children: rate === selectedRate ? /* @__PURE__ */ jsx7(Checkmark, {}) : null\n      }),\n      rate.toFixed(1),\n      \"x\"\n    ]\n  }, rate);\n};\nvar PlaybackPopup = ({ setIsComponentVisible, playbackRates, canvasSize }) => {\n  const { setPlaybackRate, playbackRate } = useContext5(Internals7.Timeline.TimelineContext);\n  const [keyboardSelectedRate, setKeyboardSelectedRate] = useState8(playbackRate);\n  useEffect8(() => {\n    const listener = (e) => {\n      e.preventDefault();\n      if (e.key === \"ArrowUp\") {\n        const currentIndex = playbackRates.findIndex((rate) => rate === keyboardSelectedRate);\n        if (currentIndex === 0) {\n          return;\n        }\n        if (currentIndex === -1) {\n          setKeyboardSelectedRate(playbackRates[0]);\n        } else {\n          setKeyboardSelectedRate(playbackRates[currentIndex - 1]);\n        }\n      } else if (e.key === \"ArrowDown\") {\n        const currentIndex = playbackRates.findIndex((rate) => rate === keyboardSelectedRate);\n        if (currentIndex === playbackRates.length - 1) {\n          return;\n        }\n        if (currentIndex === -1) {\n          setKeyboardSelectedRate(playbackRates[playbackRates.length - 1]);\n        } else {\n          setKeyboardSelectedRate(playbackRates[currentIndex + 1]);\n        }\n      } else if (e.key === \"Enter\") {\n        setPlaybackRate(keyboardSelectedRate);\n        setIsComponentVisible(false);\n      }\n    };\n    window.addEventListener(\"keydown\", listener);\n    return () => {\n      window.removeEventListener(\"keydown\", listener);\n    };\n  }, [\n    playbackRates,\n    keyboardSelectedRate,\n    setPlaybackRate,\n    setIsComponentVisible\n  ]);\n  const onSelect = useCallback5((rate) => {\n    setPlaybackRate(rate);\n    setIsComponentVisible(false);\n  }, [setIsComponentVisible, setPlaybackRate]);\n  const playbackPopup = useMemo5(() => {\n    return {\n      position: \"absolute\",\n      right: 0,\n      width: 125,\n      maxHeight: canvasSize.height - THRESHOLD - BOTTOM,\n      bottom: 35,\n      background: \"#fff\",\n      borderRadius: 4,\n      overflow: \"auto\",\n      color: \"black\",\n      textAlign: \"left\"\n    };\n  }, [canvasSize.height]);\n  return /* @__PURE__ */ jsx7(\"div\", {\n    style: playbackPopup,\n    children: playbackRates.map((rate) => {\n      return /* @__PURE__ */ jsx7(PlaybackrateOption, {\n        selectedRate: playbackRate,\n        onSelect,\n        rate,\n        keyboardSelectedRate\n      }, rate);\n    })\n  });\n};\nvar label = {\n  fontSize: 13,\n  fontWeight: \"bold\",\n  color: \"white\",\n  border: \"2px solid white\",\n  borderRadius: 20,\n  paddingLeft: 8,\n  paddingRight: 8,\n  paddingTop: 2,\n  paddingBottom: 2\n};\nvar playerButtonStyle = {\n  appearance: \"none\",\n  backgroundColor: \"transparent\",\n  border: \"none\",\n  cursor: \"pointer\",\n  paddingLeft: 0,\n  paddingRight: 0,\n  paddingTop: 6,\n  paddingBottom: 6,\n  height: 37,\n  display: \"inline-flex\",\n  marginBottom: 0,\n  marginTop: 0,\n  alignItems: \"center\"\n};\nvar button = {\n  ...playerButtonStyle,\n  position: \"relative\"\n};\nvar PlaybackrateControl = ({ playbackRates, canvasSize }) => {\n  const { ref, isComponentVisible, setIsComponentVisible } = useComponentVisible(false);\n  const { playbackRate } = useContext5(Internals7.Timeline.TimelineContext);\n  const onClick = useCallback5((e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    setIsComponentVisible((prevIsComponentVisible) => !prevIsComponentVisible);\n  }, [setIsComponentVisible]);\n  return /* @__PURE__ */ jsx7(\"div\", {\n    ref,\n    children: /* @__PURE__ */ jsxs5(\"button\", {\n      type: \"button\",\n      \"aria-label\": \"Change playback rate\",\n      style: button,\n      onClick,\n      children: [\n        /* @__PURE__ */ jsxs5(\"div\", {\n          style: label,\n          children: [\n            playbackRate,\n            \"x\"\n          ]\n        }),\n        isComponentVisible && /* @__PURE__ */ jsx7(PlaybackPopup, {\n          canvasSize,\n          playbackRates,\n          setIsComponentVisible\n        })\n      ]\n    })\n  });\n};\n\n// src/PlayerSeekBar.tsx\nimport { useCallback as useCallback6, useEffect as useEffect9, useMemo as useMemo6, useRef as useRef6, useState as useState9 } from \"react\";\nimport { Internals as Internals8, interpolate } from \"remotion\";\nimport { jsx as jsx8, jsxs as jsxs6 } from \"react/jsx-runtime\";\nvar getFrameFromX = (clientX, durationInFrames, width) => {\n  const pos = clientX;\n  const frame = Math.round(interpolate(pos, [0, width], [0, durationInFrames - 1], {\n    extrapolateLeft: \"clamp\",\n    extrapolateRight: \"clamp\"\n  }));\n  return frame;\n};\nvar BAR_HEIGHT2 = 5;\nvar KNOB_SIZE2 = 12;\nvar VERTICAL_PADDING = 4;\nvar containerStyle = {\n  userSelect: \"none\",\n  WebkitUserSelect: \"none\",\n  paddingTop: VERTICAL_PADDING,\n  paddingBottom: VERTICAL_PADDING,\n  boxSizing: \"border-box\",\n  cursor: \"pointer\",\n  position: \"relative\",\n  touchAction: \"none\"\n};\nvar barBackground = {\n  height: BAR_HEIGHT2,\n  backgroundColor: \"rgba(255, 255, 255, 0.25)\",\n  width: \"100%\",\n  borderRadius: BAR_HEIGHT2 / 2\n};\nvar findBodyInWhichDivIsLocated = (div) => {\n  let current = div;\n  while (current.parentElement) {\n    current = current.parentElement;\n  }\n  return current;\n};\nvar PlayerSeekBar = ({ durationInFrames, onSeekEnd, onSeekStart, inFrame, outFrame }) => {\n  const containerRef = useRef6(null);\n  const barHovered = useHoverState(containerRef, false);\n  const size = useElementSize(containerRef, {\n    triggerOnWindowResize: true,\n    shouldApplyCssTransforms: true\n  });\n  const { seek, play, pause, playing } = usePlayer();\n  const frame = Internals8.Timeline.useTimelinePosition();\n  const [dragging, setDragging] = useState9({\n    dragging: false\n  });\n  const width = size?.width ?? 0;\n  const onPointerDown = useCallback6((e) => {\n    if (e.button !== 0) {\n      return;\n    }\n    const posLeft = containerRef.current?.getBoundingClientRect().left;\n    const _frame = getFrameFromX(e.clientX - posLeft, durationInFrames, width);\n    pause();\n    seek(_frame);\n    setDragging({\n      dragging: true,\n      wasPlaying: playing\n    });\n    onSeekStart();\n  }, [durationInFrames, width, pause, seek, playing, onSeekStart]);\n  const onPointerMove = useCallback6((e) => {\n    if (!size) {\n      throw new Error(\"Player has no size\");\n    }\n    if (!dragging.dragging) {\n      return;\n    }\n    const posLeft = containerRef.current?.getBoundingClientRect().left;\n    const _frame = getFrameFromX(e.clientX - posLeft, durationInFrames, size.width);\n    seek(_frame);\n  }, [dragging.dragging, durationInFrames, seek, size]);\n  const onPointerUp = useCallback6(() => {\n    setDragging({\n      dragging: false\n    });\n    if (!dragging.dragging) {\n      return;\n    }\n    if (dragging.wasPlaying) {\n      play();\n    } else {\n      pause();\n    }\n    onSeekEnd();\n  }, [dragging, onSeekEnd, pause, play]);\n  useEffect9(() => {\n    if (!dragging.dragging) {\n      return;\n    }\n    const body = findBodyInWhichDivIsLocated(containerRef.current);\n    body.addEventListener(\"pointermove\", onPointerMove);\n    body.addEventListener(\"pointerup\", onPointerUp);\n    return () => {\n      body.removeEventListener(\"pointermove\", onPointerMove);\n      body.removeEventListener(\"pointerup\", onPointerUp);\n    };\n  }, [dragging.dragging, onPointerMove, onPointerUp]);\n  const knobStyle = useMemo6(() => {\n    return {\n      height: KNOB_SIZE2,\n      width: KNOB_SIZE2,\n      borderRadius: KNOB_SIZE2 / 2,\n      position: \"absolute\",\n      top: VERTICAL_PADDING - KNOB_SIZE2 / 2 + 5 / 2,\n      backgroundColor: \"white\",\n      left: Math.max(0, frame / Math.max(1, durationInFrames - 1) * width - KNOB_SIZE2 / 2),\n      boxShadow: \"0 0 2px black\",\n      opacity: Number(barHovered)\n    };\n  }, [barHovered, durationInFrames, frame, width]);\n  const fillStyle = useMemo6(() => {\n    return {\n      height: BAR_HEIGHT2,\n      backgroundColor: \"rgba(255, 255, 255, 1)\",\n      width: (frame - (inFrame ?? 0)) / (durationInFrames - 1) * 100 + \"%\",\n      marginLeft: (inFrame ?? 0) / (durationInFrames - 1) * 100 + \"%\",\n      borderRadius: BAR_HEIGHT2 / 2\n    };\n  }, [durationInFrames, frame, inFrame]);\n  const active = useMemo6(() => {\n    return {\n      height: BAR_HEIGHT2,\n      backgroundColor: \"rgba(255, 255, 255, 0.25)\",\n      width: ((outFrame ?? durationInFrames - 1) - (inFrame ?? 0)) / (durationInFrames - 1) * 100 + \"%\",\n      marginLeft: (inFrame ?? 0) / (durationInFrames - 1) * 100 + \"%\",\n      borderRadius: BAR_HEIGHT2 / 2,\n      position: \"absolute\"\n    };\n  }, [durationInFrames, inFrame, outFrame]);\n  return /* @__PURE__ */ jsxs6(\"div\", {\n    ref: containerRef,\n    onPointerDown,\n    style: containerStyle,\n    children: [\n      /* @__PURE__ */ jsxs6(\"div\", {\n        style: barBackground,\n        children: [\n          /* @__PURE__ */ jsx8(\"div\", {\n            style: active\n          }),\n          /* @__PURE__ */ jsx8(\"div\", {\n            style: fillStyle\n          })\n        ]\n      }),\n      /* @__PURE__ */ jsx8(\"div\", {\n        style: knobStyle\n      })\n    ]\n  });\n};\n\n// src/format-time.ts\nvar formatTime = (timeInSeconds) => {\n  const minutes = Math.floor(timeInSeconds / 60);\n  const seconds = Math.floor(timeInSeconds - minutes * 60);\n  return `${String(minutes)}:${String(seconds).padStart(2, \"0\")}`;\n};\n\n// src/use-video-controls-resize.ts\nimport { useMemo as useMemo7 } from \"react\";\nvar X_SPACER = 10;\nvar X_PADDING = 12;\nvar useVideoControlsResize = ({\n  allowFullscreen: allowFullScreen,\n  playerWidth\n}) => {\n  const resizeInfo = useMemo7(() => {\n    const playPauseIconSize = ICON_SIZE;\n    const volumeIconSize = ICON_SIZE;\n    const _fullscreenIconSize = allowFullScreen ? fullscreenIconSize : 0;\n    const elementsSize = volumeIconSize + playPauseIconSize + _fullscreenIconSize + X_PADDING * 2 + X_SPACER * 2;\n    const maxTimeLabelWidth = playerWidth - elementsSize;\n    const maxTimeLabelWidthWithoutNegativeValue = Math.max(maxTimeLabelWidth, 0);\n    const availableTimeLabelWidthIfVolumeOpen = maxTimeLabelWidthWithoutNegativeValue - VOLUME_SLIDER_WIDTH;\n    const computedLabelWidth = availableTimeLabelWidthIfVolumeOpen < VOLUME_SLIDER_WIDTH ? maxTimeLabelWidthWithoutNegativeValue : availableTimeLabelWidthIfVolumeOpen;\n    const minWidthForHorizontalDisplay = computedLabelWidth + elementsSize + VOLUME_SLIDER_WIDTH;\n    const displayVerticalVolumeSlider = playerWidth < minWidthForHorizontalDisplay;\n    return {\n      maxTimeLabelWidth: maxTimeLabelWidthWithoutNegativeValue === 0 ? null : maxTimeLabelWidthWithoutNegativeValue,\n      displayVerticalVolumeSlider\n    };\n  }, [allowFullScreen, playerWidth]);\n  return resizeInfo;\n};\n\n// src/PlayerControls.tsx\nimport { jsx as jsx9, jsxs as jsxs7, Fragment as Fragment2 } from \"react/jsx-runtime\";\nvar gradientSteps = [\n  0,\n  0.013,\n  0.049,\n  0.104,\n  0.175,\n  0.259,\n  0.352,\n  0.45,\n  0.55,\n  0.648,\n  0.741,\n  0.825,\n  0.896,\n  0.951,\n  0.987\n];\nvar gradientOpacities = [\n  0,\n  8.1,\n  15.5,\n  22.5,\n  29,\n  35.3,\n  41.2,\n  47.1,\n  52.9,\n  58.8,\n  64.7,\n  71,\n  77.5,\n  84.5,\n  91.9\n];\nvar globalGradientOpacity = 1 / 0.7;\nvar containerStyle2 = {\n  boxSizing: \"border-box\",\n  position: \"absolute\",\n  bottom: 0,\n  width: \"100%\",\n  paddingTop: 40,\n  paddingBottom: 10,\n  backgroundImage: `linear-gradient(to bottom,${gradientSteps.map((g, i) => {\n    return `hsla(0, 0%, 0%, ${g}) ${gradientOpacities[i] * globalGradientOpacity}%`;\n  }).join(\", \")}, hsl(0, 0%, 0%) 100%)`,\n  backgroundSize: \"auto 145px\",\n  display: \"flex\",\n  paddingRight: X_PADDING,\n  paddingLeft: X_PADDING,\n  flexDirection: \"column\",\n  transition: \"opacity 0.3s\"\n};\nvar controlsRow = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  width: \"100%\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  userSelect: \"none\",\n  WebkitUserSelect: \"none\"\n};\nvar leftPartStyle = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  userSelect: \"none\",\n  WebkitUserSelect: \"none\",\n  alignItems: \"center\"\n};\nvar xSpacer = {\n  width: 12\n};\nvar ySpacer = {\n  height: 8\n};\nvar flex1 = {\n  flex: 1\n};\nvar fullscreen = {};\nvar Controls = ({\n  durationInFrames,\n  isFullscreen,\n  fps,\n  player,\n  showVolumeControls,\n  onFullscreenButtonClick,\n  allowFullscreen,\n  onExitFullscreenButtonClick,\n  spaceKeyToPlayOrPause,\n  onSeekEnd,\n  onSeekStart,\n  inFrame,\n  outFrame,\n  initiallyShowControls,\n  canvasSize,\n  renderPlayPauseButton,\n  renderFullscreenButton,\n  alwaysShowControls,\n  showPlaybackRateControl,\n  containerRef,\n  buffering,\n  hideControlsWhenPointerDoesntMove,\n  onPointerDown,\n  onDoubleClick,\n  renderMuteButton,\n  renderVolumeSlider\n}) => {\n  const playButtonRef = useRef7(null);\n  const frame = Internals9.Timeline.useTimelinePosition();\n  const [supportsFullscreen, setSupportsFullscreen] = useState10(false);\n  const hovered = useHoverState(containerRef, hideControlsWhenPointerDoesntMove);\n  const { maxTimeLabelWidth, displayVerticalVolumeSlider } = useVideoControlsResize({\n    allowFullscreen,\n    playerWidth: canvasSize?.width ?? 0\n  });\n  const [shouldShowInitially, setInitiallyShowControls] = useState10(() => {\n    if (typeof initiallyShowControls === \"boolean\") {\n      return initiallyShowControls;\n    }\n    if (typeof initiallyShowControls === \"number\") {\n      if (initiallyShowControls % 1 !== 0) {\n        throw new Error(\"initiallyShowControls must be an integer or a boolean\");\n      }\n      if (Number.isNaN(initiallyShowControls)) {\n        throw new Error(\"initiallyShowControls must not be NaN\");\n      }\n      if (!Number.isFinite(initiallyShowControls)) {\n        throw new Error(\"initiallyShowControls must be finite\");\n      }\n      if (initiallyShowControls <= 0) {\n        throw new Error(\"initiallyShowControls must be a positive integer\");\n      }\n      return initiallyShowControls;\n    }\n    throw new TypeError(\"initiallyShowControls must be a number or a boolean\");\n  });\n  const containerCss = useMemo8(() => {\n    const shouldShow = hovered || !player.playing || shouldShowInitially || alwaysShowControls;\n    return {\n      ...containerStyle2,\n      opacity: Number(shouldShow)\n    };\n  }, [hovered, shouldShowInitially, player.playing, alwaysShowControls]);\n  useEffect10(() => {\n    if (playButtonRef.current && spaceKeyToPlayOrPause) {\n      playButtonRef.current.focus({\n        preventScroll: true\n      });\n    }\n  }, [player.playing, spaceKeyToPlayOrPause]);\n  useEffect10(() => {\n    setSupportsFullscreen((typeof document !== \"undefined\" && (document.fullscreenEnabled || document.webkitFullscreenEnabled)) ?? false);\n  }, []);\n  useEffect10(() => {\n    if (shouldShowInitially === false) {\n      return;\n    }\n    const time = shouldShowInitially === true ? 2000 : shouldShowInitially;\n    const timeout = setTimeout(() => {\n      setInitiallyShowControls(false);\n    }, time);\n    return () => {\n      clearInterval(timeout);\n    };\n  }, [shouldShowInitially]);\n  const timeLabel = useMemo8(() => {\n    return {\n      color: \"white\",\n      fontFamily: \"sans-serif\",\n      fontSize: 14,\n      maxWidth: maxTimeLabelWidth === null ? undefined : maxTimeLabelWidth,\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\"\n    };\n  }, [maxTimeLabelWidth]);\n  const playbackRates = useMemo8(() => {\n    if (showPlaybackRateControl === true) {\n      return [0.5, 0.8, 1, 1.2, 1.5, 1.8, 2, 2.5, 3];\n    }\n    if (Array.isArray(showPlaybackRateControl)) {\n      for (const rate of showPlaybackRateControl) {\n        if (typeof rate !== \"number\") {\n          throw new Error(\"Every item in showPlaybackRateControl must be a number\");\n        }\n        if (rate <= 0) {\n          throw new Error(\"Every item in showPlaybackRateControl must be positive\");\n        }\n      }\n      return showPlaybackRateControl;\n    }\n    return null;\n  }, [showPlaybackRateControl]);\n  const ref = useRef7(null);\n  const flexRef = useRef7(null);\n  const onPointerDownIfContainer = useCallback7((e) => {\n    if (e.target === ref.current || e.target === flexRef.current) {\n      onPointerDown?.(e);\n    }\n  }, [onPointerDown]);\n  const onDoubleClickIfContainer = useCallback7((e) => {\n    if (e.target === ref.current || e.target === flexRef.current) {\n      onDoubleClick?.(e);\n    }\n  }, [onDoubleClick]);\n  return /* @__PURE__ */ jsxs7(\"div\", {\n    ref,\n    style: containerCss,\n    onPointerDown: onPointerDownIfContainer,\n    onDoubleClick: onDoubleClickIfContainer,\n    children: [\n      /* @__PURE__ */ jsxs7(\"div\", {\n        ref: flexRef,\n        style: controlsRow,\n        children: [\n          /* @__PURE__ */ jsxs7(\"div\", {\n            style: leftPartStyle,\n            children: [\n              /* @__PURE__ */ jsx9(\"button\", {\n                ref: playButtonRef,\n                type: \"button\",\n                style: playerButtonStyle,\n                onClick: player.playing ? player.pause : player.play,\n                \"aria-label\": player.playing ? \"Pause video\" : \"Play video\",\n                title: player.playing ? \"Pause video\" : \"Play video\",\n                children: renderPlayPauseButton === null ? /* @__PURE__ */ jsx9(DefaultPlayPauseButton, {\n                  buffering,\n                  playing: player.playing\n                }) : renderPlayPauseButton({\n                  playing: player.playing,\n                  isBuffering: buffering\n                }) ?? /* @__PURE__ */ jsx9(DefaultPlayPauseButton, {\n                  buffering,\n                  playing: player.playing\n                })\n              }),\n              showVolumeControls ? /* @__PURE__ */ jsxs7(Fragment2, {\n                children: [\n                  /* @__PURE__ */ jsx9(\"div\", {\n                    style: xSpacer\n                  }),\n                  /* @__PURE__ */ jsx9(MediaVolumeSlider, {\n                    renderMuteButton,\n                    renderVolumeSlider,\n                    displayVerticalVolumeSlider\n                  })\n                ]\n              }) : null,\n              /* @__PURE__ */ jsx9(\"div\", {\n                style: xSpacer\n              }),\n              /* @__PURE__ */ jsxs7(\"div\", {\n                style: timeLabel,\n                children: [\n                  formatTime(frame / fps),\n                  \" / \",\n                  formatTime(durationInFrames / fps)\n                ]\n              }),\n              /* @__PURE__ */ jsx9(\"div\", {\n                style: xSpacer\n              })\n            ]\n          }),\n          /* @__PURE__ */ jsx9(\"div\", {\n            style: flex1\n          }),\n          playbackRates && canvasSize && /* @__PURE__ */ jsx9(PlaybackrateControl, {\n            canvasSize,\n            playbackRates\n          }),\n          playbackRates && supportsFullscreen && allowFullscreen ? /* @__PURE__ */ jsx9(\"div\", {\n            style: xSpacer\n          }) : null,\n          /* @__PURE__ */ jsx9(\"div\", {\n            style: fullscreen,\n            children: supportsFullscreen && allowFullscreen ? /* @__PURE__ */ jsx9(\"button\", {\n              type: \"button\",\n              \"aria-label\": isFullscreen ? \"Exit fullscreen\" : \"Enter Fullscreen\",\n              title: isFullscreen ? \"Exit fullscreen\" : \"Enter Fullscreen\",\n              style: playerButtonStyle,\n              onClick: isFullscreen ? onExitFullscreenButtonClick : onFullscreenButtonClick,\n              children: renderFullscreenButton === null ? /* @__PURE__ */ jsx9(FullscreenIcon, {\n                isFullscreen\n              }) : renderFullscreenButton({ isFullscreen })\n            }) : null\n          })\n        ]\n      }),\n      /* @__PURE__ */ jsx9(\"div\", {\n        style: ySpacer\n      }),\n      /* @__PURE__ */ jsx9(PlayerSeekBar, {\n        onSeekEnd,\n        onSeekStart,\n        durationInFrames,\n        inFrame,\n        outFrame\n      })\n    ]\n  });\n};\n\n// src/error-boundary.tsx\nimport React7 from \"react\";\nimport { jsx as jsx10 } from \"react/jsx-runtime\";\nvar errorStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  flex: 1,\n  height: \"100%\",\n  width: \"100%\"\n};\n\nclass ErrorBoundary extends React7.Component {\n  state = { hasError: null };\n  static getDerivedStateFromError(error) {\n    return { hasError: error };\n  }\n  componentDidCatch(error) {\n    this.props.onError(error);\n  }\n  render() {\n    if (this.state.hasError) {\n      return /* @__PURE__ */ jsx10(\"div\", {\n        style: errorStyle,\n        children: this.props.errorFallback({\n          error: this.state.hasError\n        })\n      });\n    }\n    return this.props.children;\n  }\n}\n\n// src/player-css-classname.ts\nvar PLAYER_CSS_CLASSNAME = \"__remotion-player\";\n\n// src/utils/is-node.ts\nvar IS_NODE = typeof document === \"undefined\";\n\n// src/utils/use-click-prevention-on-double-click.ts\nimport { useCallback as useCallback9, useMemo as useMemo10 } from \"react\";\n\n// src/utils/cancellable-promise.ts\nvar cancellablePromise = (promise) => {\n  let isCanceled = false;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then((value) => {\n      if (isCanceled) {\n        reject({ isCanceled, value });\n        return;\n      }\n      resolve(value);\n    }).catch((error) => {\n      reject({ isCanceled, error });\n    });\n  });\n  return {\n    promise: wrappedPromise,\n    cancel: () => {\n      isCanceled = true;\n    }\n  };\n};\n\n// src/utils/delay.ts\nvar delay = (n) => new Promise((resolve) => setTimeout(resolve, n));\n\n// src/utils/use-cancellable-promises.ts\nimport { useCallback as useCallback8, useMemo as useMemo9, useRef as useRef8 } from \"react\";\nvar useCancellablePromises = () => {\n  const pendingPromises = useRef8([]);\n  const appendPendingPromise = useCallback8((promise) => {\n    pendingPromises.current = [...pendingPromises.current, promise];\n  }, []);\n  const removePendingPromise = useCallback8((promise) => {\n    pendingPromises.current = pendingPromises.current.filter((p) => p !== promise);\n  }, []);\n  const clearPendingPromises = useCallback8(() => pendingPromises.current.map((p) => p.cancel()), []);\n  const api = useMemo9(() => ({\n    appendPendingPromise,\n    removePendingPromise,\n    clearPendingPromises\n  }), [appendPendingPromise, clearPendingPromises, removePendingPromise]);\n  return api;\n};\n\n// src/utils/use-click-prevention-on-double-click.ts\nvar useClickPreventionOnDoubleClick = (onClick, onDoubleClick, doubleClickToFullscreen) => {\n  const api = useCancellablePromises();\n  const handleClick = useCallback9(async (e) => {\n    if (e instanceof PointerEvent ? e.pointerType === \"touch\" : e.nativeEvent.pointerType === \"touch\") {\n      onClick(e);\n      return;\n    }\n    api.clearPendingPromises();\n    const waitForClick = cancellablePromise(delay(200));\n    api.appendPendingPromise(waitForClick);\n    try {\n      await waitForClick.promise;\n      api.removePendingPromise(waitForClick);\n      onClick(e);\n    } catch (errorInfo) {\n      const info = errorInfo;\n      api.removePendingPromise(waitForClick);\n      if (!info.isCanceled) {\n        throw info.error;\n      }\n    }\n  }, [api, onClick]);\n  const handlePointerDown = useCallback9(() => {\n    document.addEventListener(\"pointerup\", (newEvt) => {\n      handleClick(newEvt);\n    }, {\n      once: true\n    });\n  }, [handleClick]);\n  const handleDoubleClick = useCallback9(() => {\n    api.clearPendingPromises();\n    onDoubleClick();\n  }, [api, onDoubleClick]);\n  const returnValue = useMemo10(() => {\n    if (!doubleClickToFullscreen) {\n      return { handlePointerDown: onClick, handleDoubleClick: () => {\n        return;\n      } };\n    }\n    return { handlePointerDown, handleDoubleClick };\n  }, [doubleClickToFullscreen, handleDoubleClick, handlePointerDown, onClick]);\n  return returnValue;\n};\n\n// src/PlayerUI.tsx\nimport { jsx as jsx11, jsxs as jsxs8, Fragment as Fragment3 } from \"react/jsx-runtime\";\nvar reactVersion = React8.version.split(\".\")[0];\nif (reactVersion === \"0\") {\n  throw new Error(`Version ${reactVersion} of \"react\" is not supported by Remotion`);\n}\nvar doesReactVersionSupportSuspense = parseInt(reactVersion, 10) >= 18;\nvar PlayerUI = ({\n  controls,\n  style,\n  loop,\n  autoPlay,\n  allowFullscreen,\n  inputProps,\n  clickToPlay,\n  showVolumeControls,\n  doubleClickToFullscreen,\n  spaceKeyToPlayOrPause,\n  errorFallback,\n  playbackRate,\n  renderLoading,\n  renderPoster,\n  className: className2,\n  moveToBeginningWhenEnded,\n  showPosterWhenUnplayed,\n  showPosterWhenEnded,\n  showPosterWhenPaused,\n  showPosterWhenBuffering,\n  inFrame,\n  outFrame,\n  initiallyShowControls,\n  renderFullscreen: renderFullscreenButton,\n  renderPlayPauseButton,\n  renderMuteButton,\n  renderVolumeSlider,\n  alwaysShowControls,\n  showPlaybackRateControl,\n  posterFillMode,\n  bufferStateDelayInMilliseconds,\n  hideControlsWhenPointerDoesntMove,\n  overflowVisible\n}, ref) => {\n  const config = Internals10.useUnsafeVideoConfig();\n  const video = Internals10.useVideo();\n  const container = useRef9(null);\n  const canvasSize = useElementSize(container, {\n    triggerOnWindowResize: false,\n    shouldApplyCssTransforms: false\n  });\n  const [hasPausedToResume, setHasPausedToResume] = useState11(false);\n  const [shouldAutoplay, setShouldAutoPlay] = useState11(autoPlay);\n  const [isFullscreen, setIsFullscreen] = useState11(() => false);\n  const [seeking, setSeeking] = useState11(false);\n  const supportsFullScreen = useMemo11(() => {\n    if (typeof document === \"undefined\") {\n      return false;\n    }\n    return Boolean(document.fullscreenEnabled || document.webkitFullscreenEnabled);\n  }, []);\n  const player = usePlayer();\n  usePlayback({\n    loop,\n    playbackRate,\n    moveToBeginningWhenEnded,\n    inFrame,\n    outFrame,\n    frameRef: player.remotionInternal_currentFrameRef\n  });\n  useEffect11(() => {\n    if (hasPausedToResume && !player.playing) {\n      setHasPausedToResume(false);\n      player.play();\n    }\n  }, [hasPausedToResume, player]);\n  useEffect11(() => {\n    const { current } = container;\n    if (!current) {\n      return;\n    }\n    const onFullscreenChange = () => {\n      const newValue = document.fullscreenElement === current || document.webkitFullscreenElement === current;\n      setIsFullscreen(newValue);\n    };\n    document.addEventListener(\"fullscreenchange\", onFullscreenChange);\n    document.addEventListener(\"webkitfullscreenchange\", onFullscreenChange);\n    return () => {\n      document.removeEventListener(\"fullscreenchange\", onFullscreenChange);\n      document.removeEventListener(\"webkitfullscreenchange\", onFullscreenChange);\n    };\n  }, []);\n  const toggle = useCallback10((e) => {\n    if (player.isPlaying()) {\n      player.pause();\n    } else {\n      player.play(e);\n    }\n  }, [player]);\n  const requestFullscreen = useCallback10(() => {\n    if (!allowFullscreen) {\n      throw new Error(\"allowFullscreen is false\");\n    }\n    if (!supportsFullScreen) {\n      throw new Error(\"Browser doesnt support fullscreen\");\n    }\n    if (!container.current) {\n      throw new Error(\"No player ref found\");\n    }\n    if (container.current.webkitRequestFullScreen) {\n      container.current.webkitRequestFullScreen();\n    } else {\n      container.current.requestFullscreen();\n    }\n  }, [allowFullscreen, supportsFullScreen]);\n  const exitFullscreen = useCallback10(() => {\n    if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  }, []);\n  useEffect11(() => {\n    const { current } = container;\n    if (!current) {\n      return;\n    }\n    const fullscreenChange = () => {\n      const element = document.webkitFullscreenElement ?? document.fullscreenElement;\n      if (element && element === container.current) {\n        player.emitter.dispatchFullscreenChange({\n          isFullscreen: true\n        });\n      } else {\n        player.emitter.dispatchFullscreenChange({\n          isFullscreen: false\n        });\n      }\n    };\n    current.addEventListener(\"webkitfullscreenchange\", fullscreenChange);\n    current.addEventListener(\"fullscreenchange\", fullscreenChange);\n    return () => {\n      current.removeEventListener(\"webkitfullscreenchange\", fullscreenChange);\n      current.removeEventListener(\"fullscreenchange\", fullscreenChange);\n    };\n  }, [player.emitter]);\n  const durationInFrames = config?.durationInFrames ?? 1;\n  const layout = useMemo11(() => {\n    if (!config || !canvasSize) {\n      return null;\n    }\n    return calculateCanvasTransformation({\n      canvasSize,\n      compositionHeight: config.height,\n      compositionWidth: config.width,\n      previewSize: \"auto\"\n    });\n  }, [canvasSize, config]);\n  const scale = layout?.scale ?? 1;\n  const initialScaleIgnored = useRef9(false);\n  useEffect11(() => {\n    if (!initialScaleIgnored.current) {\n      initialScaleIgnored.current = true;\n      return;\n    }\n    player.emitter.dispatchScaleChange(scale);\n  }, [player.emitter, scale]);\n  const { setMediaVolume, setMediaMuted } = useContext6(Internals10.SetMediaVolumeContext);\n  const { mediaMuted, mediaVolume } = useContext6(Internals10.MediaVolumeContext);\n  useEffect11(() => {\n    player.emitter.dispatchVolumeChange(mediaVolume);\n  }, [player.emitter, mediaVolume]);\n  const isMuted = mediaMuted || mediaVolume === 0;\n  useEffect11(() => {\n    player.emitter.dispatchMuteChange({\n      isMuted\n    });\n  }, [player.emitter, isMuted]);\n  const [showBufferIndicator, setShowBufferState] = useState11(false);\n  useEffect11(() => {\n    let timeout = null;\n    let stopped = false;\n    const onBuffer = () => {\n      stopped = false;\n      requestAnimationFrame(() => {\n        if (bufferStateDelayInMilliseconds === 0) {\n          setShowBufferState(true);\n        } else {\n          timeout = setTimeout(() => {\n            if (!stopped) {\n              setShowBufferState(true);\n            }\n          }, bufferStateDelayInMilliseconds);\n        }\n      });\n    };\n    const onResume = () => {\n      requestAnimationFrame(() => {\n        stopped = true;\n        setShowBufferState(false);\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n      });\n    };\n    player.emitter.addEventListener(\"waiting\", onBuffer);\n    player.emitter.addEventListener(\"resume\", onResume);\n    return () => {\n      player.emitter.removeEventListener(\"waiting\", onBuffer);\n      player.emitter.removeEventListener(\"resume\", onResume);\n      setShowBufferState(false);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      stopped = true;\n    };\n  }, [bufferStateDelayInMilliseconds, player.emitter]);\n  useImperativeHandle(ref, () => {\n    const methods = {\n      play: player.play,\n      pause: () => {\n        setHasPausedToResume(false);\n        player.pause();\n      },\n      toggle,\n      getContainerNode: () => container.current,\n      getCurrentFrame: player.getCurrentFrame,\n      isPlaying: player.isPlaying,\n      seekTo: (f) => {\n        const lastFrame = durationInFrames - 1;\n        const frameToSeekTo = Math.max(0, Math.min(lastFrame, f));\n        if (player.isPlaying()) {\n          const pauseToResume = frameToSeekTo !== lastFrame || loop;\n          setHasPausedToResume(pauseToResume);\n          player.pause();\n        }\n        if (frameToSeekTo === lastFrame && !loop) {\n          player.emitter.dispatchEnded();\n        }\n        player.seek(frameToSeekTo);\n      },\n      isFullscreen: () => {\n        const { current } = container;\n        if (!current) {\n          return false;\n        }\n        return document.fullscreenElement === current || document.webkitFullscreenElement === current;\n      },\n      requestFullscreen,\n      exitFullscreen,\n      getVolume: () => {\n        if (mediaMuted) {\n          return 0;\n        }\n        return mediaVolume;\n      },\n      setVolume: (vol) => {\n        if (typeof vol !== \"number\") {\n          throw new TypeError(`setVolume() takes a number, got value of type ${typeof vol}`);\n        }\n        if (isNaN(vol)) {\n          throw new TypeError(`setVolume() got a number that is NaN. Volume must be between 0 and 1.`);\n        }\n        if (vol < 0 || vol > 1) {\n          throw new TypeError(`setVolume() got a number that is out of range. Must be between 0 and 1, got ${typeof vol}`);\n        }\n        setMediaVolume(vol);\n      },\n      isMuted: () => isMuted,\n      mute: () => {\n        setMediaMuted(true);\n      },\n      unmute: () => {\n        setMediaMuted(false);\n      },\n      getScale: () => scale,\n      pauseAndReturnToPlayStart: () => {\n        player.pauseAndReturnToPlayStart();\n      }\n    };\n    return Object.assign(player.emitter, methods);\n  }, [\n    durationInFrames,\n    exitFullscreen,\n    loop,\n    mediaMuted,\n    isMuted,\n    mediaVolume,\n    player,\n    requestFullscreen,\n    setMediaMuted,\n    setMediaVolume,\n    toggle,\n    scale\n  ]);\n  const VideoComponent = video ? video.component : null;\n  const outerStyle = useMemo11(() => {\n    return calculateOuterStyle({\n      canvasSize,\n      config,\n      style,\n      overflowVisible,\n      layout\n    });\n  }, [canvasSize, config, layout, overflowVisible, style]);\n  const outer = useMemo11(() => {\n    return calculateOuter({ config, layout, scale, overflowVisible });\n  }, [config, layout, overflowVisible, scale]);\n  const containerStyle3 = useMemo11(() => {\n    return calculateContainerStyle({\n      canvasSize,\n      config,\n      layout,\n      scale,\n      overflowVisible\n    });\n  }, [canvasSize, config, layout, overflowVisible, scale]);\n  const onError = useCallback10((error) => {\n    player.pause();\n    player.emitter.dispatchError(error);\n  }, [player]);\n  const onFullscreenButtonClick = useCallback10((e) => {\n    e.stopPropagation();\n    requestFullscreen();\n  }, [requestFullscreen]);\n  const onExitFullscreenButtonClick = useCallback10((e) => {\n    e.stopPropagation();\n    exitFullscreen();\n  }, [exitFullscreen]);\n  const onSingleClick = useCallback10((e) => {\n    const rightClick = e instanceof MouseEvent ? e.button === 2 : e.nativeEvent.button;\n    if (rightClick) {\n      return;\n    }\n    toggle(e);\n  }, [toggle]);\n  const onSeekStart = useCallback10(() => {\n    setSeeking(true);\n  }, []);\n  const onSeekEnd = useCallback10(() => {\n    setSeeking(false);\n  }, []);\n  const onDoubleClick = useCallback10(() => {\n    if (isFullscreen) {\n      exitFullscreen();\n    } else {\n      requestFullscreen();\n    }\n  }, [exitFullscreen, isFullscreen, requestFullscreen]);\n  const { handlePointerDown, handleDoubleClick } = useClickPreventionOnDoubleClick(onSingleClick, onDoubleClick, doubleClickToFullscreen && allowFullscreen && supportsFullScreen);\n  useEffect11(() => {\n    if (shouldAutoplay) {\n      player.play();\n      setShouldAutoPlay(false);\n    }\n  }, [shouldAutoplay, player]);\n  const loadingMarkup = useMemo11(() => {\n    return renderLoading ? renderLoading({\n      height: outerStyle.height,\n      width: outerStyle.width,\n      isBuffering: showBufferIndicator\n    }) : null;\n  }, [outerStyle.height, outerStyle.width, renderLoading, showBufferIndicator]);\n  const currentScale = useMemo11(() => {\n    return {\n      type: \"scale\",\n      scale\n    };\n  }, [scale]);\n  if (!config) {\n    return null;\n  }\n  const poster = renderPoster ? renderPoster({\n    height: posterFillMode === \"player-size\" ? outerStyle.height : config.height,\n    width: posterFillMode === \"player-size\" ? outerStyle.width : config.width,\n    isBuffering: showBufferIndicator\n  }) : null;\n  if (poster === undefined) {\n    throw new TypeError(\"renderPoster() must return a React element, but undefined was returned\");\n  }\n  const shouldShowPoster = poster && [\n    showPosterWhenPaused && !player.isPlaying() && !seeking,\n    showPosterWhenEnded && player.isLastFrame && !player.isPlaying(),\n    showPosterWhenUnplayed && !player.hasPlayed && !player.isPlaying(),\n    showPosterWhenBuffering && showBufferIndicator && player.isPlaying()\n  ].some(Boolean);\n  const { left, top, width, height, ...outerWithoutScale } = outer;\n  const content = /* @__PURE__ */ jsxs8(Fragment3, {\n    children: [\n      /* @__PURE__ */ jsx11(\"div\", {\n        style: outer,\n        onPointerDown: clickToPlay ? handlePointerDown : undefined,\n        onDoubleClick: doubleClickToFullscreen ? handleDoubleClick : undefined,\n        children: /* @__PURE__ */ jsxs8(\"div\", {\n          style: containerStyle3,\n          className: PLAYER_CSS_CLASSNAME,\n          children: [\n            VideoComponent ? /* @__PURE__ */ jsx11(ErrorBoundary, {\n              onError,\n              errorFallback,\n              children: /* @__PURE__ */ jsx11(Internals10.ClipComposition, {\n                children: /* @__PURE__ */ jsx11(Internals10.CurrentScaleContext.Provider, {\n                  value: currentScale,\n                  children: /* @__PURE__ */ jsx11(VideoComponent, {\n                    ...video?.props ?? {},\n                    ...inputProps ?? {}\n                  })\n                })\n              })\n            }) : null,\n            shouldShowPoster && posterFillMode === \"composition-size\" ? /* @__PURE__ */ jsx11(\"div\", {\n              style: {\n                ...outerWithoutScale,\n                width: config.width,\n                height: config.height\n              },\n              onPointerDown: clickToPlay ? handlePointerDown : undefined,\n              onDoubleClick: doubleClickToFullscreen ? handleDoubleClick : undefined,\n              children: poster\n            }) : null\n          ]\n        })\n      }),\n      shouldShowPoster && posterFillMode === \"player-size\" ? /* @__PURE__ */ jsx11(\"div\", {\n        style: outer,\n        onPointerDown: clickToPlay ? handlePointerDown : undefined,\n        onDoubleClick: doubleClickToFullscreen ? handleDoubleClick : undefined,\n        children: poster\n      }) : null,\n      controls ? /* @__PURE__ */ jsx11(Controls, {\n        fps: config.fps,\n        durationInFrames: config.durationInFrames,\n        player,\n        containerRef: container,\n        onFullscreenButtonClick,\n        isFullscreen,\n        allowFullscreen,\n        showVolumeControls,\n        onExitFullscreenButtonClick,\n        spaceKeyToPlayOrPause,\n        onSeekEnd,\n        onSeekStart,\n        inFrame,\n        outFrame,\n        initiallyShowControls,\n        canvasSize,\n        renderFullscreenButton,\n        renderPlayPauseButton,\n        alwaysShowControls,\n        showPlaybackRateControl,\n        buffering: showBufferIndicator,\n        hideControlsWhenPointerDoesntMove,\n        onDoubleClick: doubleClickToFullscreen ? handleDoubleClick : undefined,\n        onPointerDown: clickToPlay ? handlePointerDown : undefined,\n        renderMuteButton,\n        renderVolumeSlider\n      }) : null\n    ]\n  });\n  if (IS_NODE && !doesReactVersionSupportSuspense) {\n    return /* @__PURE__ */ jsx11(\"div\", {\n      ref: container,\n      style: outerStyle,\n      className: className2,\n      children: content\n    });\n  }\n  return /* @__PURE__ */ jsx11(\"div\", {\n    ref: container,\n    style: outerStyle,\n    className: className2,\n    children: /* @__PURE__ */ jsx11(Suspense, {\n      fallback: loadingMarkup,\n      children: content\n    })\n  });\n};\nvar PlayerUI_default = forwardRef(PlayerUI);\n\n// src/SharedPlayerContext.tsx\nimport { useCallback as useCallback11, useMemo as useMemo12, useState as useState12 } from \"react\";\nimport { Internals as Internals11 } from \"remotion\";\n\n// src/volume-persistance.ts\nvar VOLUME_PERSISTANCE_KEY = \"remotion.volumePreference\";\nvar persistVolume = (volume) => {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  try {\n    window.localStorage.setItem(VOLUME_PERSISTANCE_KEY, String(volume));\n  } catch (e) {\n    console.log(\"Could not persist volume\", e);\n  }\n};\nvar getPreferredVolume = () => {\n  if (typeof window === \"undefined\") {\n    return 1;\n  }\n  try {\n    const val = window.localStorage.getItem(VOLUME_PERSISTANCE_KEY);\n    return val ? Number(val) : 1;\n  } catch (e) {\n    return 1;\n  }\n};\n\n// src/SharedPlayerContext.tsx\nimport { jsx as jsx12 } from \"react/jsx-runtime\";\nvar PLAYER_COMP_ID = \"player-comp\";\nvar SharedPlayerContexts = ({\n  children,\n  timelineContext,\n  fps,\n  compositionHeight,\n  compositionWidth,\n  durationInFrames,\n  component,\n  numberOfSharedAudioTags,\n  initiallyMuted\n}) => {\n  const compositionManagerContext = useMemo12(() => {\n    const context = {\n      compositions: [\n        {\n          component,\n          durationInFrames,\n          height: compositionHeight,\n          width: compositionWidth,\n          fps,\n          id: PLAYER_COMP_ID,\n          nonce: 777,\n          folderName: null,\n          parentFolderName: null,\n          schema: null,\n          calculateMetadata: null\n        }\n      ],\n      folders: [],\n      registerFolder: () => {\n        return;\n      },\n      unregisterFolder: () => {\n        return;\n      },\n      registerComposition: () => {\n        return;\n      },\n      unregisterComposition: () => {\n        return;\n      },\n      currentCompositionMetadata: null,\n      setCurrentCompositionMetadata: () => {\n        return;\n      },\n      canvasContent: { type: \"composition\", compositionId: \"player-comp\" },\n      setCanvasContent: () => {\n        return;\n      },\n      updateCompositionDefaultProps: () => {\n        return;\n      }\n    };\n    return context;\n  }, [component, durationInFrames, compositionHeight, compositionWidth, fps]);\n  const [mediaMuted, setMediaMuted] = useState12(() => initiallyMuted);\n  const [mediaVolume, setMediaVolume] = useState12(() => getPreferredVolume());\n  const mediaVolumeContextValue = useMemo12(() => {\n    return {\n      mediaMuted,\n      mediaVolume\n    };\n  }, [mediaMuted, mediaVolume]);\n  const setMediaVolumeAndPersist = useCallback11((vol) => {\n    setMediaVolume(vol);\n    persistVolume(vol);\n  }, []);\n  const setMediaVolumeContextValue = useMemo12(() => {\n    return {\n      setMediaMuted,\n      setMediaVolume: setMediaVolumeAndPersist\n    };\n  }, [setMediaVolumeAndPersist]);\n  return /* @__PURE__ */ jsx12(Internals11.CanUseRemotionHooksProvider, {\n    children: /* @__PURE__ */ jsx12(Internals11.Timeline.TimelineContext.Provider, {\n      value: timelineContext,\n      children: /* @__PURE__ */ jsx12(Internals11.CompositionManager.Provider, {\n        value: compositionManagerContext,\n        children: /* @__PURE__ */ jsx12(Internals11.ResolveCompositionConfig, {\n          children: /* @__PURE__ */ jsx12(Internals11.PrefetchProvider, {\n            children: /* @__PURE__ */ jsx12(Internals11.DurationsContextProvider, {\n              children: /* @__PURE__ */ jsx12(Internals11.MediaVolumeContext.Provider, {\n                value: mediaVolumeContextValue,\n                children: /* @__PURE__ */ jsx12(Internals11.NativeLayersProvider, {\n                  children: /* @__PURE__ */ jsx12(Internals11.SetMediaVolumeContext.Provider, {\n                    value: setMediaVolumeContextValue,\n                    children: /* @__PURE__ */ jsx12(Internals11.SharedAudioContextProvider, {\n                      numberOfAudioTags: numberOfSharedAudioTags,\n                      component,\n                      children: /* @__PURE__ */ jsx12(Internals11.BufferingProvider, {\n                        children\n                      })\n                    })\n                  })\n                })\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n};\n\n// src/utils/validate-in-out-frame.ts\nvar validateSingleFrame = (frame, variableName) => {\n  if (typeof frame === \"undefined\" || frame === null) {\n    return frame ?? null;\n  }\n  if (typeof frame !== \"number\") {\n    throw new TypeError(`\"${variableName}\" must be a number, but is ${JSON.stringify(frame)}`);\n  }\n  if (Number.isNaN(frame)) {\n    throw new TypeError(`\"${variableName}\" must not be NaN, but is ${JSON.stringify(frame)}`);\n  }\n  if (!Number.isFinite(frame)) {\n    throw new TypeError(`\"${variableName}\" must be finite, but is ${JSON.stringify(frame)}`);\n  }\n  if (frame % 1 !== 0) {\n    throw new TypeError(`\"${variableName}\" must be an integer, but is ${JSON.stringify(frame)}`);\n  }\n  return frame;\n};\nvar validateInOutFrames = ({\n  inFrame,\n  durationInFrames,\n  outFrame\n}) => {\n  const validatedInFrame = validateSingleFrame(inFrame, \"inFrame\");\n  const validatedOutFrame = validateSingleFrame(outFrame, \"outFrame\");\n  if (validatedInFrame === null && validatedOutFrame === null) {\n    return;\n  }\n  if (validatedInFrame !== null && validatedInFrame > durationInFrames - 1) {\n    throw new Error(\"inFrame must be less than (durationInFrames - 1), but is \" + validatedInFrame);\n  }\n  if (validatedOutFrame !== null && validatedOutFrame > durationInFrames - 1) {\n    throw new Error(\"outFrame must be less than (durationInFrames - 1), but is \" + validatedOutFrame);\n  }\n  if (validatedInFrame !== null && validatedInFrame < 0) {\n    throw new Error(\"inFrame must be greater than 0, but is \" + validatedInFrame);\n  }\n  if (validatedOutFrame !== null && validatedOutFrame <= 0) {\n    throw new Error(`outFrame must be greater than 0, but is ${validatedOutFrame}. If you want to render a single frame, use <Thumbnail /> instead.`);\n  }\n  if (validatedOutFrame !== null && validatedInFrame !== null && validatedOutFrame <= validatedInFrame) {\n    throw new Error(\"outFrame must be greater than inFrame, but is \" + validatedOutFrame + \" <= \" + validatedInFrame);\n  }\n};\n\n// src/utils/validate-initial-frame.ts\nvar validateInitialFrame = ({\n  initialFrame,\n  durationInFrames\n}) => {\n  if (typeof durationInFrames !== \"number\") {\n    throw new Error(`\\`durationInFrames\\` must be a number, but is ${JSON.stringify(durationInFrames)}`);\n  }\n  if (typeof initialFrame === \"undefined\") {\n    return;\n  }\n  if (typeof initialFrame !== \"number\") {\n    throw new Error(`\\`initialFrame\\` must be a number, but is ${JSON.stringify(initialFrame)}`);\n  }\n  if (Number.isNaN(initialFrame)) {\n    throw new Error(`\\`initialFrame\\` must be a number, but is NaN`);\n  }\n  if (!Number.isFinite(initialFrame)) {\n    throw new Error(`\\`initialFrame\\` must be a number, but is Infinity`);\n  }\n  if (initialFrame % 1 !== 0) {\n    throw new Error(`\\`initialFrame\\` must be an integer, but is ${JSON.stringify(initialFrame)}`);\n  }\n  if (initialFrame > durationInFrames - 1) {\n    throw new Error(`\\`initialFrame\\` must be less or equal than \\`durationInFrames - 1\\`, but is ${JSON.stringify(initialFrame)}`);\n  }\n};\n\n// src/utils/validate-playbackrate.ts\nvar validatePlaybackRate = (playbackRate) => {\n  if (playbackRate === undefined) {\n    return;\n  }\n  if (playbackRate > 4) {\n    throw new Error(`The highest possible playback rate is 4. You passed: ${playbackRate}`);\n  }\n  if (playbackRate < -4) {\n    throw new Error(`The lowest possible playback rate is -4. You passed: ${playbackRate}`);\n  }\n  if (playbackRate === 0) {\n    throw new Error(`A playback rate of 0 is not supported.`);\n  }\n};\n\n// src/validate.ts\nimport { NoReactInternals } from \"remotion/no-react\";\nvar validateFps = NoReactInternals.validateFps;\nvar validateDimension = NoReactInternals.validateDimension;\nvar validateDurationInFrames = NoReactInternals.validateDurationInFrames;\nvar validateDefaultAndInputProps = NoReactInternals.validateDefaultAndInputProps;\n\n// src/Player.tsx\nimport { jsx as jsx13 } from \"react/jsx-runtime\";\nvar componentOrNullIfLazy = (props) => {\n  if (\"component\" in props) {\n    return props.component;\n  }\n  return null;\n};\nvar PlayerFn = ({\n  durationInFrames,\n  compositionHeight,\n  compositionWidth,\n  fps,\n  inputProps,\n  style,\n  controls = false,\n  loop = false,\n  autoPlay = false,\n  showVolumeControls = true,\n  allowFullscreen = true,\n  clickToPlay,\n  doubleClickToFullscreen = false,\n  spaceKeyToPlayOrPause = true,\n  moveToBeginningWhenEnded = true,\n  numberOfSharedAudioTags = 5,\n  errorFallback = () => \"\\u26A0\\uFE0F\",\n  playbackRate = 1,\n  renderLoading,\n  className: className2,\n  showPosterWhenUnplayed,\n  showPosterWhenEnded,\n  showPosterWhenPaused,\n  showPosterWhenBuffering,\n  initialFrame,\n  renderPoster,\n  inFrame,\n  outFrame,\n  initiallyShowControls,\n  renderFullscreenButton,\n  renderPlayPauseButton,\n  renderVolumeSlider,\n  alwaysShowControls = false,\n  initiallyMuted = false,\n  showPlaybackRateControl = false,\n  posterFillMode = \"player-size\",\n  bufferStateDelayInMilliseconds,\n  hideControlsWhenPointerDoesntMove = true,\n  overflowVisible = false,\n  renderMuteButton,\n  ...componentProps\n}, ref) => {\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect(() => {\n      window.remotion_isPlayer = true;\n    }, []);\n  }\n  if (componentProps.defaultProps !== undefined) {\n    throw new Error(\"The <Player /> component does not accept `defaultProps`, but some were passed. Use `inputProps` instead.\");\n  }\n  const componentForValidation = componentOrNullIfLazy(componentProps);\n  if (componentForValidation?.type === Composition) {\n    throw new TypeError(`'component' should not be an instance of <Composition/>. Pass the React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.`);\n  }\n  if (componentForValidation === Composition) {\n    throw new TypeError(`'component' must not be the 'Composition' component. Pass your own React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.`);\n  }\n  const component = Internals12.useLazyComponent(componentProps);\n  validateInitialFrame({ initialFrame, durationInFrames });\n  const [frame, setFrame] = useState13(() => ({\n    [PLAYER_COMP_ID]: initialFrame ?? 0\n  }));\n  const [playing, setPlaying] = useState13(false);\n  const [rootId] = useState13(\"player-comp\");\n  const rootRef = useRef10(null);\n  const audioAndVideoTags = useRef10([]);\n  const imperativePlaying = useRef10(false);\n  const [currentPlaybackRate, setCurrentPlaybackRate] = useState13(playbackRate);\n  if (typeof compositionHeight !== \"number\") {\n    throw new TypeError(`'compositionHeight' must be a number but got '${typeof compositionHeight}' instead`);\n  }\n  if (typeof compositionWidth !== \"number\") {\n    throw new TypeError(`'compositionWidth' must be a number but got '${typeof compositionWidth}' instead`);\n  }\n  validateDimension(compositionHeight, \"compositionHeight\", \"of the <Player /> component\");\n  validateDimension(compositionWidth, \"compositionWidth\", \"of the <Player /> component\");\n  validateDurationInFrames(durationInFrames, {\n    component: \"of the <Player/> component\",\n    allowFloats: false\n  });\n  validateFps(fps, \"as a prop of the <Player/> component\", false);\n  validateDefaultAndInputProps(inputProps, \"inputProps\", null);\n  validateInOutFrames({\n    durationInFrames,\n    inFrame,\n    outFrame\n  });\n  if (typeof controls !== \"boolean\" && typeof controls !== \"undefined\") {\n    throw new TypeError(`'controls' must be a boolean or undefined but got '${typeof controls}' instead`);\n  }\n  if (typeof autoPlay !== \"boolean\" && typeof autoPlay !== \"undefined\") {\n    throw new TypeError(`'autoPlay' must be a boolean or undefined but got '${typeof autoPlay}' instead`);\n  }\n  if (typeof loop !== \"boolean\" && typeof loop !== \"undefined\") {\n    throw new TypeError(`'loop' must be a boolean or undefined but got '${typeof loop}' instead`);\n  }\n  if (typeof doubleClickToFullscreen !== \"boolean\" && typeof doubleClickToFullscreen !== \"undefined\") {\n    throw new TypeError(`'doubleClickToFullscreen' must be a boolean or undefined but got '${typeof doubleClickToFullscreen}' instead`);\n  }\n  if (typeof showVolumeControls !== \"boolean\" && typeof showVolumeControls !== \"undefined\") {\n    throw new TypeError(`'showVolumeControls' must be a boolean or undefined but got '${typeof showVolumeControls}' instead`);\n  }\n  if (typeof allowFullscreen !== \"boolean\" && typeof allowFullscreen !== \"undefined\") {\n    throw new TypeError(`'allowFullscreen' must be a boolean or undefined but got '${typeof allowFullscreen}' instead`);\n  }\n  if (typeof clickToPlay !== \"boolean\" && typeof clickToPlay !== \"undefined\") {\n    throw new TypeError(`'clickToPlay' must be a boolean or undefined but got '${typeof clickToPlay}' instead`);\n  }\n  if (typeof spaceKeyToPlayOrPause !== \"boolean\" && typeof spaceKeyToPlayOrPause !== \"undefined\") {\n    throw new TypeError(`'spaceKeyToPlayOrPause' must be a boolean or undefined but got '${typeof spaceKeyToPlayOrPause}' instead`);\n  }\n  if (typeof numberOfSharedAudioTags !== \"number\" || numberOfSharedAudioTags % 1 !== 0 || !Number.isFinite(numberOfSharedAudioTags) || Number.isNaN(numberOfSharedAudioTags) || numberOfSharedAudioTags < 0) {\n    throw new TypeError(`'numberOfSharedAudioTags' must be an integer but got '${numberOfSharedAudioTags}' instead`);\n  }\n  validatePlaybackRate(currentPlaybackRate);\n  useEffect12(() => {\n    setCurrentPlaybackRate(playbackRate);\n  }, [playbackRate]);\n  useImperativeHandle2(ref, () => rootRef.current, []);\n  const timelineContextValue = useMemo13(() => {\n    return {\n      frame,\n      playing,\n      rootId,\n      playbackRate: currentPlaybackRate,\n      imperativePlaying,\n      setPlaybackRate: (rate) => {\n        setCurrentPlaybackRate(rate);\n      },\n      audioAndVideoTags\n    };\n  }, [frame, currentPlaybackRate, playing, rootId]);\n  const setTimelineContextValue = useMemo13(() => {\n    return {\n      setFrame,\n      setPlaying\n    };\n  }, [setFrame]);\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect(() => {\n      Internals12.CSSUtils.injectCSS(Internals12.CSSUtils.makeDefaultPreviewCSS(`.${PLAYER_CSS_CLASSNAME}`, \"#fff\"));\n    }, []);\n  }\n  const actualInputProps = useMemo13(() => inputProps ?? {}, [inputProps]);\n  return /* @__PURE__ */ jsx13(Internals12.IsPlayerContextProvider, {\n    children: /* @__PURE__ */ jsx13(SharedPlayerContexts, {\n      timelineContext: timelineContextValue,\n      component,\n      compositionHeight,\n      compositionWidth,\n      durationInFrames,\n      fps,\n      numberOfSharedAudioTags,\n      initiallyMuted,\n      children: /* @__PURE__ */ jsx13(Internals12.Timeline.SetTimelineContext.Provider, {\n        value: setTimelineContextValue,\n        children: /* @__PURE__ */ jsx13(PlayerEmitterProvider, {\n          currentPlaybackRate,\n          children: /* @__PURE__ */ jsx13(PlayerUI_default, {\n            ref: rootRef,\n            posterFillMode,\n            renderLoading,\n            autoPlay: Boolean(autoPlay),\n            loop: Boolean(loop),\n            controls: Boolean(controls),\n            errorFallback,\n            style,\n            inputProps: actualInputProps,\n            allowFullscreen: Boolean(allowFullscreen),\n            moveToBeginningWhenEnded: Boolean(moveToBeginningWhenEnded),\n            clickToPlay: typeof clickToPlay === \"boolean\" ? clickToPlay : Boolean(controls),\n            showVolumeControls: Boolean(showVolumeControls),\n            doubleClickToFullscreen: Boolean(doubleClickToFullscreen),\n            spaceKeyToPlayOrPause: Boolean(spaceKeyToPlayOrPause),\n            playbackRate: currentPlaybackRate,\n            className: className2 ?? undefined,\n            showPosterWhenUnplayed: Boolean(showPosterWhenUnplayed),\n            showPosterWhenEnded: Boolean(showPosterWhenEnded),\n            showPosterWhenPaused: Boolean(showPosterWhenPaused),\n            showPosterWhenBuffering: Boolean(showPosterWhenBuffering),\n            renderPoster,\n            inFrame: inFrame ?? null,\n            outFrame: outFrame ?? null,\n            initiallyShowControls: initiallyShowControls ?? true,\n            renderFullscreen: renderFullscreenButton ?? null,\n            renderPlayPauseButton: renderPlayPauseButton ?? null,\n            renderMuteButton: renderMuteButton ?? null,\n            renderVolumeSlider: renderVolumeSlider ?? null,\n            alwaysShowControls,\n            showPlaybackRateControl,\n            bufferStateDelayInMilliseconds: bufferStateDelayInMilliseconds ?? 300,\n            hideControlsWhenPointerDoesntMove,\n            overflowVisible\n          })\n        })\n      })\n    })\n  });\n};\nvar forward = forwardRef2;\nvar Player = forward(PlayerFn);\n// src/Thumbnail.tsx\nimport {\n  forwardRef as forwardRef4,\n  useImperativeHandle as useImperativeHandle4,\n  useLayoutEffect as useLayoutEffect2,\n  useMemo as useMemo16,\n  useRef as useRef12,\n  useState as useState14\n} from \"react\";\nimport { Internals as Internals14, random as random2 } from \"remotion\";\n\n// src/ThumbnailUI.tsx\nimport React11, {\n  forwardRef as forwardRef3,\n  Suspense as Suspense2,\n  useCallback as useCallback12,\n  useImperativeHandle as useImperativeHandle3,\n  useMemo as useMemo15,\n  useRef as useRef11\n} from \"react\";\nimport { Internals as Internals13 } from \"remotion\";\n\n// src/use-thumbnail.ts\nimport { useContext as useContext7, useMemo as useMemo14 } from \"react\";\nvar useThumbnail = () => {\n  const emitter = useContext7(ThumbnailEmitterContext);\n  if (!emitter) {\n    throw new TypeError(\"Expected Player event emitter context\");\n  }\n  const returnValue = useMemo14(() => {\n    return {\n      emitter\n    };\n  }, [emitter]);\n  return returnValue;\n};\n\n// src/ThumbnailUI.tsx\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nvar reactVersion2 = React11.version.split(\".\")[0];\nif (reactVersion2 === \"0\") {\n  throw new Error(`Version ${reactVersion2} of \"react\" is not supported by Remotion`);\n}\nvar doesReactVersionSupportSuspense2 = parseInt(reactVersion2, 10) >= 18;\nvar ThumbnailUI = ({ style, inputProps, errorFallback, renderLoading, className: className2, overflowVisible }, ref) => {\n  const config = Internals13.useUnsafeVideoConfig();\n  const video = Internals13.useVideo();\n  const container = useRef11(null);\n  const canvasSize = useElementSize(container, {\n    triggerOnWindowResize: false,\n    shouldApplyCssTransforms: false\n  });\n  const layout = useMemo15(() => {\n    if (!config || !canvasSize) {\n      return null;\n    }\n    return calculateCanvasTransformation({\n      canvasSize,\n      compositionHeight: config.height,\n      compositionWidth: config.width,\n      previewSize: \"auto\"\n    });\n  }, [canvasSize, config]);\n  const scale = layout?.scale ?? 1;\n  const thumbnail = useThumbnail();\n  useBufferStateEmitter(thumbnail.emitter);\n  useImperativeHandle3(ref, () => {\n    const methods = {\n      getContainerNode: () => container.current,\n      getScale: () => scale\n    };\n    return Object.assign(thumbnail.emitter, methods);\n  }, [scale, thumbnail.emitter]);\n  const VideoComponent = video ? video.component : null;\n  const outerStyle = useMemo15(() => {\n    return calculateOuterStyle({\n      config,\n      style,\n      canvasSize,\n      overflowVisible,\n      layout\n    });\n  }, [canvasSize, config, layout, overflowVisible, style]);\n  const outer = useMemo15(() => {\n    return calculateOuter({ config, layout, scale, overflowVisible });\n  }, [config, layout, overflowVisible, scale]);\n  const containerStyle3 = useMemo15(() => {\n    return calculateContainerStyle({\n      canvasSize,\n      config,\n      layout,\n      scale,\n      overflowVisible\n    });\n  }, [canvasSize, config, layout, overflowVisible, scale]);\n  const onError = useCallback12((error) => {\n    thumbnail.emitter.dispatchError(error);\n  }, [thumbnail.emitter]);\n  const loadingMarkup = useMemo15(() => {\n    return renderLoading ? renderLoading({\n      height: outerStyle.height,\n      width: outerStyle.width,\n      isBuffering: false\n    }) : null;\n  }, [outerStyle.height, outerStyle.width, renderLoading]);\n  const currentScaleContext = useMemo15(() => {\n    return {\n      type: \"scale\",\n      scale\n    };\n  }, [scale]);\n  if (!config) {\n    return null;\n  }\n  const content = /* @__PURE__ */ jsx14(\"div\", {\n    style: outer,\n    children: /* @__PURE__ */ jsx14(\"div\", {\n      style: containerStyle3,\n      className: PLAYER_CSS_CLASSNAME,\n      children: VideoComponent ? /* @__PURE__ */ jsx14(ErrorBoundary, {\n        onError,\n        errorFallback,\n        children: /* @__PURE__ */ jsx14(Internals13.CurrentScaleContext.Provider, {\n          value: currentScaleContext,\n          children: /* @__PURE__ */ jsx14(VideoComponent, {\n            ...video?.props ?? {},\n            ...inputProps ?? {}\n          })\n        })\n      }) : null\n    })\n  });\n  if (IS_NODE && !doesReactVersionSupportSuspense2) {\n    return /* @__PURE__ */ jsx14(\"div\", {\n      ref: container,\n      style: outerStyle,\n      className: className2,\n      children: content\n    });\n  }\n  return /* @__PURE__ */ jsx14(\"div\", {\n    ref: container,\n    style: outerStyle,\n    className: className2,\n    children: /* @__PURE__ */ jsx14(Suspense2, {\n      fallback: loadingMarkup,\n      children: content\n    })\n  });\n};\nvar ThumbnailUI_default = forwardRef3(ThumbnailUI);\n\n// src/Thumbnail.tsx\nimport { jsx as jsx15 } from \"react/jsx-runtime\";\nvar ThumbnailFn = ({\n  frameToDisplay,\n  style,\n  inputProps,\n  compositionHeight,\n  compositionWidth,\n  durationInFrames,\n  fps,\n  className: className2,\n  errorFallback = () => \"\\u26A0\\uFE0F\",\n  renderLoading,\n  overflowVisible = false,\n  ...componentProps\n}, ref) => {\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect2(() => {\n      window.remotion_isPlayer = true;\n    }, []);\n  }\n  const [thumbnailId] = useState14(() => String(random2(null)));\n  const rootRef = useRef12(null);\n  const timelineState = useMemo16(() => {\n    const value = {\n      playing: false,\n      frame: {\n        [PLAYER_COMP_ID]: frameToDisplay\n      },\n      rootId: thumbnailId,\n      imperativePlaying: {\n        current: false\n      },\n      playbackRate: 1,\n      setPlaybackRate: () => {\n        throw new Error(\"thumbnail\");\n      },\n      audioAndVideoTags: { current: [] }\n    };\n    return value;\n  }, [frameToDisplay, thumbnailId]);\n  useImperativeHandle4(ref, () => rootRef.current, []);\n  const Component = Internals14.useLazyComponent(componentProps);\n  const [emitter] = useState14(() => new ThumbnailEmitter);\n  const passedInputProps = useMemo16(() => {\n    return inputProps ?? {};\n  }, [inputProps]);\n  return /* @__PURE__ */ jsx15(Internals14.IsPlayerContextProvider, {\n    children: /* @__PURE__ */ jsx15(SharedPlayerContexts, {\n      timelineContext: timelineState,\n      component: Component,\n      compositionHeight,\n      compositionWidth,\n      durationInFrames,\n      fps,\n      numberOfSharedAudioTags: 0,\n      initiallyMuted: true,\n      children: /* @__PURE__ */ jsx15(ThumbnailEmitterContext.Provider, {\n        value: emitter,\n        children: /* @__PURE__ */ jsx15(ThumbnailUI_default, {\n          ref: rootRef,\n          className: className2,\n          errorFallback,\n          inputProps: passedInputProps,\n          renderLoading,\n          style,\n          overflowVisible\n        })\n      })\n    })\n  });\n};\nvar forward2 = forwardRef4;\nvar Thumbnail = forward2(ThumbnailFn);\n\n// src/index.ts\nvar PlayerInternals = {\n  PlayerEventEmitterContext,\n  PlayerEmitter,\n  usePlayer,\n  usePlayback,\n  useElementSize,\n  calculateCanvasTransformation,\n  useHoverState,\n  updateAllElementsSizes,\n  PlayerEmitterProvider,\n  BufferingIndicator\n};\nexport {\n  Thumbnail,\n  PlayerInternals,\n  Player\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}